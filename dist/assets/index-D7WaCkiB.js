function Ev(s,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in s)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Ju(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function rp(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var r=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var a=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return s[i]}})}),r}var ru={exports:{}},ui={},su={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function kv(){if(Jh)return we;Jh=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function k(O,$,fe){this.props=O,this.context=$,this.refs=E,this.updater=fe||S}k.prototype.isReactComponent={},k.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function D(){}D.prototype=k.prototype;function N(O,$,fe){this.props=O,this.context=$,this.refs=E,this.updater=fe||S}var A=N.prototype=new D;A.constructor=N,P(A,k.prototype),A.isPureReactComponent=!0;var U=Array.isArray,H=Object.prototype.hasOwnProperty,M={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function Y(O,$,fe){var L,F={},V=null,se=null;if($!=null)for(L in $.ref!==void 0&&(se=$.ref),$.key!==void 0&&(V=""+$.key),$)H.call($,L)&&!K.hasOwnProperty(L)&&(F[L]=$[L]);var ae=arguments.length-2;if(ae===1)F.children=fe;else if(1<ae){for(var le=Array(ae),ie=0;ie<ae;ie++)le[ie]=arguments[ie+2];F.children=le}if(O&&O.defaultProps)for(L in ae=O.defaultProps,ae)F[L]===void 0&&(F[L]=ae[L]);return{$$typeof:s,type:O,key:V,ref:se,props:F,_owner:M.current}}function he(O,$){return{$$typeof:s,type:O.type,key:$,ref:O.ref,props:O.props,_owner:O._owner}}function _e(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function ye(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return $[fe]})}var Pe=/\/+/g;function ke(O,$){return typeof O=="object"&&O!==null&&O.key!=null?ye(""+O.key):$.toString(36)}function oe(O,$,fe,L,F){var V=typeof O;(V==="undefined"||V==="boolean")&&(O=null);var se=!1;if(O===null)se=!0;else switch(V){case"string":case"number":se=!0;break;case"object":switch(O.$$typeof){case s:case t:se=!0}}if(se)return se=O,F=F(se),O=L===""?"."+ke(se,0):L,U(F)?(fe="",O!=null&&(fe=O.replace(Pe,"$&/")+"/"),oe(F,$,fe,"",function(ie){return ie})):F!=null&&(_e(F)&&(F=he(F,fe+(!F.key||se&&se.key===F.key?"":(""+F.key).replace(Pe,"$&/")+"/")+O)),$.push(F)),1;if(se=0,L=L===""?".":L+":",U(O))for(var ae=0;ae<O.length;ae++){V=O[ae];var le=L+ke(V,ae);se+=oe(V,$,fe,le,F)}else if(le=_(O),typeof le=="function")for(O=le.call(O),ae=0;!(V=O.next()).done;)V=V.value,le=L+ke(V,ae++),se+=oe(V,$,fe,le,F);else if(V==="object")throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return se}function me(O,$,fe){if(O==null)return O;var L=[],F=0;return oe(O,L,"","",function(V){return $.call(fe,V,F++)}),L}function Se(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var ge={current:null},J={transition:null},te={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:J,ReactCurrentOwner:M};function G(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:me,forEach:function(O,$,fe){me(O,function(){$.apply(this,arguments)},fe)},count:function(O){var $=0;return me(O,function(){$++}),$},toArray:function(O){return me(O,function($){return $})||[]},only:function(O){if(!_e(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=k,we.Fragment=r,we.Profiler=a,we.PureComponent=N,we.StrictMode=i,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,we.act=G,we.cloneElement=function(O,$,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var L=P({},O.props),F=O.key,V=O.ref,se=O._owner;if($!=null){if($.ref!==void 0&&(V=$.ref,se=M.current),$.key!==void 0&&(F=""+$.key),O.type&&O.type.defaultProps)var ae=O.type.defaultProps;for(le in $)H.call($,le)&&!K.hasOwnProperty(le)&&(L[le]=$[le]===void 0&&ae!==void 0?ae[le]:$[le])}var le=arguments.length-2;if(le===1)L.children=fe;else if(1<le){ae=Array(le);for(var ie=0;ie<le;ie++)ae[ie]=arguments[ie+2];L.children=ae}return{$$typeof:s,type:O.type,key:F,ref:V,props:L,_owner:se}},we.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},we.createElement=Y,we.createFactory=function(O){var $=Y.bind(null,O);return $.type=O,$},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:h,render:O}},we.isValidElement=_e,we.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Se}},we.memo=function(O,$){return{$$typeof:m,type:O,compare:$===void 0?null:$}},we.startTransition=function(O){var $=J.transition;J.transition={};try{O()}finally{J.transition=$}},we.unstable_act=G,we.useCallback=function(O,$){return ge.current.useCallback(O,$)},we.useContext=function(O){return ge.current.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O){return ge.current.useDeferredValue(O)},we.useEffect=function(O,$){return ge.current.useEffect(O,$)},we.useId=function(){return ge.current.useId()},we.useImperativeHandle=function(O,$,fe){return ge.current.useImperativeHandle(O,$,fe)},we.useInsertionEffect=function(O,$){return ge.current.useInsertionEffect(O,$)},we.useLayoutEffect=function(O,$){return ge.current.useLayoutEffect(O,$)},we.useMemo=function(O,$){return ge.current.useMemo(O,$)},we.useReducer=function(O,$,fe){return ge.current.useReducer(O,$,fe)},we.useRef=function(O){return ge.current.useRef(O)},we.useState=function(O){return ge.current.useState(O)},we.useSyncExternalStore=function(O,$,fe){return ge.current.useSyncExternalStore(O,$,fe)},we.useTransition=function(){return ge.current.useTransition()},we.version="18.3.1",we}var Gh;function Gu(){return Gh||(Gh=1,su.exports=kv()),su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function Cv(){if(Qh)return ui;Qh=1;var s=Gu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var v,w={},_=null,S=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:h,key:_,ref:S,props:w,_owner:a.current}}return ui.Fragment=r,ui.jsx=c,ui.jsxs=c,ui}var Yh;function jv(){return Yh||(Yh=1,ru.exports=Cv()),ru.exports}var g=jv(),b=Gu();const pt=Ju(b),Pv=Ev({__proto__:null,default:pt},[b]);var Wo={},iu={exports:{}},Ct={},ou={exports:{}},au={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function Ov(){return Xh||(Xh=1,(function(s){function t(J,te){var G=J.length;J.push(te);e:for(;0<G;){var O=G-1>>>1,$=J[O];if(0<a($,te))J[O]=te,J[G]=$,G=O;else break e}}function r(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var te=J[0],G=J.pop();if(G!==te){J[0]=G;e:for(var O=0,$=J.length,fe=$>>>1;O<fe;){var L=2*(O+1)-1,F=J[L],V=L+1,se=J[V];if(0>a(F,G))V<$&&0>a(se,F)?(J[O]=se,J[V]=G,O=V):(J[O]=F,J[L]=G,O=L);else if(V<$&&0>a(se,G))J[O]=se,J[V]=G,O=V;else break e}}return te}function a(J,te){var G=J.sortIndex-te.sortIndex;return G!==0?G:J.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();s.unstable_now=function(){return c.now()-h}}var p=[],m=[],v=1,w=null,_=3,S=!1,P=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(J){for(var te=r(m);te!==null;){if(te.callback===null)i(m);else if(te.startTime<=J)i(m),te.sortIndex=te.expirationTime,t(p,te);else break;te=r(m)}}function U(J){if(E=!1,A(J),!P)if(r(p)!==null)P=!0,Se(H);else{var te=r(m);te!==null&&ge(U,te.startTime-J)}}function H(J,te){P=!1,E&&(E=!1,D(Y),Y=-1),S=!0;var G=_;try{for(A(te),w=r(p);w!==null&&(!(w.expirationTime>te)||J&&!ye());){var O=w.callback;if(typeof O=="function"){w.callback=null,_=w.priorityLevel;var $=O(w.expirationTime<=te);te=s.unstable_now(),typeof $=="function"?w.callback=$:w===r(p)&&i(p),A(te)}else i(p);w=r(p)}if(w!==null)var fe=!0;else{var L=r(m);L!==null&&ge(U,L.startTime-te),fe=!1}return fe}finally{w=null,_=G,S=!1}}var M=!1,K=null,Y=-1,he=5,_e=-1;function ye(){return!(s.unstable_now()-_e<he)}function Pe(){if(K!==null){var J=s.unstable_now();_e=J;var te=!0;try{te=K(!0,J)}finally{te?ke():(M=!1,K=null)}}else M=!1}var ke;if(typeof N=="function")ke=function(){N(Pe)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=Pe,ke=function(){me.postMessage(null)}}else ke=function(){k(Pe,0)};function Se(J){K=J,M||(M=!0,ke())}function ge(J,te){Y=k(function(){J(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){P||S||(P=!0,Se(H))},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return r(p)},s.unstable_next=function(J){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var G=_;_=te;try{return J()}finally{_=G}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,te){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=_;_=J;try{return te()}finally{_=G}},s.unstable_scheduleCallback=function(J,te,G){var O=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?O+G:O):G=O,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,J={id:v++,callback:te,priorityLevel:J,startTime:G,expirationTime:$,sortIndex:-1},G>O?(J.sortIndex=G,t(m,J),r(p)===null&&J===r(m)&&(E?(D(Y),Y=-1):E=!0,ge(U,G-O))):(J.sortIndex=$,t(p,J),P||S||(P=!0,Se(H))),J},s.unstable_shouldYield=ye,s.unstable_wrapCallback=function(J){var te=_;return function(){var G=_;_=te;try{return J.apply(this,arguments)}finally{_=G}}}})(au)),au}var Zh;function Tv(){return Zh||(Zh=1,ou.exports=Ov()),ou.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function Rv(){if(ef)return Ct;ef=1;var s=Gu(),t=Tv();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)i.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return p.call(w,e)?!0:p.call(v,e)?!1:m.test(e)?w[e]=!0:(v[e]=!0,!1)}function S(e,n,o,u){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,n,o,u){if(n===null||typeof n>"u"||S(e,n,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function E(e,n,o,u,d,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];k[n]=new E(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(D,N);k[n]=new E(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(D,N);k[n]=new E(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(D,N);k[n]=new E(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,n,o,u){var d=k.hasOwnProperty(n)?k[n]:null;(d!==null?d.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P(n,o,d,u)&&(o=null),u||d===null?_(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,u=d.attributeNamespace,o===null?e.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?e.setAttributeNS(u,n,o):e.setAttribute(n,o))))}var U=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),M=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),ye=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),J=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,O;function $(e){if(O===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||""}return`
`+O+e}var fe=!1;function L(e,n){if(!e||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var u=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){u=I}e.call(n.prototype)}else{try{throw Error()}catch(I){u=I}e()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var d=I.stack.split(`
`),f=u.stack.split(`
`),y=d.length-1,x=f.length-1;1<=y&&0<=x&&d[y]!==f[x];)x--;for(;1<=y&&0<=x;y--,x--)if(d[y]!==f[x]){if(y!==1||x!==1)do if(y--,x--,0>x||d[y]!==f[x]){var C=`
`+d[y].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=y&&0<=x);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?$(e):""}function F(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1),e;case 11:return e=L(e.type.render,!1),e;case 1:return e=L(e.type,!0),e;default:return""}}function V(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case M:return"Portal";case he:return"Profiler";case Y:return"StrictMode";case ke:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ye:return(e.displayName||"Context")+".Consumer";case _e:return(e._context.displayName||"Context")+".Provider";case Pe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return n=e.displayName||null,n!==null?n:V(e.type)||"Memo";case Se:n=e._payload,e=e._init;try{return V(e(n))}catch{}}return null}function se(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(n);case 8:return n===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ie(e){var n=le(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function je(e){e._valueTracker||(e._valueTracker=ie(e))}function et(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return e&&(u=le(e)?e.checked?"true":"false":e.value),e=u,e!==o?(n.setValue(e),!0):!1}function tt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pt(e,n){var o=n.checked;return G({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function yn(e,n){var o=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;o=ae(n.value!=null?n.value:o),e._wrapperState={initialChecked:u,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function wn(e,n){n=n.checked,n!=null&&A(e,"checked",n,!1)}function Tr(e,n){wn(e,n);var o=ae(n.value),u=n.type;if(o!=null)u==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?lr(e,n.type,o):n.hasOwnProperty("defaultValue")&&lr(e,n.type,ae(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function xs(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function lr(e,n,o){(n!=="number"||tt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var yt=Array.isArray;function Ht(e,n,o,u){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&u&&(e[o].defaultSelected=!0)}else{for(o=""+ae(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,u&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bs(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(yt(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:ae(o)}}function Es(e,n){var o=ae(n.value),u=ae(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),u!=null&&(e.defaultValue=""+u)}function Ni(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ai(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function un(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ai(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kt,An=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,u,d){MSApp.execUnsafeLocalFunction(function(){return e(n,o,u,d)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function In(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ii=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(e){Ii.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),wt[n]=wt[e]})});function Di(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||wt.hasOwnProperty(e)&&wt[e]?(""+n).trim():n+"px"}function Li(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=Di(o,n[o],u);o==="float"&&(o="cssFloat"),u?e.setProperty(o,d):e[o]=d}}var ks=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rr(e,n){if(n){if(ks[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Cs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Dn=null,Ie=null;function it(e){if(e=Js(e)){if(typeof Ps!="function")throw Error(r(280));var n=e.stateNode;n&&(n=ro(n),Ps(e.stateNode,e.type,n))}}function ot(e){Dn?Ie?Ie.push(e):Ie=[e]:Dn=e}function Jt(){if(Dn){var e=Dn,n=Ie;if(Ie=Dn=null,it(e),n)for(e=0;e<n.length;e++)it(n[e])}}function mt(e,n){return e(n)}function at(){}var _t=!1;function _n(e,n,o){if(_t)return e(n,o);_t=!0;try{return mt(e,n,o)}finally{_t=!1,(Dn!==null||Ie!==null)&&(at(),Jt())}}function De(e,n){var o=e.stateNode;if(o===null)return null;var u=ro(o);if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var $t=!1;if(h)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{$t=!1}function Gt(e,n,o,u,d,f,y,x,C){var I=Array.prototype.slice.call(arguments,3);try{n.apply(o,I)}catch(z){this.onError(z)}}var Qt=!1,cn=null,Ot=!1,Sn=null,Os={onError:function(e){Qt=!0,cn=e}};function Nm(e,n,o,u,d,f,y,x,C){Qt=!1,cn=null,Gt.apply(Os,arguments)}function Am(e,n,o,u,d,f,y,x,C){if(Nm.apply(this,arguments),Qt){if(Qt){var I=cn;Qt=!1,cn=null}else throw Error(r(198));Ot||(Ot=!0,Sn=I)}}function ur(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function vc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function yc(e){if(ur(e)!==e)throw Error(r(188))}function Im(e){var n=e.alternate;if(!n){if(n=ur(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,u=n;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return yc(d),e;if(f===u)return yc(d),n;f=f.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=f;else{for(var y=!1,x=d.child;x;){if(x===o){y=!0,o=d,u=f;break}if(x===u){y=!0,u=d,o=f;break}x=x.sibling}if(!y){for(x=f.child;x;){if(x===o){y=!0,o=f,u=d;break}if(x===u){y=!0,u=f,o=d;break}x=x.sibling}if(!y)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function wc(e){return e=Im(e),e!==null?_c(e):null}function _c(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=_c(e);if(n!==null)return n;e=e.sibling}return null}var Sc=t.unstable_scheduleCallback,xc=t.unstable_cancelCallback,Dm=t.unstable_shouldYield,Lm=t.unstable_requestPaint,Fe=t.unstable_now,$m=t.unstable_getCurrentPriorityLevel,ba=t.unstable_ImmediatePriority,bc=t.unstable_UserBlockingPriority,$i=t.unstable_NormalPriority,Um=t.unstable_LowPriority,Ec=t.unstable_IdlePriority,Ui=null,dn=null;function Mm(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Fm,Bm=Math.log,zm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Bm(e)/zm|0)|0}var Mi=64,Bi=4194304;function Ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zi(e,n){var o=e.pendingLanes;if(o===0)return 0;var u=0,d=e.suspendedLanes,f=e.pingedLanes,y=o&268435455;if(y!==0){var x=y&~d;x!==0?u=Ts(x):(f&=y,f!==0&&(u=Ts(f)))}else y=o&~d,y!==0?u=Ts(y):f!==0&&(u=Ts(f));if(u===0)return 0;if(n!==0&&n!==u&&(n&d)===0&&(d=u&-u,f=n&-n,d>=f||d===16&&(f&4194240)!==0))return n;if((u&4)!==0&&(u|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)o=31-Yt(n),d=1<<o,u|=e[o],n&=~d;return u}function Wm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,n){for(var o=e.suspendedLanes,u=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Yt(f),x=1<<y,C=d[y];C===-1?((x&o)===0||(x&u)!==0)&&(d[y]=Wm(x,n)):C<=n&&(e.expiredLanes|=x),f&=~x}}function Ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kc(){var e=Mi;return Mi<<=1,(Mi&4194240)===0&&(Mi=64),e}function ka(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Rs(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Yt(n),e[n]=o}function qm(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-Yt(o),f=1<<d;n[d]=0,u[d]=-1,e[d]=-1,o&=~f}}function Ca(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var u=31-Yt(o),d=1<<u;d&n|e[u]&n&&(e[u]|=n),o&=~d}}var Ce=0;function Cc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var jc,ja,Pc,Oc,Tc,Pa=!1,Fi=[],Ln=null,$n=null,Un=null,Ns=new Map,As=new Map,Mn=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,n){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Ns.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(n.pointerId)}}function Is(e,n,o,u,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},n!==null&&(n=Js(n),n!==null&&ja(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Km(e,n,o,u,d){switch(n){case"focusin":return Ln=Is(Ln,e,n,o,u,d),!0;case"dragenter":return $n=Is($n,e,n,o,u,d),!0;case"mouseover":return Un=Is(Un,e,n,o,u,d),!0;case"pointerover":var f=d.pointerId;return Ns.set(f,Is(Ns.get(f)||null,e,n,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,As.set(f,Is(As.get(f)||null,e,n,o,u,d)),!0}return!1}function Nc(e){var n=cr(e.target);if(n!==null){var o=ur(n);if(o!==null){if(n=o.tag,n===13){if(n=vc(o),n!==null){e.blockedOn=n,Tc(e.priority,function(){Pc(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ta(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);Nr=u,o.target.dispatchEvent(u),Nr=null}else return n=Js(o),n!==null&&ja(n),e.blockedOn=o,!1;n.shift()}return!0}function Ac(e,n,o){Wi(e)&&o.delete(n)}function Jm(){Pa=!1,Ln!==null&&Wi(Ln)&&(Ln=null),$n!==null&&Wi($n)&&($n=null),Un!==null&&Wi(Un)&&(Un=null),Ns.forEach(Ac),As.forEach(Ac)}function Ds(e,n){e.blockedOn===n&&(e.blockedOn=null,Pa||(Pa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jm)))}function Ls(e){function n(d){return Ds(d,e)}if(0<Fi.length){Ds(Fi[0],e);for(var o=1;o<Fi.length;o++){var u=Fi[o];u.blockedOn===e&&(u.blockedOn=null)}}for(Ln!==null&&Ds(Ln,e),$n!==null&&Ds($n,e),Un!==null&&Ds(Un,e),Ns.forEach(n),As.forEach(n),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===e&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Nc(o),o.blockedOn===null&&Mn.shift()}var Ar=U.ReactCurrentBatchConfig,Vi=!0;function Gm(e,n,o,u){var d=Ce,f=Ar.transition;Ar.transition=null;try{Ce=1,Oa(e,n,o,u)}finally{Ce=d,Ar.transition=f}}function Qm(e,n,o,u){var d=Ce,f=Ar.transition;Ar.transition=null;try{Ce=4,Oa(e,n,o,u)}finally{Ce=d,Ar.transition=f}}function Oa(e,n,o,u){if(Vi){var d=Ta(e,n,o,u);if(d===null)Ka(e,n,u,qi,o),Rc(e,u);else if(Km(d,e,n,o,u))u.stopPropagation();else if(Rc(e,u),n&4&&-1<Hm.indexOf(e)){for(;d!==null;){var f=Js(d);if(f!==null&&jc(f),f=Ta(e,n,o,u),f===null&&Ka(e,n,u,qi,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else Ka(e,n,u,null,o)}}var qi=null;function Ta(e,n,o,u){if(qi=null,e=js(u),e=cr(e),e!==null)if(n=ur(e),n===null)e=null;else if(o=n.tag,o===13){if(e=vc(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return qi=e,null}function Ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case ba:return 1;case bc:return 4;case $i:case Um:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var Bn=null,Ra=null,Hi=null;function Dc(){if(Hi)return Hi;var e,n=Ra,o=n.length,u,d="value"in Bn?Bn.value:Bn.textContent,f=d.length;for(e=0;e<o&&n[e]===d[e];e++);var y=o-e;for(u=1;u<=y&&n[o-u]===d[f-u];u++);return Hi=d.slice(e,1<u?1-u:void 0)}function Ki(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Lc(){return!1}function Tt(e){function n(o,u,d,f,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:Lc,this.isPropagationStopped=Lc,this}return G(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Tt(Ir),$s=G({},Ir,{view:0,detail:0}),Ym=Tt($s),Aa,Ia,Us,Gi=G({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Aa=e.screenX-Us.screenX,Ia=e.screenY-Us.screenY):Ia=Aa=0,Us=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Ia}}),$c=Tt(Gi),Xm=G({},Gi,{dataTransfer:0}),Zm=Tt(Xm),eg=G({},$s,{relatedTarget:0}),Da=Tt(eg),tg=G({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=Tt(tg),rg=G({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=Tt(rg),ig=G({},Ir,{data:0}),Uc=Tt(ig),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lg[e])?!!n[e]:!1}function La(){return ug}var cg=G({},$s,{key:function(e){if(e.key){var n=og[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=Tt(cg),hg=G({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=Tt(hg),fg=G({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),pg=Tt(fg),mg=G({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=Tt(mg),vg=G({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=Tt(vg),wg=[9,13,27,32],$a=h&&"CompositionEvent"in window,Ms=null;h&&"documentMode"in document&&(Ms=document.documentMode);var _g=h&&"TextEvent"in window&&!Ms,Bc=h&&(!$a||Ms&&8<Ms&&11>=Ms),zc=" ",Fc=!1;function Wc(e,n){switch(e){case"keyup":return wg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Sg(e,n){switch(e){case"compositionend":return Vc(n);case"keypress":return n.which!==32?null:(Fc=!0,zc);case"textInput":return e=n.data,e===zc&&Fc?null:e;default:return null}}function xg(e,n){if(Dr)return e==="compositionend"||!$a&&Wc(e,n)?(e=Dc(),Hi=Ra=Bn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bc&&n.locale!=="ko"?null:n.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!bg[e.type]:n==="textarea"}function Hc(e,n,o,u){ot(u),n=eo(n,"onChange"),0<n.length&&(o=new Na("onChange","change",null,o,u),e.push({event:o,listeners:n}))}var Bs=null,zs=null;function Eg(e){cd(e,0)}function Qi(e){var n=Br(e);if(et(n))return e}function kg(e,n){if(e==="change")return n}var Kc=!1;if(h){var Ua;if(h){var Ma="oninput"in document;if(!Ma){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Ma=typeof Jc.oninput=="function"}Ua=Ma}else Ua=!1;Kc=Ua&&(!document.documentMode||9<document.documentMode)}function Gc(){Bs&&(Bs.detachEvent("onpropertychange",Qc),zs=Bs=null)}function Qc(e){if(e.propertyName==="value"&&Qi(zs)){var n=[];Hc(n,zs,e,js(e)),_n(Eg,n)}}function Cg(e,n,o){e==="focusin"?(Gc(),Bs=n,zs=o,Bs.attachEvent("onpropertychange",Qc)):e==="focusout"&&Gc()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(zs)}function Pg(e,n){if(e==="click")return Qi(n)}function Og(e,n){if(e==="input"||e==="change")return Qi(n)}function Tg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xt=typeof Object.is=="function"?Object.is:Tg;function Fs(e,n){if(Xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!p.call(n,d)||!Xt(e[d],n[d]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,n){var o=Yc(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=n&&u>=n)return{node:o,offset:n-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yc(o)}}function Zc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ed(){for(var e=window,n=tt();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=tt(e.document)}return n}function Ba(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Rg(e){var n=ed(),o=e.focusedElem,u=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Zc(o.ownerDocument.documentElement,o)){if(u!==null&&Ba(o)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!e.extend&&f>u&&(d=u,u=f,f=d),d=Xc(o,f);var y=Xc(o,u);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),f>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ng=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,za=null,Ws=null,Fa=!1;function td(e,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fa||Lr==null||Lr!==tt(u)||(u=Lr,"selectionStart"in u&&Ba(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ws&&Fs(Ws,u)||(Ws=u,u=eo(za,"onSelect"),0<u.length&&(n=new Na("onSelect","select",null,n,o),e.push({event:n,listeners:u}),n.target=Lr)))}function Yi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var $r={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Wa={},nd={};h&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Xi(e){if(Wa[e])return Wa[e];if(!$r[e])return e;var n=$r[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in nd)return Wa[e]=n[o];return e}var rd=Xi("animationend"),sd=Xi("animationiteration"),id=Xi("animationstart"),od=Xi("transitionend"),ad=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,n){ad.set(e,n),l(n,[e])}for(var Va=0;Va<ld.length;Va++){var qa=ld[Va],Ag=qa.toLowerCase(),Ig=qa[0].toUpperCase()+qa.slice(1);zn(Ag,"on"+Ig)}zn(rd,"onAnimationEnd"),zn(sd,"onAnimationIteration"),zn(id,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(od,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function ud(e,n,o){var u=e.type||"unknown-event";e.currentTarget=o,Am(u,n,void 0,e),e.currentTarget=null}function cd(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],d=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var y=u.length-1;0<=y;y--){var x=u[y],C=x.instance,I=x.currentTarget;if(x=x.listener,C!==f&&d.isPropagationStopped())break e;ud(d,x,I),f=C}else for(y=0;y<u.length;y++){if(x=u[y],C=x.instance,I=x.currentTarget,x=x.listener,C!==f&&d.isPropagationStopped())break e;ud(d,x,I),f=C}}}if(Ot)throw e=Sn,Ot=!1,Sn=null,e}function Re(e,n){var o=n[Za];o===void 0&&(o=n[Za]=new Set);var u=e+"__bubble";o.has(u)||(dd(n,e,2,!1),o.add(u))}function Ha(e,n,o){var u=0;n&&(u|=4),dd(o,e,u,n)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Zi]){e[Zi]=!0,i.forEach(function(o){o!=="selectionchange"&&(Dg.has(o)||Ha(o,!1,e),Ha(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zi]||(n[Zi]=!0,Ha("selectionchange",!1,n))}}function dd(e,n,o,u){switch(Ic(n)){case 1:var d=Gm;break;case 4:d=Qm;break;default:d=Oa}o=d.bind(null,n,o,e),d=void 0,!$t||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),u?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Ka(e,n,o,u,d){var f=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var x=u.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(y===4)for(y=u.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;y=y.return}for(;x!==null;){if(y=cr(x),y===null)return;if(C=y.tag,C===5||C===6){u=f=y;continue e}x=x.parentNode}}u=u.return}_n(function(){var I=f,z=js(o),W=[];e:{var B=ad.get(e);if(B!==void 0){var Q=Na,Z=e;switch(e){case"keypress":if(Ki(o)===0)break e;case"keydown":case"keyup":Q=dg;break;case"focusin":Z="focus",Q=Da;break;case"focusout":Z="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pg;break;case rd:case sd:case id:Q=ng;break;case od:Q=gg;break;case"scroll":Q=Ym;break;case"wheel":Q=yg;break;case"copy":case"cut":case"paste":Q=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Mc}var ee=(n&4)!==0,We=!ee&&e==="scroll",T=ee?B!==null?B+"Capture":null:B;ee=[];for(var j=I,R;j!==null;){R=j;var q=R.stateNode;if(R.tag===5&&q!==null&&(R=q,T!==null&&(q=De(j,T),q!=null&&ee.push(Hs(j,q,R)))),We)break;j=j.return}0<ee.length&&(B=new Q(B,Z,null,o,z),W.push({event:B,listeners:ee}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",B&&o!==Nr&&(Z=o.relatedTarget||o.fromElement)&&(cr(Z)||Z[xn]))break e;if((Q||B)&&(B=z.window===z?z:(B=z.ownerDocument)?B.defaultView||B.parentWindow:window,Q?(Z=o.relatedTarget||o.toElement,Q=I,Z=Z?cr(Z):null,Z!==null&&(We=ur(Z),Z!==We||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(Q=null,Z=I),Q!==Z)){if(ee=$c,q="onMouseLeave",T="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Mc,q="onPointerLeave",T="onPointerEnter",j="pointer"),We=Q==null?B:Br(Q),R=Z==null?B:Br(Z),B=new ee(q,j+"leave",Q,o,z),B.target=We,B.relatedTarget=R,q=null,cr(z)===I&&(ee=new ee(T,j+"enter",Z,o,z),ee.target=R,ee.relatedTarget=We,q=ee),We=q,Q&&Z)t:{for(ee=Q,T=Z,j=0,R=ee;R;R=Ur(R))j++;for(R=0,q=T;q;q=Ur(q))R++;for(;0<j-R;)ee=Ur(ee),j--;for(;0<R-j;)T=Ur(T),R--;for(;j--;){if(ee===T||T!==null&&ee===T.alternate)break t;ee=Ur(ee),T=Ur(T)}ee=null}else ee=null;Q!==null&&hd(W,B,Q,ee,!1),Z!==null&&We!==null&&hd(W,We,Z,ee,!0)}}e:{if(B=I?Br(I):window,Q=B.nodeName&&B.nodeName.toLowerCase(),Q==="select"||Q==="input"&&B.type==="file")var re=kg;else if(qc(B))if(Kc)re=Og;else{re=jg;var ue=Cg}else(Q=B.nodeName)&&Q.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(re=Pg);if(re&&(re=re(e,I))){Hc(W,re,o,z);break e}ue&&ue(e,B,I),e==="focusout"&&(ue=B._wrapperState)&&ue.controlled&&B.type==="number"&&lr(B,"number",B.value)}switch(ue=I?Br(I):window,e){case"focusin":(qc(ue)||ue.contentEditable==="true")&&(Lr=ue,za=I,Ws=null);break;case"focusout":Ws=za=Lr=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,td(W,o,z);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":td(W,o,z)}var ce;if($a)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Dr?Wc(e,o)&&(pe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Bc&&o.locale!=="ko"&&(Dr||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Dr&&(ce=Dc()):(Bn=z,Ra="value"in Bn?Bn.value:Bn.textContent,Dr=!0)),ue=eo(I,pe),0<ue.length&&(pe=new Uc(pe,e,null,o,z),W.push({event:pe,listeners:ue}),ce?pe.data=ce:(ce=Vc(o),ce!==null&&(pe.data=ce)))),(ce=_g?Sg(e,o):xg(e,o))&&(I=eo(I,"onBeforeInput"),0<I.length&&(z=new Uc("onBeforeInput","beforeinput",null,o,z),W.push({event:z,listeners:I}),z.data=ce))}cd(W,n)})}function Hs(e,n,o){return{instance:e,listener:n,currentTarget:o}}function eo(e,n){for(var o=n+"Capture",u=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=De(e,o),f!=null&&u.unshift(Hs(e,f,d)),f=De(e,n),f!=null&&u.push(Hs(e,f,d))),e=e.return}return u}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hd(e,n,o,u,d){for(var f=n._reactName,y=[];o!==null&&o!==u;){var x=o,C=x.alternate,I=x.stateNode;if(C!==null&&C===u)break;x.tag===5&&I!==null&&(x=I,d?(C=De(o,f),C!=null&&y.unshift(Hs(o,C,x))):d||(C=De(o,f),C!=null&&y.push(Hs(o,C,x)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var Lg=/\r\n?/g,$g=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace($g,"")}function to(e,n,o){if(n=fd(n),fd(e)!==n&&o)throw Error(r(425))}function no(){}var Ja=null,Ga=null;function Qa(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,pd=typeof Promise=="function"?Promise:void 0,Mg=typeof queueMicrotask=="function"?queueMicrotask:typeof pd<"u"?function(e){return pd.resolve(null).then(e).catch(Bg)}:Ya;function Bg(e){setTimeout(function(){throw e})}function Xa(e,n){var o=n,u=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){e.removeChild(d),Ls(n);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Ls(n)}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function md(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Mr,Ks="__reactProps$"+Mr,xn="__reactContainer$"+Mr,Za="__reactEvents$"+Mr,zg="__reactListeners$"+Mr,Fg="__reactHandles$"+Mr;function cr(e){var n=e[hn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[xn]||o[hn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=md(e);e!==null;){if(o=e[hn])return o;e=md(e)}return n}e=o,o=e.parentNode}return null}function Js(e){return e=e[hn]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function ro(e){return e[Ks]||null}var el=[],zr=-1;function Wn(e){return{current:e}}function Ne(e){0>zr||(e.current=el[zr],el[zr]=null,zr--)}function Oe(e,n){zr++,el[zr]=e.current,e.current=n}var Vn={},ut=Wn(Vn),St=Wn(!1),dr=Vn;function Fr(e,n){var o=e.type.contextTypes;if(!o)return Vn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=n[f];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function xt(e){return e=e.childContextTypes,e!=null}function so(){Ne(St),Ne(ut)}function gd(e,n,o){if(ut.current!==Vn)throw Error(r(168));Oe(ut,n),Oe(St,o)}function vd(e,n,o){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in n))throw Error(r(108,se(e)||"Unknown",d));return G({},o,u)}function io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,dr=ut.current,Oe(ut,e),Oe(St,St.current),!0}function yd(e,n,o){var u=e.stateNode;if(!u)throw Error(r(169));o?(e=vd(e,n,dr),u.__reactInternalMemoizedMergedChildContext=e,Ne(St),Ne(ut),Oe(ut,e)):Ne(St),Oe(St,o)}var bn=null,oo=!1,tl=!1;function wd(e){bn===null?bn=[e]:bn.push(e)}function Wg(e){oo=!0,wd(e)}function qn(){if(!tl&&bn!==null){tl=!0;var e=0,n=Ce;try{var o=bn;for(Ce=1;e<o.length;e++){var u=o[e];do u=u(!0);while(u!==null)}bn=null,oo=!1}catch(d){throw bn!==null&&(bn=bn.slice(e+1)),Sc(ba,qn),d}finally{Ce=n,tl=!1}}return null}var Wr=[],Vr=0,ao=null,lo=0,Ut=[],Mt=0,hr=null,En=1,kn="";function fr(e,n){Wr[Vr++]=lo,Wr[Vr++]=ao,ao=e,lo=n}function _d(e,n,o){Ut[Mt++]=En,Ut[Mt++]=kn,Ut[Mt++]=hr,hr=e;var u=En;e=kn;var d=32-Yt(u)-1;u&=~(1<<d),o+=1;var f=32-Yt(n)+d;if(30<f){var y=d-d%5;f=(u&(1<<y)-1).toString(32),u>>=y,d-=y,En=1<<32-Yt(n)+d|o<<d|u,kn=f+e}else En=1<<f|o<<d|u,kn=e}function nl(e){e.return!==null&&(fr(e,1),_d(e,1,0))}function rl(e){for(;e===ao;)ao=Wr[--Vr],Wr[Vr]=null,lo=Wr[--Vr],Wr[Vr]=null;for(;e===hr;)hr=Ut[--Mt],Ut[Mt]=null,kn=Ut[--Mt],Ut[Mt]=null,En=Ut[--Mt],Ut[Mt]=null}var Rt=null,Nt=null,Ae=!1,Zt=null;function Sd(e,n){var o=Wt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function xd(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Rt=e,Nt=Fn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Rt=e,Nt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=hr!==null?{id:En,overflow:kn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Wt(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Rt=e,Nt=null,!0):!1;default:return!1}}function sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function il(e){if(Ae){var n=Nt;if(n){var o=n;if(!xd(e,n)){if(sl(e))throw Error(r(418));n=Fn(o.nextSibling);var u=Rt;n&&xd(e,n)?Sd(u,o):(e.flags=e.flags&-4097|2,Ae=!1,Rt=e)}}else{if(sl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ae=!1,Rt=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function uo(e){if(e!==Rt)return!1;if(!Ae)return bd(e),Ae=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Qa(e.type,e.memoizedProps)),n&&(n=Nt)){if(sl(e))throw Ed(),Error(r(418));for(;n;)Sd(e,n),n=Fn(n.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Nt=Fn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Nt=null}}else Nt=Rt?Fn(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=Nt;e;)e=Fn(e.nextSibling)}function qr(){Nt=Rt=null,Ae=!1}function ol(e){Zt===null?Zt=[e]:Zt.push(e)}var Vg=U.ReactCurrentBatchConfig;function Gs(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,e));var d=u,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var x=d.refs;y===null?delete x[f]:x[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function co(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function kd(e){var n=e._init;return n(e._payload)}function Cd(e){function n(T,j){if(e){var R=T.deletions;R===null?(T.deletions=[j],T.flags|=16):R.push(j)}}function o(T,j){if(!e)return null;for(;j!==null;)n(T,j),j=j.sibling;return null}function u(T,j){for(T=new Map;j!==null;)j.key!==null?T.set(j.key,j):T.set(j.index,j),j=j.sibling;return T}function d(T,j){return T=Zn(T,j),T.index=0,T.sibling=null,T}function f(T,j,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<j?(T.flags|=2,j):R):(T.flags|=2,j)):(T.flags|=1048576,j)}function y(T){return e&&T.alternate===null&&(T.flags|=2),T}function x(T,j,R,q){return j===null||j.tag!==6?(j=Yl(R,T.mode,q),j.return=T,j):(j=d(j,R),j.return=T,j)}function C(T,j,R,q){var re=R.type;return re===K?z(T,j,R.props.children,q,R.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&kd(re)===j.type)?(q=d(j,R.props),q.ref=Gs(T,j,R),q.return=T,q):(q=Do(R.type,R.key,R.props,null,T.mode,q),q.ref=Gs(T,j,R),q.return=T,q)}function I(T,j,R,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=Xl(R,T.mode,q),j.return=T,j):(j=d(j,R.children||[]),j.return=T,j)}function z(T,j,R,q,re){return j===null||j.tag!==7?(j=Sr(R,T.mode,q,re),j.return=T,j):(j=d(j,R),j.return=T,j)}function W(T,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Yl(""+j,T.mode,R),j.return=T,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return R=Do(j.type,j.key,j.props,null,T.mode,R),R.ref=Gs(T,null,j),R.return=T,R;case M:return j=Xl(j,T.mode,R),j.return=T,j;case Se:var q=j._init;return W(T,q(j._payload),R)}if(yt(j)||te(j))return j=Sr(j,T.mode,R,null),j.return=T,j;co(T,j)}return null}function B(T,j,R,q){var re=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return re!==null?null:x(T,j,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return R.key===re?C(T,j,R,q):null;case M:return R.key===re?I(T,j,R,q):null;case Se:return re=R._init,B(T,j,re(R._payload),q)}if(yt(R)||te(R))return re!==null?null:z(T,j,R,q,null);co(T,R)}return null}function Q(T,j,R,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return T=T.get(R)||null,x(j,T,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case H:return T=T.get(q.key===null?R:q.key)||null,C(j,T,q,re);case M:return T=T.get(q.key===null?R:q.key)||null,I(j,T,q,re);case Se:var ue=q._init;return Q(T,j,R,ue(q._payload),re)}if(yt(q)||te(q))return T=T.get(R)||null,z(j,T,q,re,null);co(j,q)}return null}function Z(T,j,R,q){for(var re=null,ue=null,ce=j,pe=j=0,Xe=null;ce!==null&&pe<R.length;pe++){ce.index>pe?(Xe=ce,ce=null):Xe=ce.sibling;var Ee=B(T,ce,R[pe],q);if(Ee===null){ce===null&&(ce=Xe);break}e&&ce&&Ee.alternate===null&&n(T,ce),j=f(Ee,j,pe),ue===null?re=Ee:ue.sibling=Ee,ue=Ee,ce=Xe}if(pe===R.length)return o(T,ce),Ae&&fr(T,pe),re;if(ce===null){for(;pe<R.length;pe++)ce=W(T,R[pe],q),ce!==null&&(j=f(ce,j,pe),ue===null?re=ce:ue.sibling=ce,ue=ce);return Ae&&fr(T,pe),re}for(ce=u(T,ce);pe<R.length;pe++)Xe=Q(ce,T,pe,R[pe],q),Xe!==null&&(e&&Xe.alternate!==null&&ce.delete(Xe.key===null?pe:Xe.key),j=f(Xe,j,pe),ue===null?re=Xe:ue.sibling=Xe,ue=Xe);return e&&ce.forEach(function(er){return n(T,er)}),Ae&&fr(T,pe),re}function ee(T,j,R,q){var re=te(R);if(typeof re!="function")throw Error(r(150));if(R=re.call(R),R==null)throw Error(r(151));for(var ue=re=null,ce=j,pe=j=0,Xe=null,Ee=R.next();ce!==null&&!Ee.done;pe++,Ee=R.next()){ce.index>pe?(Xe=ce,ce=null):Xe=ce.sibling;var er=B(T,ce,Ee.value,q);if(er===null){ce===null&&(ce=Xe);break}e&&ce&&er.alternate===null&&n(T,ce),j=f(er,j,pe),ue===null?re=er:ue.sibling=er,ue=er,ce=Xe}if(Ee.done)return o(T,ce),Ae&&fr(T,pe),re;if(ce===null){for(;!Ee.done;pe++,Ee=R.next())Ee=W(T,Ee.value,q),Ee!==null&&(j=f(Ee,j,pe),ue===null?re=Ee:ue.sibling=Ee,ue=Ee);return Ae&&fr(T,pe),re}for(ce=u(T,ce);!Ee.done;pe++,Ee=R.next())Ee=Q(ce,T,pe,Ee.value,q),Ee!==null&&(e&&Ee.alternate!==null&&ce.delete(Ee.key===null?pe:Ee.key),j=f(Ee,j,pe),ue===null?re=Ee:ue.sibling=Ee,ue=Ee);return e&&ce.forEach(function(bv){return n(T,bv)}),Ae&&fr(T,pe),re}function We(T,j,R,q){if(typeof R=="object"&&R!==null&&R.type===K&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case H:e:{for(var re=R.key,ue=j;ue!==null;){if(ue.key===re){if(re=R.type,re===K){if(ue.tag===7){o(T,ue.sibling),j=d(ue,R.props.children),j.return=T,T=j;break e}}else if(ue.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&kd(re)===ue.type){o(T,ue.sibling),j=d(ue,R.props),j.ref=Gs(T,ue,R),j.return=T,T=j;break e}o(T,ue);break}else n(T,ue);ue=ue.sibling}R.type===K?(j=Sr(R.props.children,T.mode,q,R.key),j.return=T,T=j):(q=Do(R.type,R.key,R.props,null,T.mode,q),q.ref=Gs(T,j,R),q.return=T,T=q)}return y(T);case M:e:{for(ue=R.key;j!==null;){if(j.key===ue)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){o(T,j.sibling),j=d(j,R.children||[]),j.return=T,T=j;break e}else{o(T,j);break}else n(T,j);j=j.sibling}j=Xl(R,T.mode,q),j.return=T,T=j}return y(T);case Se:return ue=R._init,We(T,j,ue(R._payload),q)}if(yt(R))return Z(T,j,R,q);if(te(R))return ee(T,j,R,q);co(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,j!==null&&j.tag===6?(o(T,j.sibling),j=d(j,R),j.return=T,T=j):(o(T,j),j=Yl(R,T.mode,q),j.return=T,T=j),y(T)):o(T,j)}return We}var Hr=Cd(!0),jd=Cd(!1),ho=Wn(null),fo=null,Kr=null,al=null;function ll(){al=Kr=fo=null}function ul(e){var n=ho.current;Ne(ho),e._currentValue=n}function cl(e,n,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===o)break;e=e.return}}function Jr(e,n){fo=e,al=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(bt=!0),e.firstContext=null)}function Bt(e){var n=e._currentValue;if(al!==e)if(e={context:e,memoizedValue:n,next:null},Kr===null){if(fo===null)throw Error(r(308));Kr=e,fo.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return n}var pr=null;function dl(e){pr===null?pr=[e]:pr.push(e)}function Pd(e,n,o,u){var d=n.interleaved;return d===null?(o.next=o,dl(n)):(o.next=d.next,d.next=o),n.interleaved=o,Cn(e,u)}function Cn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Hn=!1;function hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Kn(e,n,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(be&2)!==0){var d=u.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),u.pending=n,Cn(e,o)}return d=u.interleaved,d===null?(n.next=n,dl(u)):(n.next=d.next,d.next=n),u.interleaved=n,Cn(e,o)}function po(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,Ca(e,o)}}function Td(e,n){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?d=f=n:f=f.next=n}else d=f=n;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function mo(e,n,o,u){var d=e.updateQueue;Hn=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var C=x,I=C.next;C.next=null,y===null?f=I:y.next=I,y=C;var z=e.alternate;z!==null&&(z=z.updateQueue,x=z.lastBaseUpdate,x!==y&&(x===null?z.firstBaseUpdate=I:x.next=I,z.lastBaseUpdate=C))}if(f!==null){var W=d.baseState;y=0,z=I=C=null,x=f;do{var B=x.lane,Q=x.eventTime;if((u&B)===B){z!==null&&(z=z.next={eventTime:Q,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Z=e,ee=x;switch(B=n,Q=o,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){W=Z.call(Q,W,B);break e}W=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,B=typeof Z=="function"?Z.call(Q,W,B):Z,B==null)break e;W=G({},W,B);break e;case 2:Hn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,B=d.effects,B===null?d.effects=[x]:B.push(x))}else Q={eventTime:Q,lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},z===null?(I=z=Q,C=W):z=z.next=Q,y|=B;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;B=x,x=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);if(z===null&&(C=W),d.baseState=C,d.firstBaseUpdate=I,d.lastBaseUpdate=z,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else f===null&&(d.shared.lanes=0);vr|=y,e.lanes=y,e.memoizedState=W}}function Rd(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var Qs={},fn=Wn(Qs),Ys=Wn(Qs),Xs=Wn(Qs);function mr(e){if(e===Qs)throw Error(r(174));return e}function fl(e,n){switch(Oe(Xs,n),Oe(Ys,e),Oe(fn,Qs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:un(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=un(n,e)}Ne(fn),Oe(fn,n)}function Gr(){Ne(fn),Ne(Ys),Ne(Xs)}function Nd(e){mr(Xs.current);var n=mr(fn.current),o=un(n,e.type);n!==o&&(Oe(Ys,e),Oe(fn,o))}function pl(e){Ys.current===e&&(Ne(fn),Ne(Ys))}var Le=Wn(0);function go(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ml=[];function gl(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var vo=U.ReactCurrentDispatcher,vl=U.ReactCurrentBatchConfig,gr=0,$e=null,He=null,Qe=null,yo=!1,Zs=!1,ei=0,qg=0;function ct(){throw Error(r(321))}function yl(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Xt(e[o],n[o]))return!1;return!0}function wl(e,n,o,u,d,f){if(gr=f,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,vo.current=e===null||e.memoizedState===null?Gg:Qg,e=o(u,d),Zs){f=0;do{if(Zs=!1,ei=0,25<=f)throw Error(r(301));f+=1,Qe=He=null,n.updateQueue=null,vo.current=Yg,e=o(u,d)}while(Zs)}if(vo.current=So,n=He!==null&&He.next!==null,gr=0,Qe=He=$e=null,yo=!1,n)throw Error(r(300));return e}function _l(){var e=ei!==0;return ei=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function zt(){if(He===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=Qe===null?$e.memoizedState:Qe.next;if(n!==null)Qe=n,He=e;else{if(e===null)throw Error(r(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ti(e,n){return typeof n=="function"?n(e):n}function Sl(e){var n=zt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=He,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var x=y=null,C=null,I=f;do{var z=I.lane;if((gr&z)===z)C!==null&&(C=C.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:e(u,I.action);else{var W={lane:z,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};C===null?(x=C=W,y=u):C=C.next=W,$e.lanes|=z,vr|=z}I=I.next}while(I!==null&&I!==f);C===null?y=u:C.next=x,Xt(u,n.memoizedState)||(bt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=C,o.lastRenderedState=u}if(e=o.interleaved,e!==null){d=e;do f=d.lane,$e.lanes|=f,vr|=f,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function xl(e){var n=zt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var u=o.dispatch,d=o.pending,f=n.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Xt(f,n.memoizedState)||(bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,u]}function Ad(){}function Id(e,n){var o=$e,u=zt(),d=n(),f=!Xt(u.memoizedState,d);if(f&&(u.memoizedState=d,bt=!0),u=u.queue,bl($d.bind(null,o,u,e),[e]),u.getSnapshot!==n||f||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,ni(9,Ld.bind(null,o,u,d,n),void 0,null),Ye===null)throw Error(r(349));(gr&30)!==0||Dd(o,n,d)}return d}function Dd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Ld(e,n,o,u){n.value=o,n.getSnapshot=u,Ud(n)&&Md(e)}function $d(e,n,o){return o(function(){Ud(n)&&Md(e)})}function Ud(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Xt(e,o)}catch{return!0}}function Md(e){var n=Cn(e,1);n!==null&&rn(n,e,1,-1)}function Bd(e){var n=pn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},n.queue=e,e=e.dispatch=Jg.bind(null,$e,e),[n.memoizedState,e]}function ni(e,n,o,u){return e={tag:e,create:n,destroy:o,deps:u,next:null},n=$e.updateQueue,n===null?(n={lastEffect:null,stores:null},$e.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,n.lastEffect=e)),e}function zd(){return zt().memoizedState}function wo(e,n,o,u){var d=pn();$e.flags|=e,d.memoizedState=ni(1|n,o,void 0,u===void 0?null:u)}function _o(e,n,o,u){var d=zt();u=u===void 0?null:u;var f=void 0;if(He!==null){var y=He.memoizedState;if(f=y.destroy,u!==null&&yl(u,y.deps)){d.memoizedState=ni(n,o,f,u);return}}$e.flags|=e,d.memoizedState=ni(1|n,o,f,u)}function Fd(e,n){return wo(8390656,8,e,n)}function bl(e,n){return _o(2048,8,e,n)}function Wd(e,n){return _o(4,2,e,n)}function Vd(e,n){return _o(4,4,e,n)}function qd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hd(e,n,o){return o=o!=null?o.concat([e]):null,_o(4,4,qd.bind(null,n,e),o)}function El(){}function Kd(e,n){var o=zt();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&yl(n,u[1])?u[0]:(o.memoizedState=[e,n],e)}function Jd(e,n){var o=zt();n=n===void 0?null:n;var u=o.memoizedState;return u!==null&&n!==null&&yl(n,u[1])?u[0]:(e=e(),o.memoizedState=[e,n],e)}function Gd(e,n,o){return(gr&21)===0?(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=o):(Xt(o,n)||(o=kc(),$e.lanes|=o,vr|=o,e.baseState=!0),n)}function Hg(e,n){var o=Ce;Ce=o!==0&&4>o?o:4,e(!0);var u=vl.transition;vl.transition={};try{e(!1),n()}finally{Ce=o,vl.transition=u}}function Qd(){return zt().memoizedState}function Kg(e,n,o){var u=Yn(e);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Yd(e))Xd(n,o);else if(o=Pd(e,n,o,u),o!==null){var d=vt();rn(o,e,u,d),Zd(o,n,u)}}function Jg(e,n,o){var u=Yn(e),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Xd(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,x=f(y,o);if(d.hasEagerState=!0,d.eagerState=x,Xt(x,y)){var C=n.interleaved;C===null?(d.next=d,dl(n)):(d.next=C.next,C.next=d),n.interleaved=d;return}}catch{}finally{}o=Pd(e,n,d,u),o!==null&&(d=vt(),rn(o,e,u,d),Zd(o,n,u))}}function Yd(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function Xd(e,n){Zs=yo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Zd(e,n,o){if((o&4194240)!==0){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,Ca(e,o)}}var So={readContext:Bt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Gg={readContext:Bt,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:Bt,useEffect:Fd,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,wo(4194308,4,qd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return wo(4194308,4,e,n)},useInsertionEffect:function(e,n){return wo(4,2,e,n)},useMemo:function(e,n){var o=pn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var u=pn();return n=o!==void 0?o(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Kg.bind(null,$e,e),[u.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:Bd,useDebugValue:El,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Bd(!1),n=e[0];return e=Hg.bind(null,e[1]),pn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var u=$e,d=pn();if(Ae){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Ye===null)throw Error(r(349));(gr&30)!==0||Dd(u,n,o)}d.memoizedState=o;var f={value:o,getSnapshot:n};return d.queue=f,Fd($d.bind(null,u,f,e),[e]),u.flags|=2048,ni(9,Ld.bind(null,u,f,o,n),void 0,null),o},useId:function(){var e=pn(),n=Ye.identifierPrefix;if(Ae){var o=kn,u=En;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,n=":"+n+"R"+o,o=ei++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=qg++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Qg={readContext:Bt,useCallback:Kd,useContext:Bt,useEffect:bl,useImperativeHandle:Hd,useInsertionEffect:Wd,useLayoutEffect:Vd,useMemo:Jd,useReducer:Sl,useRef:zd,useState:function(){return Sl(ti)},useDebugValue:El,useDeferredValue:function(e){var n=zt();return Gd(n,He.memoizedState,e)},useTransition:function(){var e=Sl(ti)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Ad,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1},Yg={readContext:Bt,useCallback:Kd,useContext:Bt,useEffect:bl,useImperativeHandle:Hd,useInsertionEffect:Wd,useLayoutEffect:Vd,useMemo:Jd,useReducer:xl,useRef:zd,useState:function(){return xl(ti)},useDebugValue:El,useDeferredValue:function(e){var n=zt();return He===null?n.memoizedState=e:Gd(n,He.memoizedState,e)},useTransition:function(){var e=xl(ti)[0],n=zt().memoizedState;return[e,n]},useMutableSource:Ad,useSyncExternalStore:Id,useId:Qd,unstable_isNewReconciler:!1};function en(e,n){if(e&&e.defaultProps){n=G({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function kl(e,n,o,u){n=e.memoizedState,o=o(u,n),o=o==null?n:G({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var xo={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var u=vt(),d=Yn(e),f=jn(u,d);f.payload=n,o!=null&&(f.callback=o),n=Kn(e,f,d),n!==null&&(rn(n,e,d,u),po(n,e,d))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var u=vt(),d=Yn(e),f=jn(u,d);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=Kn(e,f,d),n!==null&&(rn(n,e,d,u),po(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=vt(),u=Yn(e),d=jn(o,u);d.tag=2,n!=null&&(d.callback=n),n=Kn(e,d,u),n!==null&&(rn(n,e,u,o),po(n,e,u))}};function eh(e,n,o,u,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fs(o,u)||!Fs(d,f):!0}function th(e,n,o){var u=!1,d=Vn,f=n.contextType;return typeof f=="object"&&f!==null?f=Bt(f):(d=xt(n)?dr:ut.current,u=n.contextTypes,f=(u=u!=null)?Fr(e,d):Vn),n=new n(o,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=xo,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),n}function nh(e,n,o,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==e&&xo.enqueueReplaceState(n,n.state,null)}function Cl(e,n,o,u){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs={},hl(e);var f=n.contextType;typeof f=="object"&&f!==null?d.context=Bt(f):(f=xt(n)?dr:ut.current,d.context=Fr(e,f)),d.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(kl(e,n,f,o),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&xo.enqueueReplaceState(d,d.state,null),mo(e,o,d,u),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,n){try{var o="",u=n;do o+=F(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:d,digest:null}}function jl(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Pl(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function rh(e,n,o){o=jn(-1,o),o.tag=3,o.payload={element:null};var u=n.value;return o.callback=function(){Oo||(Oo=!0,Wl=u),Pl(e,n)},o}function sh(e,n,o){o=jn(-1,o),o.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var d=n.value;o.payload=function(){return u(d)},o.callback=function(){Pl(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Pl(e,n),typeof u!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),o}function ih(e,n,o){var u=e.pingCache;if(u===null){u=e.pingCache=new Xg;var d=new Set;u.set(n,d)}else d=u.get(n),d===void 0&&(d=new Set,u.set(n,d));d.has(o)||(d.add(o),e=hv.bind(null,e,n,o),n.then(e,e))}function oh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ah(e,n,o,u,d){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=jn(-1,1),n.tag=2,Kn(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Zg=U.ReactCurrentOwner,bt=!1;function gt(e,n,o,u){n.child=e===null?jd(n,null,o,u):Hr(n,e.child,o,u)}function lh(e,n,o,u,d){o=o.render;var f=n.ref;return Jr(n,d),u=wl(e,n,o,u,f,d),o=_l(),e!==null&&!bt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Pn(e,n,d)):(Ae&&o&&nl(n),n.flags|=1,gt(e,n,u,d),n.child)}function uh(e,n,o,u,d){if(e===null){var f=o.type;return typeof f=="function"&&!Ql(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=f,ch(e,n,f,u,d)):(e=Do(o.type,null,u,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:Fs,o(y,u)&&e.ref===n.ref)return Pn(e,n,d)}return n.flags|=1,e=Zn(f,u),e.ref=n.ref,e.return=n,n.child=e}function ch(e,n,o,u,d){if(e!==null){var f=e.memoizedProps;if(Fs(f,u)&&e.ref===n.ref)if(bt=!1,n.pendingProps=u=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,Pn(e,n,d)}return Ol(e,n,o,u,d)}function dh(e,n,o){var u=n.pendingProps,d=u.children,f=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Xr,At),At|=o;else{if((o&1073741824)===0)return e=f!==null?f.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Oe(Xr,At),At|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,Oe(Xr,At),At|=u}else f!==null?(u=f.baseLanes|o,n.memoizedState=null):u=o,Oe(Xr,At),At|=u;return gt(e,n,d,o),n.child}function hh(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Ol(e,n,o,u,d){var f=xt(o)?dr:ut.current;return f=Fr(n,f),Jr(n,d),o=wl(e,n,o,u,f,d),u=_l(),e!==null&&!bt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,Pn(e,n,d)):(Ae&&u&&nl(n),n.flags|=1,gt(e,n,o,d),n.child)}function fh(e,n,o,u,d){if(xt(o)){var f=!0;io(n)}else f=!1;if(Jr(n,d),n.stateNode===null)Eo(e,n),th(n,o,u),Cl(n,o,u,d),u=!0;else if(e===null){var y=n.stateNode,x=n.memoizedProps;y.props=x;var C=y.context,I=o.contextType;typeof I=="object"&&I!==null?I=Bt(I):(I=xt(o)?dr:ut.current,I=Fr(n,I));var z=o.getDerivedStateFromProps,W=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function";W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==u||C!==I)&&nh(n,y,u,I),Hn=!1;var B=n.memoizedState;y.state=B,mo(n,u,y,d),C=n.memoizedState,x!==u||B!==C||St.current||Hn?(typeof z=="function"&&(kl(n,o,z,u),C=n.memoizedState),(x=Hn||eh(n,o,x,u,B,C,I))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=C),y.props=u,y.state=C,y.context=I,u=x):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Od(e,n),x=n.memoizedProps,I=n.type===n.elementType?x:en(n.type,x),y.props=I,W=n.pendingProps,B=y.context,C=o.contextType,typeof C=="object"&&C!==null?C=Bt(C):(C=xt(o)?dr:ut.current,C=Fr(n,C));var Q=o.getDerivedStateFromProps;(z=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==W||B!==C)&&nh(n,y,u,C),Hn=!1,B=n.memoizedState,y.state=B,mo(n,u,y,d);var Z=n.memoizedState;x!==W||B!==Z||St.current||Hn?(typeof Q=="function"&&(kl(n,o,Q,u),Z=n.memoizedState),(I=Hn||eh(n,o,I,u,B,Z,C)||!1)?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,C)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Z),y.props=u,y.state=Z,y.context=C,u=I):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),u=!1)}return Tl(e,n,o,u,f,d)}function Tl(e,n,o,u,d,f){hh(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return d&&yd(n,o,!1),Pn(e,n,f);u=n.stateNode,Zg.current=n;var x=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=Hr(n,e.child,null,f),n.child=Hr(n,null,x,f)):gt(e,n,x,f),n.memoizedState=u.state,d&&yd(n,o,!0),n.child}function ph(e){var n=e.stateNode;n.pendingContext?gd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&gd(e,n.context,!1),fl(e,n.containerInfo)}function mh(e,n,o,u,d){return qr(),ol(d),n.flags|=256,gt(e,n,o,u),n.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function gh(e,n,o){var u=n.pendingProps,d=Le.current,f=!1,y=(n.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Oe(Le,d&1),e===null)return il(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,e=u.fallback,f?(u=n.mode,f=n.child,y={mode:"hidden",children:y},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=Lo(y,u,0,null),e=Sr(e,u,o,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Nl(o),n.memoizedState=Rl,e):Al(n,y));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return ev(e,n,y,u,x,d,o);if(f){f=u.fallback,y=n.mode,d=e.child,x=d.sibling;var C={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==d?(u=n.child,u.childLanes=0,u.pendingProps=C,n.deletions=null):(u=Zn(d,C),u.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=Zn(x,f):(f=Sr(f,y,o,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,y=e.child.memoizedState,y=y===null?Nl(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~o,n.memoizedState=Rl,u}return f=e.child,e=f.sibling,u=Zn(f,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=o),u.return=n,u.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=u,n.memoizedState=null,u}function Al(e,n){return n=Lo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function bo(e,n,o,u){return u!==null&&ol(u),Hr(n,e.child,null,o),e=Al(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ev(e,n,o,u,d,f,y){if(o)return n.flags&256?(n.flags&=-257,u=jl(Error(r(422))),bo(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=u.fallback,d=n.mode,u=Lo({mode:"visible",children:u.children},d,0,null),f=Sr(f,d,y,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,(n.mode&1)!==0&&Hr(n,e.child,null,y),n.child.memoizedState=Nl(y),n.memoizedState=Rl,f);if((n.mode&1)===0)return bo(e,n,y,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var x=u.dgst;return u=x,f=Error(r(419)),u=jl(f,u,void 0),bo(e,n,y,u)}if(x=(y&e.childLanes)!==0,bt||x){if(u=Ye,u!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Cn(e,d),rn(u,e,d,-1))}return Gl(),u=jl(Error(r(421))),bo(e,n,y,u)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=fv.bind(null,e),d._reactRetry=n,null):(e=f.treeContext,Nt=Fn(d.nextSibling),Rt=n,Ae=!0,Zt=null,e!==null&&(Ut[Mt++]=En,Ut[Mt++]=kn,Ut[Mt++]=hr,En=e.id,kn=e.overflow,hr=n),n=Al(n,u.children),n.flags|=4096,n)}function vh(e,n,o){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),cl(e.return,n,o)}function Il(e,n,o,u,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function yh(e,n,o){var u=n.pendingProps,d=u.revealOrder,f=u.tail;if(gt(e,n,u.children,o),u=Le.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,o,n);else if(e.tag===19)vh(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Oe(Le,u),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&go(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Il(n,!1,d,o,f);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&go(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Il(n,!0,o,null,f);break;case"together":Il(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Eo(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Pn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),vr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=Zn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Zn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function tv(e,n,o){switch(n.tag){case 3:ph(n),qr();break;case 5:Nd(n);break;case 1:xt(n.type)&&io(n);break;case 4:fl(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,d=n.memoizedProps.value;Oe(ho,u._currentValue),u._currentValue=d;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Oe(Le,Le.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?gh(e,n,o):(Oe(Le,Le.current&1),e=Pn(e,n,o),e!==null?e.sibling:null);Oe(Le,Le.current&1);break;case 19:if(u=(o&n.childLanes)!==0,(e.flags&128)!==0){if(u)return yh(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Oe(Le,Le.current),u)break;return null;case 22:case 23:return n.lanes=0,dh(e,n,o)}return Pn(e,n,o)}var wh,Dl,_h,Sh;wh=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Dl=function(){},_h=function(e,n,o,u){var d=e.memoizedProps;if(d!==u){e=n.stateNode,mr(fn.current);var f=null;switch(o){case"input":d=Pt(e,d),u=Pt(e,u),f=[];break;case"select":d=G({},d,{value:void 0}),u=G({},u,{value:void 0}),f=[];break;case"textarea":d=Nn(e,d),u=Nn(e,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=no)}Rr(o,u);var y;o=null;for(I in d)if(!u.hasOwnProperty(I)&&d.hasOwnProperty(I)&&d[I]!=null)if(I==="style"){var x=d[I];for(y in x)x.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in u){var C=u[I];if(x=d?.[I],u.hasOwnProperty(I)&&C!==x&&(C!=null||x!=null))if(I==="style")if(x){for(y in x)!x.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in C)C.hasOwnProperty(y)&&x[y]!==C[y]&&(o||(o={}),o[y]=C[y])}else o||(f||(f=[]),f.push(I,o)),o=C;else I==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,x=x?x.__html:void 0,C!=null&&x!==C&&(f=f||[]).push(I,C)):I==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(I,""+C):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(C!=null&&I==="onScroll"&&Re("scroll",e),f||x===C||(f=[])):(f=f||[]).push(I,C))}o&&(f=f||[]).push("style",o);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},Sh=function(e,n,o,u){o!==u&&(n.flags|=4)};function ri(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=u,e.childLanes=o,n}function nv(e,n,o){var u=n.pendingProps;switch(rl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return xt(n.type)&&so(),dt(n),null;case 3:return u=n.stateNode,Gr(),Ne(St),Ne(ut),gl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(uo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zt!==null&&(Hl(Zt),Zt=null))),Dl(e,n),dt(n),null;case 5:pl(n);var d=mr(Xs.current);if(o=n.type,e!==null&&n.stateNode!=null)_h(e,n,o,u,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return dt(n),null}if(e=mr(fn.current),uo(n)){u=n.stateNode,o=n.type;var f=n.memoizedProps;switch(u[hn]=n,u[Ks]=f,e=(n.mode&1)!==0,o){case"dialog":Re("cancel",u),Re("close",u);break;case"iframe":case"object":case"embed":Re("load",u);break;case"video":case"audio":for(d=0;d<Vs.length;d++)Re(Vs[d],u);break;case"source":Re("error",u);break;case"img":case"image":case"link":Re("error",u),Re("load",u);break;case"details":Re("toggle",u);break;case"input":yn(u,f),Re("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Re("invalid",u);break;case"textarea":bs(u,f),Re("invalid",u)}Rr(o,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var x=f[y];y==="children"?typeof x=="string"?u.textContent!==x&&(f.suppressHydrationWarning!==!0&&to(u.textContent,x,e),d=["children",x]):typeof x=="number"&&u.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&to(u.textContent,x,e),d=["children",""+x]):a.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&Re("scroll",u)}switch(o){case"input":je(u),xs(u,f,!0);break;case"textarea":je(u),Ni(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=no)}u=d,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ai(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(o,{is:u.is}):(e=y.createElement(o),o==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,o),e[hn]=n,e[Ks]=u,wh(e,n,!1,!1),n.stateNode=e;e:{switch(y=Cs(o,u),o){case"dialog":Re("cancel",e),Re("close",e),d=u;break;case"iframe":case"object":case"embed":Re("load",e),d=u;break;case"video":case"audio":for(d=0;d<Vs.length;d++)Re(Vs[d],e);d=u;break;case"source":Re("error",e),d=u;break;case"img":case"image":case"link":Re("error",e),Re("load",e),d=u;break;case"details":Re("toggle",e),d=u;break;case"input":yn(e,u),d=Pt(e,u),Re("invalid",e);break;case"option":d=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},d=G({},u,{value:void 0}),Re("invalid",e);break;case"textarea":bs(e,u),d=Nn(e,u),Re("invalid",e);break;default:d=u}Rr(o,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var C=x[f];f==="style"?Li(e,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&An(e,C)):f==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&In(e,C):typeof C=="number"&&In(e,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?C!=null&&f==="onScroll"&&Re("scroll",e):C!=null&&A(e,f,C,y))}switch(o){case"input":je(e),xs(e,u,!1);break;case"textarea":je(e),Ni(e);break;case"option":u.value!=null&&e.setAttribute("value",""+ae(u.value));break;case"select":e.multiple=!!u.multiple,f=u.value,f!=null?Ht(e,!!u.multiple,f,!1):u.defaultValue!=null&&Ht(e,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=no)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return dt(n),null;case 6:if(e&&n.stateNode!=null)Sh(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(o=mr(Xs.current),mr(fn.current),uo(n)){if(u=n.stateNode,o=n.memoizedProps,u[hn]=n,(f=u.nodeValue!==o)&&(e=Rt,e!==null))switch(e.tag){case 3:to(u.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(u.nodeValue,o,(e.mode&1)!==0)}f&&(n.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[hn]=n,n.stateNode=u}return dt(n),null;case 13:if(Ne(Le),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ed(),qr(),n.flags|=98560,f=!1;else if(f=uo(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[hn]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),f=!1}else Zt!==null&&(Hl(Zt),Zt=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Le.current&1)!==0?Ke===0&&(Ke=3):Gl())),n.updateQueue!==null&&(n.flags|=4),dt(n),null);case 4:return Gr(),Dl(e,n),e===null&&qs(n.stateNode.containerInfo),dt(n),null;case 10:return ul(n.type._context),dt(n),null;case 17:return xt(n.type)&&so(),dt(n),null;case 19:if(Ne(Le),f=n.memoizedState,f===null)return dt(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)ri(f,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=go(e),y!==null){for(n.flags|=128,ri(f,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=o,o=n.child;o!==null;)f=o,e=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Oe(Le,Le.current&1|2),n.child}e=e.sibling}f.tail!==null&&Fe()>Zr&&(n.flags|=128,u=!0,ri(f,!1),n.lanes=4194304)}else{if(!u)if(e=go(y),e!==null){if(n.flags|=128,u=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ri(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ae)return dt(n),null}else 2*Fe()-f.renderingStartTime>Zr&&o!==1073741824&&(n.flags|=128,u=!0,ri(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(o=f.last,o!==null?o.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Fe(),n.sibling=null,o=Le.current,Oe(Le,u?o&1|2:o&1),n):(dt(n),null);case 22:case 23:return Jl(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(At&1073741824)!==0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function rv(e,n){switch(rl(n),n.tag){case 1:return xt(n.type)&&so(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gr(),Ne(St),Ne(ut),gl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return pl(n),null;case 13:if(Ne(Le),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ne(Le),null;case 4:return Gr(),null;case 10:return ul(n.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var ko=!1,ht=!1,sv=typeof WeakSet=="function"?WeakSet:Set,X=null;function Yr(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Be(e,n,u)}else o.current=null}function Ll(e,n,o){try{o()}catch(u){Be(e,n,u)}}var xh=!1;function iv(e,n){if(Ja=Vi,e=ed(),Ba(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,x=-1,C=-1,I=0,z=0,W=e,B=null;t:for(;;){for(var Q;W!==o||d!==0&&W.nodeType!==3||(x=y+d),W!==f||u!==0&&W.nodeType!==3||(C=y+u),W.nodeType===3&&(y+=W.nodeValue.length),(Q=W.firstChild)!==null;)B=W,W=Q;for(;;){if(W===e)break t;if(B===o&&++I===d&&(x=y),B===f&&++z===u&&(C=y),(Q=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=Q}o=x===-1||C===-1?null:{start:x,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ga={focusedElem:e,selectionRange:o},Vi=!1,X=n;X!==null;)if(n=X,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,X=e;else for(;X!==null;){n=X;try{var Z=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,We=Z.memoizedState,T=n.stateNode,j=T.getSnapshotBeforeUpdate(n.elementType===n.type?ee:en(n.type,ee),We);T.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(q){Be(n,n.return,q)}if(e=n.sibling,e!==null){e.return=n.return,X=e;break}X=n.return}return Z=xh,xh=!1,Z}function si(e,n,o){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Ll(n,o,f)}d=d.next}while(d!==u)}}function Co(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var u=o.create;o.destroy=u()}o=o.next}while(o!==n)}}function $l(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function bh(e){var n=e.alternate;n!==null&&(e.alternate=null,bh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[hn],delete n[Ks],delete n[Za],delete n[zg],delete n[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eh(e){return e.tag===5||e.tag===3||e.tag===4}function kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ul(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=no));else if(u!==4&&(e=e.child,e!==null))for(Ul(e,n,o),e=e.sibling;e!==null;)Ul(e,n,o),e=e.sibling}function Ml(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Ml(e,n,o),e=e.sibling;e!==null;)Ml(e,n,o),e=e.sibling}var nt=null,tn=!1;function Jn(e,n,o){for(o=o.child;o!==null;)Ch(e,n,o),o=o.sibling}function Ch(e,n,o){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Ui,o)}catch{}switch(o.tag){case 5:ht||Yr(o,n);case 6:var u=nt,d=tn;nt=null,Jn(e,n,o),nt=u,tn=d,nt!==null&&(tn?(e=nt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):nt.removeChild(o.stateNode));break;case 18:nt!==null&&(tn?(e=nt,o=o.stateNode,e.nodeType===8?Xa(e.parentNode,o):e.nodeType===1&&Xa(e,o),Ls(e)):Xa(nt,o.stateNode));break;case 4:u=nt,d=tn,nt=o.stateNode.containerInfo,tn=!0,Jn(e,n,o),nt=u,tn=d;break;case 0:case 11:case 14:case 15:if(!ht&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Ll(o,n,y),d=d.next}while(d!==u)}Jn(e,n,o);break;case 1:if(!ht&&(Yr(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(x){Be(o,n,x)}Jn(e,n,o);break;case 21:Jn(e,n,o);break;case 22:o.mode&1?(ht=(u=ht)||o.memoizedState!==null,Jn(e,n,o),ht=u):Jn(e,n,o);break;default:Jn(e,n,o)}}function jh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new sv),n.forEach(function(u){var d=pv.bind(null,e,u);o.has(u)||(o.add(u),u.then(d,d))})}}function nn(e,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=e,y=n,x=y;e:for(;x!==null;){switch(x.tag){case 5:nt=x.stateNode,tn=!1;break e;case 3:nt=x.stateNode.containerInfo,tn=!0;break e;case 4:nt=x.stateNode.containerInfo,tn=!0;break e}x=x.return}if(nt===null)throw Error(r(160));Ch(f,y,d),nt=null,tn=!1;var C=d.alternate;C!==null&&(C.return=null),d.return=null}catch(I){Be(d,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ph(n,e),n=n.sibling}function Ph(e,n){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(n,e),mn(e),u&4){try{si(3,e,e.return),Co(3,e)}catch(ee){Be(e,e.return,ee)}try{si(5,e,e.return)}catch(ee){Be(e,e.return,ee)}}break;case 1:nn(n,e),mn(e),u&512&&o!==null&&Yr(o,o.return);break;case 5:if(nn(n,e),mn(e),u&512&&o!==null&&Yr(o,o.return),e.flags&32){var d=e.stateNode;try{In(d,"")}catch(ee){Be(e,e.return,ee)}}if(u&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=o!==null?o.memoizedProps:f,x=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&wn(d,f),Cs(x,y);var I=Cs(x,f);for(y=0;y<C.length;y+=2){var z=C[y],W=C[y+1];z==="style"?Li(d,W):z==="dangerouslySetInnerHTML"?An(d,W):z==="children"?In(d,W):A(d,z,W,I)}switch(x){case"input":Tr(d,f);break;case"textarea":Es(d,f);break;case"select":var B=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?Ht(d,!!f.multiple,Q,!1):B!==!!f.multiple&&(f.defaultValue!=null?Ht(d,!!f.multiple,f.defaultValue,!0):Ht(d,!!f.multiple,f.multiple?[]:"",!1))}d[Ks]=f}catch(ee){Be(e,e.return,ee)}}break;case 6:if(nn(n,e),mn(e),u&4){if(e.stateNode===null)throw Error(r(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ee){Be(e,e.return,ee)}}break;case 3:if(nn(n,e),mn(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ls(n.containerInfo)}catch(ee){Be(e,e.return,ee)}break;case 4:nn(n,e),mn(e);break;case 13:nn(n,e),mn(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Fl=Fe())),u&4&&jh(e);break;case 22:if(z=o!==null&&o.memoizedState!==null,e.mode&1?(ht=(I=ht)||z,nn(n,e),ht=I):nn(n,e),mn(e),u&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!z&&(e.mode&1)!==0)for(X=e,z=e.child;z!==null;){for(W=X=z;X!==null;){switch(B=X,Q=B.child,B.tag){case 0:case 11:case 14:case 15:si(4,B,B.return);break;case 1:Yr(B,B.return);var Z=B.stateNode;if(typeof Z.componentWillUnmount=="function"){u=B,o=B.return;try{n=u,Z.props=n.memoizedProps,Z.state=n.memoizedState,Z.componentWillUnmount()}catch(ee){Be(u,o,ee)}}break;case 5:Yr(B,B.return);break;case 22:if(B.memoizedState!==null){Rh(W);continue}}Q!==null?(Q.return=B,X=Q):Rh(W)}z=z.sibling}e:for(z=null,W=e;;){if(W.tag===5){if(z===null){z=W;try{d=W.stateNode,I?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=W.stateNode,C=W.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,x.style.display=Di("display",y))}catch(ee){Be(e,e.return,ee)}}}else if(W.tag===6){if(z===null)try{W.stateNode.nodeValue=I?"":W.memoizedProps}catch(ee){Be(e,e.return,ee)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;z===W&&(z=null),W=W.return}z===W&&(z=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:nn(n,e),mn(e),u&4&&jh(e);break;case 21:break;default:nn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Eh(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(In(d,""),u.flags&=-33);var f=kh(e);Ml(e,f,d);break;case 3:case 4:var y=u.stateNode.containerInfo,x=kh(e);Ul(e,x,y);break;default:throw Error(r(161))}}catch(C){Be(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ov(e,n,o){X=e,Oh(e)}function Oh(e,n,o){for(var u=(e.mode&1)!==0;X!==null;){var d=X,f=d.child;if(d.tag===22&&u){var y=d.memoizedState!==null||ko;if(!y){var x=d.alternate,C=x!==null&&x.memoizedState!==null||ht;x=ko;var I=ht;if(ko=y,(ht=C)&&!I)for(X=d;X!==null;)y=X,C=y.child,y.tag===22&&y.memoizedState!==null?Nh(d):C!==null?(C.return=y,X=C):Nh(d);for(;f!==null;)X=f,Oh(f),f=f.sibling;X=d,ko=x,ht=I}Th(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,X=f):Th(e)}}function Th(e){for(;X!==null;){var n=X;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ht||Co(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!ht)if(o===null)u.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:en(n.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Rd(n,f,u);break;case 3:var y=n.updateQueue;if(y!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Rd(n,y,o)}break;case 5:var x=n.stateNode;if(o===null&&n.flags&4){o=x;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var z=I.memoizedState;if(z!==null){var W=z.dehydrated;W!==null&&Ls(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ht||n.flags&512&&$l(n)}catch(B){Be(n,n.return,B)}}if(n===e){X=null;break}if(o=n.sibling,o!==null){o.return=n.return,X=o;break}X=n.return}}function Rh(e){for(;X!==null;){var n=X;if(n===e){X=null;break}var o=n.sibling;if(o!==null){o.return=n.return,X=o;break}X=n.return}}function Nh(e){for(;X!==null;){var n=X;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Co(4,n)}catch(C){Be(n,o,C)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var d=n.return;try{u.componentDidMount()}catch(C){Be(n,d,C)}}var f=n.return;try{$l(n)}catch(C){Be(n,f,C)}break;case 5:var y=n.return;try{$l(n)}catch(C){Be(n,y,C)}}}catch(C){Be(n,n.return,C)}if(n===e){X=null;break}var x=n.sibling;if(x!==null){x.return=n.return,X=x;break}X=n.return}}var av=Math.ceil,jo=U.ReactCurrentDispatcher,Bl=U.ReactCurrentOwner,Ft=U.ReactCurrentBatchConfig,be=0,Ye=null,Ve=null,rt=0,At=0,Xr=Wn(0),Ke=0,ii=null,vr=0,Po=0,zl=0,oi=null,Et=null,Fl=0,Zr=1/0,On=null,Oo=!1,Wl=null,Gn=null,To=!1,Qn=null,Ro=0,ai=0,Vl=null,No=-1,Ao=0;function vt(){return(be&6)!==0?Fe():No!==-1?No:No=Fe()}function Yn(e){return(e.mode&1)===0?1:(be&2)!==0&&rt!==0?rt&-rt:Vg.transition!==null?(Ao===0&&(Ao=kc()),Ao):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Ic(e.type)),e)}function rn(e,n,o,u){if(50<ai)throw ai=0,Vl=null,Error(r(185));Rs(e,o,u),((be&2)===0||e!==Ye)&&(e===Ye&&((be&2)===0&&(Po|=o),Ke===4&&Xn(e,rt)),kt(e,u),o===1&&be===0&&(n.mode&1)===0&&(Zr=Fe()+500,oo&&qn()))}function kt(e,n){var o=e.callbackNode;Vm(e,n);var u=zi(e,e===Ye?rt:0);if(u===0)o!==null&&xc(o),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(o!=null&&xc(o),n===1)e.tag===0?Wg(Ih.bind(null,e)):wd(Ih.bind(null,e)),Mg(function(){(be&6)===0&&qn()}),o=null;else{switch(Cc(u)){case 1:o=ba;break;case 4:o=bc;break;case 16:o=$i;break;case 536870912:o=Ec;break;default:o=$i}o=Fh(o,Ah.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Ah(e,n){if(No=-1,Ao=0,(be&6)!==0)throw Error(r(327));var o=e.callbackNode;if(es()&&e.callbackNode!==o)return null;var u=zi(e,e===Ye?rt:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||n)n=Io(e,u);else{n=u;var d=be;be|=2;var f=Lh();(Ye!==e||rt!==n)&&(On=null,Zr=Fe()+500,wr(e,n));do try{cv();break}catch(x){Dh(e,x)}while(!0);ll(),jo.current=f,be=d,Ve!==null?n=0:(Ye=null,rt=0,n=Ke)}if(n!==0){if(n===2&&(d=Ea(e),d!==0&&(u=d,n=ql(e,d))),n===1)throw o=ii,wr(e,0),Xn(e,u),kt(e,Fe()),o;if(n===6)Xn(e,u);else{if(d=e.current.alternate,(u&30)===0&&!lv(d)&&(n=Io(e,u),n===2&&(f=Ea(e),f!==0&&(u=f,n=ql(e,f))),n===1))throw o=ii,wr(e,0),Xn(e,u),kt(e,Fe()),o;switch(e.finishedWork=d,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:_r(e,Et,On);break;case 3:if(Xn(e,u),(u&130023424)===u&&(n=Fl+500-Fe(),10<n)){if(zi(e,0)!==0)break;if(d=e.suspendedLanes,(d&u)!==u){vt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Ya(_r.bind(null,e,Et,On),n);break}_r(e,Et,On);break;case 4:if(Xn(e,u),(u&4194240)===u)break;for(n=e.eventTimes,d=-1;0<u;){var y=31-Yt(u);f=1<<y,y=n[y],y>d&&(d=y),u&=~f}if(u=d,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*av(u/1960))-u,10<u){e.timeoutHandle=Ya(_r.bind(null,e,Et,On),u);break}_r(e,Et,On);break;case 5:_r(e,Et,On);break;default:throw Error(r(329))}}}return kt(e,Fe()),e.callbackNode===o?Ah.bind(null,e):null}function ql(e,n){var o=oi;return e.current.memoizedState.isDehydrated&&(wr(e,n).flags|=256),e=Io(e,n),e!==2&&(n=Et,Et=o,n!==null&&Hl(n)),e}function Hl(e){Et===null?Et=e:Et.push.apply(Et,e)}function lv(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Xt(f(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xn(e,n){for(n&=~zl,n&=~Po,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Yt(n),u=1<<o;e[o]=-1,n&=~u}}function Ih(e){if((be&6)!==0)throw Error(r(327));es();var n=zi(e,0);if((n&1)===0)return kt(e,Fe()),null;var o=Io(e,n);if(e.tag!==0&&o===2){var u=Ea(e);u!==0&&(n=u,o=ql(e,u))}if(o===1)throw o=ii,wr(e,0),Xn(e,n),kt(e,Fe()),o;if(o===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,_r(e,Et,On),kt(e,Fe()),null}function Kl(e,n){var o=be;be|=1;try{return e(n)}finally{be=o,be===0&&(Zr=Fe()+500,oo&&qn())}}function yr(e){Qn!==null&&Qn.tag===0&&(be&6)===0&&es();var n=be;be|=1;var o=Ft.transition,u=Ce;try{if(Ft.transition=null,Ce=1,e)return e()}finally{Ce=u,Ft.transition=o,be=n,(be&6)===0&&qn()}}function Jl(){At=Xr.current,Ne(Xr)}function wr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Ug(o)),Ve!==null)for(o=Ve.return;o!==null;){var u=o;switch(rl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&so();break;case 3:Gr(),Ne(St),Ne(ut),gl();break;case 5:pl(u);break;case 4:Gr();break;case 13:Ne(Le);break;case 19:Ne(Le);break;case 10:ul(u.type._context);break;case 22:case 23:Jl()}o=o.return}if(Ye=e,Ve=e=Zn(e.current,null),rt=At=n,Ke=0,ii=null,zl=Po=vr=0,Et=oi=null,pr!==null){for(n=0;n<pr.length;n++)if(o=pr[n],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var y=f.next;f.next=d,u.next=y}o.pending=u}pr=null}return e}function Dh(e,n){do{var o=Ve;try{if(ll(),vo.current=So,yo){for(var u=$e.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}yo=!1}if(gr=0,Qe=He=$e=null,Zs=!1,ei=0,Bl.current=null,o===null||o.return===null){Ke=1,ii=n,Ve=null;break}e:{var f=e,y=o.return,x=o,C=n;if(n=rt,x.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C,z=x,W=z.tag;if((z.mode&1)===0&&(W===0||W===11||W===15)){var B=z.alternate;B?(z.updateQueue=B.updateQueue,z.memoizedState=B.memoizedState,z.lanes=B.lanes):(z.updateQueue=null,z.memoizedState=null)}var Q=oh(y);if(Q!==null){Q.flags&=-257,ah(Q,y,x,f,n),Q.mode&1&&ih(f,I,n),n=Q,C=I;var Z=n.updateQueue;if(Z===null){var ee=new Set;ee.add(C),n.updateQueue=ee}else Z.add(C);break e}else{if((n&1)===0){ih(f,I,n),Gl();break e}C=Error(r(426))}}else if(Ae&&x.mode&1){var We=oh(y);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),ah(We,y,x,f,n),ol(Qr(C,x));break e}}f=C=Qr(C,x),Ke!==4&&(Ke=2),oi===null?oi=[f]:oi.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var T=rh(f,C,n);Td(f,T);break e;case 1:x=C;var j=f.type,R=f.stateNode;if((f.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Gn===null||!Gn.has(R)))){f.flags|=65536,n&=-n,f.lanes|=n;var q=sh(f,x,n);Td(f,q);break e}}f=f.return}while(f!==null)}Uh(o)}catch(re){n=re,Ve===o&&o!==null&&(Ve=o=o.return);continue}break}while(!0)}function Lh(){var e=jo.current;return jo.current=So,e===null?So:e}function Gl(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ye===null||(vr&268435455)===0&&(Po&268435455)===0||Xn(Ye,rt)}function Io(e,n){var o=be;be|=2;var u=Lh();(Ye!==e||rt!==n)&&(On=null,wr(e,n));do try{uv();break}catch(d){Dh(e,d)}while(!0);if(ll(),be=o,jo.current=u,Ve!==null)throw Error(r(261));return Ye=null,rt=0,Ke}function uv(){for(;Ve!==null;)$h(Ve)}function cv(){for(;Ve!==null&&!Dm();)$h(Ve)}function $h(e){var n=zh(e.alternate,e,At);e.memoizedProps=e.pendingProps,n===null?Uh(e):Ve=n,Bl.current=null}function Uh(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=nv(o,n,At),o!==null){Ve=o;return}}else{if(o=rv(o,n),o!==null){o.flags&=32767,Ve=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ve=null;return}}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);Ke===0&&(Ke=5)}function _r(e,n,o){var u=Ce,d=Ft.transition;try{Ft.transition=null,Ce=1,dv(e,n,o,u)}finally{Ft.transition=d,Ce=u}return null}function dv(e,n,o,u){do es();while(Qn!==null);if((be&6)!==0)throw Error(r(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=o.lanes|o.childLanes;if(qm(e,f),e===Ye&&(Ve=Ye=null,rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||To||(To=!0,Fh($i,function(){return es(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Ft.transition,Ft.transition=null;var y=Ce;Ce=1;var x=be;be|=4,Bl.current=null,iv(e,o),Ph(o,e),Rg(Ga),Vi=!!Ja,Ga=Ja=null,e.current=o,ov(o),Lm(),be=x,Ce=y,Ft.transition=f}else e.current=o;if(To&&(To=!1,Qn=e,Ro=d),f=e.pendingLanes,f===0&&(Gn=null),Mm(o.stateNode),kt(e,Fe()),n!==null)for(u=e.onRecoverableError,o=0;o<n.length;o++)d=n[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Oo)throw Oo=!1,e=Wl,Wl=null,e;return(Ro&1)!==0&&e.tag!==0&&es(),f=e.pendingLanes,(f&1)!==0?e===Vl?ai++:(ai=0,Vl=e):ai=0,qn(),null}function es(){if(Qn!==null){var e=Cc(Ro),n=Ft.transition,o=Ce;try{if(Ft.transition=null,Ce=16>e?16:e,Qn===null)var u=!1;else{if(e=Qn,Qn=null,Ro=0,(be&6)!==0)throw Error(r(331));var d=be;for(be|=4,X=e.current;X!==null;){var f=X,y=f.child;if((X.flags&16)!==0){var x=f.deletions;if(x!==null){for(var C=0;C<x.length;C++){var I=x[C];for(X=I;X!==null;){var z=X;switch(z.tag){case 0:case 11:case 15:si(8,z,f)}var W=z.child;if(W!==null)W.return=z,X=W;else for(;X!==null;){z=X;var B=z.sibling,Q=z.return;if(bh(z),z===I){X=null;break}if(B!==null){B.return=Q,X=B;break}X=Q}}}var Z=f.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var We=ee.sibling;ee.sibling=null,ee=We}while(ee!==null)}}X=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,X=y;else e:for(;X!==null;){if(f=X,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:si(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,X=T;break e}X=f.return}}var j=e.current;for(X=j;X!==null;){y=X;var R=y.child;if((y.subtreeFlags&2064)!==0&&R!==null)R.return=y,X=R;else e:for(y=j;X!==null;){if(x=X,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Co(9,x)}}catch(re){Be(x,x.return,re)}if(x===y){X=null;break e}var q=x.sibling;if(q!==null){q.return=x.return,X=q;break e}X=x.return}}if(be=d,qn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Ui,e)}catch{}u=!0}return u}finally{Ce=o,Ft.transition=n}}return!1}function Mh(e,n,o){n=Qr(o,n),n=rh(e,n,1),e=Kn(e,n,1),n=vt(),e!==null&&(Rs(e,1,n),kt(e,n))}function Be(e,n,o){if(e.tag===3)Mh(e,e,o);else for(;n!==null;){if(n.tag===3){Mh(n,e,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gn===null||!Gn.has(u))){e=Qr(o,e),e=sh(n,e,1),n=Kn(n,e,1),e=vt(),n!==null&&(Rs(n,1,e),kt(n,e));break}}n=n.return}}function hv(e,n,o){var u=e.pingCache;u!==null&&u.delete(n),n=vt(),e.pingedLanes|=e.suspendedLanes&o,Ye===e&&(rt&o)===o&&(Ke===4||Ke===3&&(rt&130023424)===rt&&500>Fe()-Fl?wr(e,0):zl|=o),kt(e,n)}function Bh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var o=vt();e=Cn(e,n),e!==null&&(Rs(e,n,o),kt(e,o))}function fv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Bh(e,o)}function pv(e,n){var o=0;switch(e.tag){case 13:var u=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Bh(e,o)}var zh;zh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||St.current)bt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return bt=!1,tv(e,n,o);bt=(e.flags&131072)!==0}else bt=!1,Ae&&(n.flags&1048576)!==0&&_d(n,lo,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Eo(e,n),e=n.pendingProps;var d=Fr(n,ut.current);Jr(n,o),d=wl(null,n,u,e,d,o);var f=_l();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,xt(u)?(f=!0,io(n)):f=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,hl(n),d.updater=xo,n.stateNode=d,d._reactInternals=n,Cl(n,u,e,o),n=Tl(null,n,u,!0,f,o)):(n.tag=0,Ae&&f&&nl(n),gt(null,n,d,o),n=n.child),n;case 16:u=n.elementType;e:{switch(Eo(e,n),e=n.pendingProps,d=u._init,u=d(u._payload),n.type=u,d=n.tag=gv(u),e=en(u,e),d){case 0:n=Ol(null,n,u,e,o);break e;case 1:n=fh(null,n,u,e,o);break e;case 11:n=lh(null,n,u,e,o);break e;case 14:n=uh(null,n,u,en(u.type,e),o);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:en(u,d),Ol(e,n,u,d,o);case 1:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:en(u,d),fh(e,n,u,d,o);case 3:e:{if(ph(n),e===null)throw Error(r(387));u=n.pendingProps,f=n.memoizedState,d=f.element,Od(e,n),mo(n,u,null,o);var y=n.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){d=Qr(Error(r(423)),n),n=mh(e,n,u,o,d);break e}else if(u!==d){d=Qr(Error(r(424)),n),n=mh(e,n,u,o,d);break e}else for(Nt=Fn(n.stateNode.containerInfo.firstChild),Rt=n,Ae=!0,Zt=null,o=jd(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qr(),u===d){n=Pn(e,n,o);break e}gt(e,n,u,o)}n=n.child}return n;case 5:return Nd(n),e===null&&il(n),u=n.type,d=n.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,Qa(u,d)?y=null:f!==null&&Qa(u,f)&&(n.flags|=32),hh(e,n),gt(e,n,y,o),n.child;case 6:return e===null&&il(n),null;case 13:return gh(e,n,o);case 4:return fl(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Hr(n,null,u,o):gt(e,n,u,o),n.child;case 11:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:en(u,d),lh(e,n,u,d,o);case 7:return gt(e,n,n.pendingProps,o),n.child;case 8:return gt(e,n,n.pendingProps.children,o),n.child;case 12:return gt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(u=n.type._context,d=n.pendingProps,f=n.memoizedProps,y=d.value,Oe(ho,u._currentValue),u._currentValue=y,f!==null)if(Xt(f.value,y)){if(f.children===d.children&&!St.current){n=Pn(e,n,o);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){y=f.child;for(var C=x.firstContext;C!==null;){if(C.context===u){if(f.tag===1){C=jn(-1,o&-o),C.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var z=I.pending;z===null?C.next=C:(C.next=z.next,z.next=C),I.pending=C}}f.lanes|=o,C=f.alternate,C!==null&&(C.lanes|=o),cl(f.return,o,n),x.lanes|=o;break}C=C.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),cl(y,o,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}gt(e,n,d.children,o),n=n.child}return n;case 9:return d=n.type,u=n.pendingProps.children,Jr(n,o),d=Bt(d),u=u(d),n.flags|=1,gt(e,n,u,o),n.child;case 14:return u=n.type,d=en(u,n.pendingProps),d=en(u.type,d),uh(e,n,u,d,o);case 15:return ch(e,n,n.type,n.pendingProps,o);case 17:return u=n.type,d=n.pendingProps,d=n.elementType===u?d:en(u,d),Eo(e,n),n.tag=1,xt(u)?(e=!0,io(n)):e=!1,Jr(n,o),th(n,u,d),Cl(n,u,d,o),Tl(null,n,u,!0,e,o);case 19:return yh(e,n,o);case 22:return dh(e,n,o)}throw Error(r(156,n.tag))};function Fh(e,n){return Sc(e,n)}function mv(e,n,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,n,o,u){return new mv(e,n,o,u)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gv(e){if(typeof e=="function")return Ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pe)return 11;if(e===me)return 14}return 2}function Zn(e,n){var o=e.alternate;return o===null?(o=Wt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Do(e,n,o,u,d,f){var y=2;if(u=e,typeof e=="function")Ql(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case K:return Sr(o.children,d,f,n);case Y:y=8,d|=8;break;case he:return e=Wt(12,o,n,d|2),e.elementType=he,e.lanes=f,e;case ke:return e=Wt(13,o,n,d),e.elementType=ke,e.lanes=f,e;case oe:return e=Wt(19,o,n,d),e.elementType=oe,e.lanes=f,e;case ge:return Lo(o,d,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:y=10;break e;case ye:y=9;break e;case Pe:y=11;break e;case me:y=14;break e;case Se:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Wt(y,o,n,d),n.elementType=e,n.type=u,n.lanes=f,n}function Sr(e,n,o,u){return e=Wt(7,e,u,n),e.lanes=o,e}function Lo(e,n,o,u){return e=Wt(22,e,u,n),e.elementType=ge,e.lanes=o,e.stateNode={isHidden:!1},e}function Yl(e,n,o){return e=Wt(6,e,null,n),e.lanes=o,e}function Xl(e,n,o){return n=Wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function vv(e,n,o,u,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ka(0),this.expirationTimes=ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Zl(e,n,o,u,d,f,y,x,C){return e=new vv(e,n,o,x,C),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Wt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},hl(f),e}function yv(e,n,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:u==null?null:""+u,children:e,containerInfo:n,implementation:o}}function Wh(e){if(!e)return Vn;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(xt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var o=e.type;if(xt(o))return vd(e,o,n)}return n}function Vh(e,n,o,u,d,f,y,x,C){return e=Zl(o,u,!0,e,d,f,y,x,C),e.context=Wh(null),o=e.current,u=vt(),d=Yn(o),f=jn(u,d),f.callback=n??null,Kn(o,f,d),e.current.lanes=d,Rs(e,d,u),kt(e,u),e}function $o(e,n,o,u){var d=n.current,f=vt(),y=Yn(d);return o=Wh(o),n.context===null?n.context=o:n.pendingContext=o,n=jn(f,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Kn(d,n,y),e!==null&&(rn(e,d,y,f),po(e,d,y)),y}function Uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function eu(e,n){qh(e,n),(e=e.alternate)&&qh(e,n)}function wv(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}Mo.prototype.render=tu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));$o(e,n,null,null)},Mo.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yr(function(){$o(null,e,null,null)}),n[xn]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Mn.length&&n!==0&&n<Mn[o].priority;o++);Mn.splice(o,0,e),o===0&&Nc(e)}};function nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function _v(e,n,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var I=Uo(y);f.call(I)}}var y=Vh(n,u,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=y,e[xn]=y.current,qs(e.nodeType===8?e.parentNode:e),yr(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof u=="function"){var x=u;u=function(){var I=Uo(C);x.call(I)}}var C=Zl(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=C,e[xn]=C.current,qs(e.nodeType===8?e.parentNode:e),yr(function(){$o(n,C,o,u)}),C}function zo(e,n,o,u,d){var f=o._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var x=d;d=function(){var C=Uo(y);x.call(C)}}$o(n,y,e,d)}else y=_v(o,n,e,d,u);return Uo(y)}jc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Ts(n.pendingLanes);o!==0&&(Ca(n,o|1),kt(n,Fe()),(be&6)===0&&(Zr=Fe()+500,qn()))}break;case 13:yr(function(){var u=Cn(e,1);if(u!==null){var d=vt();rn(u,e,1,d)}}),eu(e,1)}},ja=function(e){if(e.tag===13){var n=Cn(e,134217728);if(n!==null){var o=vt();rn(n,e,134217728,o)}eu(e,134217728)}},Pc=function(e){if(e.tag===13){var n=Yn(e),o=Cn(e,n);if(o!==null){var u=vt();rn(o,e,n,u)}eu(e,n)}},Oc=function(){return Ce},Tc=function(e,n){var o=Ce;try{return Ce=e,n()}finally{Ce=o}},Ps=function(e,n,o){switch(n){case"input":if(Tr(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==e&&u.form===e.form){var d=ro(u);if(!d)throw Error(r(90));et(u),Tr(u,d)}}}break;case"textarea":Es(e,o);break;case"select":n=o.value,n!=null&&Ht(e,!!o.multiple,n,!1)}},mt=Kl,at=yr;var Sv={usingClientEntryPoint:!1,Events:[Js,Br,ro,ot,Jt,Kl]},li={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wc(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{Ui=Fo.inject(xv),dn=Fo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sv,Ct.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(n))throw Error(r(200));return yv(e,n,null,o)},Ct.createRoot=function(e,n){if(!nu(e))throw Error(r(299));var o=!1,u="",d=Hh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Zl(e,1,!1,null,null,o,!1,u,d),e[xn]=n.current,qs(e.nodeType===8?e.parentNode:e),new tu(n)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=wc(n),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return yr(e)},Ct.hydrate=function(e,n,o){if(!Bo(n))throw Error(r(200));return zo(null,e,n,!0,o)},Ct.hydrateRoot=function(e,n,o){if(!nu(e))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",y=Hh;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),n=Vh(n,null,e,1,o??null,d,!1,f,y),e[xn]=n.current,qs(e),u)for(e=0;e<u.length;e++)o=u[e],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new Mo(n)},Ct.render=function(e,n,o){if(!Bo(n))throw Error(r(200));return zo(null,e,n,!1,o)},Ct.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(r(40));return e._reactRootContainer?(yr(function(){zo(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},Ct.unstable_batchedUpdates=Kl,Ct.unstable_renderSubtreeIntoContainer=function(e,n,o,u){if(!Bo(o))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return zo(e,n,o,!1,u)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var tf;function sp(){if(tf)return iu.exports;tf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),iu.exports=Rv(),iu.exports}var nf;function Nv(){if(nf)return Wo;nf=1;var s=sp();return Wo.createRoot=s.createRoot,Wo.hydrateRoot=s.hydrateRoot,Wo}var Av=Nv();const Iv=Ju(Av),st=[];for(let s=0;s<256;++s)st.push((s+256).toString(16).slice(1));function Dv(s,t=0){return(st[s[t+0]]+st[s[t+1]]+st[s[t+2]]+st[s[t+3]]+"-"+st[s[t+4]]+st[s[t+5]]+"-"+st[s[t+6]]+st[s[t+7]]+"-"+st[s[t+8]]+st[s[t+9]]+"-"+st[s[t+10]]+st[s[t+11]]+st[s[t+12]]+st[s[t+13]]+st[s[t+14]]+st[s[t+15]]).toLowerCase()}let lu;const Lv=new Uint8Array(16);function $v(){if(!lu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lu=crypto.getRandomValues.bind(crypto)}return lu(Lv)}const Uv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rf={randomUUID:Uv};function Mv(s,t,r){s=s||{};const i=s.random??s.rng?.()??$v();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Dv(i)}function Eu(s,t,r){return rf.randomUUID&&!s?rf.randomUUID():Mv(s)}var ci=sp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},yi.apply(this,arguments)}var ir;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(ir||(ir={}));const sf="popstate";function Bv(s){s===void 0&&(s={});function t(i,a){let{pathname:l,search:c,hash:h}=i.location;return ku("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:na(a)}return Fv(t,r,null,s)}function Me(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function ip(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zv(){return Math.random().toString(36).substr(2,8)}function of(s,t){return{usr:s.state,key:s.key,idx:t}}function ku(s,t,r,i){return r===void 0&&(r=null),yi({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:r,key:t&&t.key||i||zv()})}function na(s){let{pathname:t="/",search:r="",hash:i=""}=s;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function fs(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substr(r),s=s.substr(0,r));let i=s.indexOf("?");i>=0&&(t.search=s.substr(i),s=s.substr(0,i)),s&&(t.pathname=s)}return t}function Fv(s,t,r,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h=ir.Pop,p=null,m=v();m==null&&(m=0,c.replaceState(yi({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function w(){h=ir.Pop;let k=v(),D=k==null?null:k-m;m=k,p&&p({action:h,location:E.location,delta:D})}function _(k,D){h=ir.Push;let N=ku(E.location,k,D);m=v()+1;let A=of(N,m),U=E.createHref(N);try{c.pushState(A,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(U)}l&&p&&p({action:h,location:E.location,delta:1})}function S(k,D){h=ir.Replace;let N=ku(E.location,k,D);m=v();let A=of(N,m),U=E.createHref(N);c.replaceState(A,"",U),l&&p&&p({action:h,location:E.location,delta:0})}function P(k){let D=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof k=="string"?k:na(k);return N=N.replace(/ $/,"%20"),Me(D,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,D)}let E={get action(){return h},get location(){return s(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(sf,w),p=k,()=>{a.removeEventListener(sf,w),p=null}},createHref(k){return t(a,k)},createURL:P,encodeLocation(k){let D=P(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:S,go(k){return c.go(k)}};return E}var af;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(af||(af={}));function Wv(s,t,r){return r===void 0&&(r="/"),Vv(s,t,r)}function Vv(s,t,r,i){let a=typeof t=="string"?fs(t):t,l=cs(a.pathname||"/",r);if(l==null)return null;let c=op(s);qv(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=ny(l);h=ey(c[p],m)}return h}function op(s,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let a=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=or([i,p.relativePath]),v=r.concat(p);l.children&&l.children.length>0&&(Me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),op(l.children,t,v,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:Xv(m,l.index),routesMeta:v})};return s.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let p of ap(l.path))a(l,c,p)}),t}function ap(s){let t=s.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=ap(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...c),h.map(p=>s.startsWith("/")&&p===""?"/":p)}function qv(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:Zv(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Hv=/^:[\w-]+$/,Kv=3,Jv=2,Gv=1,Qv=10,Yv=-2,lf=s=>s==="*";function Xv(s,t){let r=s.split("/"),i=r.length;return r.some(lf)&&(i+=Yv),t&&(i+=Jv),r.filter(a=>!lf(a)).reduce((a,l)=>a+(Hv.test(l)?Kv:l===""?Gv:Qv),i)}function Zv(s,t){return s.length===t.length&&s.slice(0,-1).every((i,a)=>i===t[a])?s[s.length-1]-t[t.length-1]:0}function ey(s,t,r){let{routesMeta:i}=s,a={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,v=l==="/"?t:t.slice(l.length)||"/",w=Cu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),_=p.route;if(!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:or([l,w.pathname]),pathnameBase:oy(or([l,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(l=or([l,w.pathnameBase]))}return c}function Cu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,i]=ty(s.path,s.caseSensitive,s.end),a=t.match(r);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,v,w)=>{let{paramName:_,isOptional:S}=v;if(_==="*"){let E=h[w]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const P=h[w];return S&&!P?m[_]=void 0:m[_]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:s}}function ty(s,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ip(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function ny(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ip(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function cs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=s.charAt(r);return i&&i!=="/"?null:s.slice(r)||"/"}function ry(s,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:a=""}=typeof s=="string"?fs(s):s;return{pathname:r?r.startsWith("/")?r:sy(r,t):t,search:ay(i),hash:ly(a)}}function sy(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uu(s,t,r,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iy(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qu(s,t){let r=iy(s);return t?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Yu(s,t,r,i){i===void 0&&(i=!1);let a;typeof s=="string"?a=fs(s):(a=yi({},s),Me(!a.pathname||!a.pathname.includes("?"),uu("?","pathname","search",a)),Me(!a.pathname||!a.pathname.includes("#"),uu("#","pathname","hash",a)),Me(!a.search||!a.search.includes("#"),uu("#","search","hash",a)));let l=s===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=r;else{let w=t.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;a.pathname=_.join("/")}h=w>=0?t[w]:"/"}let p=ry(a,h),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}const or=s=>s.join("/").replace(/\/\/+/g,"/"),oy=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ay=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ly=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function uy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const lp=["post","put","patch","delete"];new Set(lp);const cy=["get",...lp];new Set(cy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},wi.apply(this,arguments)}const fa=b.createContext(null),up=b.createContext(null),Rn=b.createContext(null),pa=b.createContext(null),vn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),cp=b.createContext(null);function dy(s,t){let{relative:r}=t===void 0?{}:t;ps()||Me(!1);let{basename:i,navigator:a}=b.useContext(Rn),{hash:l,pathname:c,search:h}=ma(s,{relative:r}),p=c;return i!=="/"&&(p=c==="/"?i:or([i,c])),a.createHref({pathname:p,search:h,hash:l})}function ps(){return b.useContext(pa)!=null}function ms(){return ps()||Me(!1),b.useContext(pa).location}function dp(s){b.useContext(Rn).static||b.useLayoutEffect(s)}function ji(){let{isDataRoute:s}=b.useContext(vn);return s?jy():hy()}function hy(){ps()||Me(!1);let s=b.useContext(fa),{basename:t,future:r,navigator:i}=b.useContext(Rn),{matches:a}=b.useContext(vn),{pathname:l}=ms(),c=JSON.stringify(Qu(a,r.v7_relativeSplatPath)),h=b.useRef(!1);return dp(()=>{h.current=!0}),b.useCallback(function(m,v){if(v===void 0&&(v={}),!h.current)return;if(typeof m=="number"){i.go(m);return}let w=Yu(m,JSON.parse(c),l,v.relative==="path");s==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:or([t,w.pathname])),(v.replace?i.replace:i.push)(w,v.state,v)},[t,i,c,l,s])}const fy=b.createContext(null);function py(s){let t=b.useContext(vn).outlet;return t&&b.createElement(fy.Provider,{value:s},t)}function my(){let{matches:s}=b.useContext(vn),t=s[s.length-1];return t?t.params:{}}function ma(s,t){let{relative:r}=t===void 0?{}:t,{future:i}=b.useContext(Rn),{matches:a}=b.useContext(vn),{pathname:l}=ms(),c=JSON.stringify(Qu(a,i.v7_relativeSplatPath));return b.useMemo(()=>Yu(s,JSON.parse(c),l,r==="path"),[s,c,l,r])}function gy(s,t){return vy(s,t)}function vy(s,t,r,i){ps()||Me(!1);let{navigator:a}=b.useContext(Rn),{matches:l}=b.useContext(vn),c=l[l.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=ms(),v;if(t){var w;let k=typeof t=="string"?fs(t):t;p==="/"||(w=k.pathname)!=null&&w.startsWith(p)||Me(!1),v=k}else v=m;let _=v.pathname||"/",S=_;if(p!=="/"){let k=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=Wv(s,{pathname:S}),E=xy(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:or([p,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:or([p,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,i);return t&&E?b.createElement(pa.Provider,{value:{location:wi({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:ir.Pop}},E):E}function yy(){let s=Cy(),t=uy(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const wy=b.createElement(yy,null);class _y extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(vn.Provider,{value:this.props.routeContext},b.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sy(s){let{routeContext:t,match:r,children:i}=s,a=b.useContext(fa);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(vn.Provider,{value:t},i)}function xy(s,t,r,i){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),s==null){var l;if(!r)return null;if(r.errors)s=r.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let c=s,h=(a=r)==null?void 0:a.errors;if(h!=null){let v=c.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);v>=0||Me(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(r&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:_,errors:S}=r,P=w.route.loader&&_[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,w,_)=>{let S,P=!1,E=null,k=null;r&&(S=h&&w.route.id?h[w.route.id]:void 0,E=w.route.errorElement||wy,p&&(m<0&&_===0?(Py("route-fallback"),P=!0,k=null):m===_&&(P=!0,k=w.route.hydrateFallbackElement||null)));let D=t.concat(c.slice(0,_+1)),N=()=>{let A;return S?A=E:P?A=k:w.route.Component?A=b.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=v,b.createElement(Sy,{match:w,routeContext:{outlet:v,matches:D,isDataRoute:r!=null},children:A})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?b.createElement(_y,{location:r.location,revalidation:r.revalidation,component:E,error:S,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}var hp=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(hp||{}),fp=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(fp||{});function by(s){let t=b.useContext(fa);return t||Me(!1),t}function Ey(s){let t=b.useContext(up);return t||Me(!1),t}function ky(s){let t=b.useContext(vn);return t||Me(!1),t}function pp(s){let t=ky(),r=t.matches[t.matches.length-1];return r.route.id||Me(!1),r.route.id}function Cy(){var s;let t=b.useContext(cp),r=Ey(),i=pp();return t!==void 0?t:(s=r.errors)==null?void 0:s[i]}function jy(){let{router:s}=by(hp.UseNavigateStable),t=pp(fp.UseNavigateStable),r=b.useRef(!1);return dp(()=>{r.current=!0}),b.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,wi({fromRouteId:t},l)))},[s,t])}const uf={};function Py(s,t,r){uf[s]||(uf[s]=!0)}function Oy(s,t){s?.v7_startTransition,s?.v7_relativeSplatPath}function Ty(s){let{to:t,replace:r,state:i,relative:a}=s;ps()||Me(!1);let{future:l,static:c}=b.useContext(Rn),{matches:h}=b.useContext(vn),{pathname:p}=ms(),m=ji(),v=Yu(t,Qu(h,l.v7_relativeSplatPath),p,a==="path"),w=JSON.stringify(v);return b.useEffect(()=>m(JSON.parse(w),{replace:r,state:i,relative:a}),[m,w,a,r,i]),null}function Ry(s){return py(s.context)}function Vt(s){Me(!1)}function Ny(s){let{basename:t="/",children:r=null,location:i,navigationType:a=ir.Pop,navigator:l,static:c=!1,future:h}=s;ps()&&Me(!1);let p=t.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:p,navigator:l,static:c,future:wi({v7_relativeSplatPath:!1},h)}),[p,h,l,c]);typeof i=="string"&&(i=fs(i));let{pathname:v="/",search:w="",hash:_="",state:S=null,key:P="default"}=i,E=b.useMemo(()=>{let k=cs(v,p);return k==null?null:{location:{pathname:k,search:w,hash:_,state:S,key:P},navigationType:a}},[p,v,w,_,S,P,a]);return E==null?null:b.createElement(Rn.Provider,{value:m},b.createElement(pa.Provider,{children:r,value:E}))}function Ay(s){let{children:t,location:r}=s;return gy(ju(t),r)}new Promise(()=>{});function ju(s,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(s,(i,a)=>{if(!b.isValidElement(i))return;let l=[...t,a];if(i.type===b.Fragment){r.push.apply(r,ju(i.props.children,l));return}i.type!==Vt&&Me(!1),!i.props.index||!i.props.children||Me(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ju(i.props.children,l)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},ra.apply(this,arguments)}function mp(s,t){if(s==null)return{};var r={},i=Object.keys(s),a,l;for(l=0;l<i.length;l++)a=i[l],!(t.indexOf(a)>=0)&&(r[a]=s[a]);return r}function Iy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Dy(s,t){return s.button===0&&(!t||t==="_self")&&!Iy(s)}const Ly=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$y=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Uy="6";try{window.__reactRouterVersion=Uy}catch{}const My=b.createContext({isTransitioning:!1}),By="startTransition",cf=Pv[By];function zy(s){let{basename:t,children:r,future:i,window:a}=s,l=b.useRef();l.current==null&&(l.current=Bv({window:a,v5Compat:!0}));let c=l.current,[h,p]=b.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=b.useCallback(w=>{m&&cf?cf(()=>p(w)):p(w)},[p,m]);return b.useLayoutEffect(()=>c.listen(v),[c,v]),b.useEffect(()=>Oy(i),[i]),b.createElement(Ny,{basename:t,children:r,location:h.location,navigationType:h.action,navigator:c,future:i})}const Fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vy=b.forwardRef(function(t,r){let{onClick:i,relative:a,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:v,viewTransition:w}=t,_=mp(t,Ly),{basename:S}=b.useContext(Rn),P,E=!1;if(typeof m=="string"&&Wy.test(m)&&(P=m,Fy))try{let A=new URL(window.location.href),U=m.startsWith("//")?new URL(A.protocol+m):new URL(m),H=cs(U.pathname,S);U.origin===A.origin&&H!=null?m=H+U.search+U.hash:E=!0}catch{}let k=dy(m,{relative:a}),D=Hy(m,{replace:c,state:h,target:p,preventScrollReset:v,relative:a,viewTransition:w});function N(A){i&&i(A),A.defaultPrevented||D(A)}return b.createElement("a",ra({},_,{href:P||k,onClick:E||l?i:N,ref:r,target:p}))}),xr=b.forwardRef(function(t,r){let{"aria-current":i="page",caseSensitive:a=!1,className:l="",end:c=!1,style:h,to:p,viewTransition:m,children:v}=t,w=mp(t,$y),_=ma(p,{relative:w.relative}),S=ms(),P=b.useContext(up),{navigator:E,basename:k}=b.useContext(Rn),D=P!=null&&Ky(_)&&m===!0,N=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,A=S.pathname,U=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;a||(A=A.toLowerCase(),U=U?U.toLowerCase():null,N=N.toLowerCase()),U&&k&&(U=cs(U,k)||U);const H=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let M=A===N||!c&&A.startsWith(N)&&A.charAt(H)==="/",K=U!=null&&(U===N||!c&&U.startsWith(N)&&U.charAt(N.length)==="/"),Y={isActive:M,isPending:K,isTransitioning:D},he=M?i:void 0,_e;typeof l=="function"?_e=l(Y):_e=[l,M?"active":null,K?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ye=typeof h=="function"?h(Y):h;return b.createElement(Vy,ra({},w,{"aria-current":he,className:_e,ref:r,style:ye,to:p,viewTransition:m}),typeof v=="function"?v(Y):v)});var Pu;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Pu||(Pu={}));var df;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(df||(df={}));function qy(s){let t=b.useContext(fa);return t||Me(!1),t}function Hy(s,t){let{target:r,replace:i,state:a,preventScrollReset:l,relative:c,viewTransition:h}=t===void 0?{}:t,p=ji(),m=ms(),v=ma(s,{relative:c});return b.useCallback(w=>{if(Dy(w,r)){w.preventDefault();let _=i!==void 0?i:na(m)===na(v);p(s,{replace:_,state:a,preventScrollReset:l,relative:c,viewTransition:h})}},[m,p,v,i,a,r,s,l,c,h])}function Ky(s,t){t===void 0&&(t={});let r=b.useContext(My);r==null&&Me(!1);let{basename:i}=qy(Pu.useViewTransitionState),a=ma(s,{relative:t.relative});if(!r.isTransitioning)return!1;let l=cs(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=cs(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Cu(a.pathname,c)!=null||Cu(a.pathname,l)!=null}var Ou=function(s,t){return Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},Ou(s,t)};function gp(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ou(s,t);function r(){this.constructor=s}s.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sa=function(){return sa=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},sa.apply(this,arguments)};function gs(s,t){var r={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(r[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(s);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(s,i[a])&&(r[i[a]]=s[i[a]]);return r}function vp(s,t,r,i){var a=arguments.length,l=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(s,t,r,i);else for(var h=s.length-1;h>=0;h--)(c=s[h])&&(l=(a<3?c(l):a>3?c(t,r,l):c(t,r))||l);return a>3&&l&&Object.defineProperty(t,r,l),l}function yp(s,t){return function(r,i){t(r,i,s)}}function wp(s,t,r,i,a,l){function c(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var h=i.kind,p=h==="getter"?"get":h==="setter"?"set":"value",m=!t&&s?i.static?s:s.prototype:null,v=t||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),w,_=!1,S=r.length-1;S>=0;S--){var P={};for(var E in i)P[E]=E==="access"?{}:i[E];for(var E in i.access)P.access[E]=i.access[E];P.addInitializer=function(D){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(D||null))};var k=(0,r[S])(h==="accessor"?{get:v.get,set:v.set}:v[p],P);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=c(k.get))&&(v.get=w),(w=c(k.set))&&(v.set=w),(w=c(k.init))&&a.unshift(w)}else(w=c(k))&&(h==="field"?a.unshift(w):v[p]=w)}m&&Object.defineProperty(m,i.name,v),_=!0}function _p(s,t,r){for(var i=arguments.length>2,a=0;a<t.length;a++)r=i?t[a].call(s,r):t[a].call(s);return i?r:void 0}function Sp(s){return typeof s=="symbol"?s:"".concat(s)}function xp(s,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function bp(s,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,t)}function ne(s,t,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(v){try{m(i.next(v))}catch(w){c(w)}}function p(v){try{m(i.throw(v))}catch(w){c(w)}}function m(v){v.done?l(v.value):a(v.value).then(h,p)}m((i=i.apply(s,t||[])).next())})}function Ep(s,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(v){return p([m,v])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(i=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,a=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(s,r)}catch(v){m=[6,v],a=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var ga=Object.create?(function(s,t,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(s,i,a)}):(function(s,t,r,i){i===void 0&&(i=r),s[i]=t[r]});function kp(s,t){for(var r in s)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ga(t,s,r)}function ia(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],i=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xu(s,t){var r=typeof Symbol=="function"&&s[Symbol.iterator];if(!r)return s;var i=r.call(s),a,l=[],c;try{for(;(t===void 0||t-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(c)throw c.error}}return l}function Cp(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(Xu(arguments[t]));return s}function jp(){for(var s=0,t=0,r=arguments.length;t<r;t++)s+=arguments[t].length;for(var i=Array(s),a=0,t=0;t<r;t++)for(var l=arguments[t],c=0,h=l.length;c<h;c++,a++)i[a]=l[c];return i}function Pp(s,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return s.concat(l||Array.prototype.slice.call(t))}function ds(s){return this instanceof ds?(this.v=s,this):new ds(s)}function Op(s,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(s,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(S){return function(P){return Promise.resolve(P).then(S,w)}}function h(S,P){i[S]&&(a[S]=function(E){return new Promise(function(k,D){l.push([S,E,k,D])>1||p(S,E)})},P&&(a[S]=P(a[S])))}function p(S,P){try{m(i[S](P))}catch(E){_(l[0][3],E)}}function m(S){S.value instanceof ds?Promise.resolve(S.value.v).then(v,w):_(l[0][2],S)}function v(S){p("next",S)}function w(S){p("throw",S)}function _(S,P){S(P),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Tp(s){var t,r;return t={},i("next"),i("throw",function(a){throw a}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(a,l){t[a]=s[a]?function(c){return(r=!r)?{value:ds(s[a](c)),done:!1}:l?l(c):c}:l}}function Rp(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s[Symbol.asyncIterator],r;return t?t.call(s):(s=typeof ia=="function"?ia(s):s[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=s[l]&&function(c){return new Promise(function(h,p){c=s[l](c),a(h,p,c.done,c.value)})}}function a(l,c,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},c)}}function Np(s,t){return Object.defineProperty?Object.defineProperty(s,"raw",{value:t}):s.raw=t,s}var Jy=Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t},Tu=function(s){return Tu=Object.getOwnPropertyNames||function(t){var r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[r.length]=i);return r},Tu(s)};function Ap(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var r=Tu(s),i=0;i<r.length;i++)r[i]!=="default"&&ga(t,s,r[i]);return Jy(t,s),t}function Ip(s){return s&&s.__esModule?s:{default:s}}function Dp(s,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?s!==t||!i:!t.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(s):i?i.value:t.get(s)}function Lp(s,t,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?s!==t||!a:!t.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(s,r):a?a.value=r:t.set(s,r),r}function $p(s,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?t===s:s.has(t)}function Up(s,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),s.stack.push({value:t,dispose:i,async:r})}else r&&s.stack.push({async:!0});return t}var Gy=typeof SuppressedError=="function"?SuppressedError:function(s,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=s,i.suppressed=t,i};function Mp(s){function t(l){s.error=s.hasError?new Gy(l,s.error,"An error was suppressed during disposal."):l,s.hasError=!0}var r,i=0;function a(){for(;r=s.stack.pop();)try{if(!r.async&&i===1)return i=0,s.stack.push(r),Promise.resolve().then(a);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(a,function(c){return t(c),a()})}else i|=1}catch(c){t(c)}if(i===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return a()}function Bp(s,t){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,l,c){return i?t?".jsx":".js":a&&(!l||!c)?r:a+l+"."+c.toLowerCase()+"js"}):s}const Qy={__extends:gp,__assign:sa,__rest:gs,__decorate:vp,__param:yp,__esDecorate:wp,__runInitializers:_p,__propKey:Sp,__setFunctionName:xp,__metadata:bp,__awaiter:ne,__generator:Ep,__createBinding:ga,__exportStar:kp,__values:ia,__read:Xu,__spread:Cp,__spreadArrays:jp,__spreadArray:Pp,__await:ds,__asyncGenerator:Op,__asyncDelegator:Tp,__asyncValues:Rp,__makeTemplateObject:Np,__importStar:Ap,__importDefault:Ip,__classPrivateFieldGet:Dp,__classPrivateFieldSet:Lp,__classPrivateFieldIn:$p,__addDisposableResource:Up,__disposeResources:Mp,__rewriteRelativeImportExtension:Bp},Yy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Up,get __assign(){return sa},__asyncDelegator:Tp,__asyncGenerator:Op,__asyncValues:Rp,__await:ds,__awaiter:ne,__classPrivateFieldGet:Dp,__classPrivateFieldIn:$p,__classPrivateFieldSet:Lp,__createBinding:ga,__decorate:vp,__disposeResources:Mp,__esDecorate:wp,__exportStar:kp,__extends:gp,__generator:Ep,__importDefault:Ip,__importStar:Ap,__makeTemplateObject:Np,__metadata:bp,__param:yp,__propKey:Sp,__read:Xu,__rest:gs,__rewriteRelativeImportExtension:Bp,__runInitializers:_p,__setFunctionName:xp,__spread:Cp,__spreadArray:Pp,__spreadArrays:jp,__values:ia,default:Qy},Symbol.toStringTag,{value:"Module"})),Xy="modulepreload",Zy=function(s){return"/"+s},hf={},vs=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var c=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");a=m(r.map(v=>{if(v=Zy(v),v in hf)return;hf[v]=!0;const w=v.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${_}`))return;const S=document.createElement("link");if(S.rel=w?"stylesheet":Xy,w||(S.as="script"),S.crossOrigin="",S.href=v,p&&S.setAttribute("nonce",p),document.head.appendChild(S),w)return new Promise((P,E)=>{S.addEventListener("load",P),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return a.then(h=>{for(const p of h||[])p.status==="rejected"&&l(p.reason);return t().catch(l)})},e0=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)};class Zu extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class ff extends Zu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pf extends Zu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mf extends Zu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ru;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Ru||(Ru={}));class t0{constructor(t,{headers:r={},customFetch:i,region:a=Ru.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=e0(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ne(this,arguments,void 0,function*(r,i={}){var a;try{const{headers:l,method:c,body:h,signal:p}=i;let m={},{region:v}=i;v||(v=this.region);const w=new URL(`${this.url}/${r}`);v&&v!=="any"&&(m["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(m["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(m["Content-Type"]="application/json",_=JSON.stringify(h)):_=h;const S=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:_,signal:p}).catch(D=>{throw D.name==="AbortError"?D:new ff(D)}),P=S.headers.get("x-relay-error");if(P&&P==="true")throw new pf(S);if(!S.ok)throw new mf(S);let E=((a=S.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return E==="application/json"?k=yield S.json():E==="application/octet-stream"||E==="application/pdf"?k=yield S.blob():E==="text/event-stream"?k=S:E==="multipart/form-data"?k=yield S.formData():k=yield S.text(),{data:k,error:null,response:S}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new ff(l)}:{data:null,error:l,response:l instanceof mf||l instanceof pf?l.context:void 0}}})}}var ft={};const ys=rp(Yy);var Vo={},qo={},Ho={},Ko={},Jo={},n0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hs=n0();const r0=hs.fetch,zp=hs.fetch.bind(hs),Fp=hs.Headers,s0=hs.Request,i0=hs.Response,Or=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fp,Request:s0,Response:i0,default:zp,fetch:r0},Symbol.toStringTag,{value:"Module"})),o0=rp(Or);var Go={},gf;function Wp(){if(gf)return Go;gf=1,Object.defineProperty(Go,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Go.default=s,Go}var vf;function Vp(){if(vf)return Jo;vf=1,Object.defineProperty(Jo,"__esModule",{value:!0});const s=ys,t=s.__importDefault(o0),r=s.__importDefault(Wp());class i{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,w,_,S;let P=null,E=null,k=null,D=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const M=await m.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?E=M:E=JSON.parse(M))}const U=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),H=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&H&&H.length>1&&(k=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(P={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,k=null,D=406,N="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const U=await m.text();try{P=JSON.parse(U),Array.isArray(P)&&m.status===404&&(E=[],P=null,D=200,N="OK")}catch{m.status===404&&U===""?(D=204,N="No Content"):P={message:U}}if(P&&this.isMaybeSingle&&(!((S=P?.details)===null||S===void 0)&&S.includes("0 rows"))&&(P=null,D=200,N="OK"),P&&this.shouldThrowOnError)throw new r.default(P)}return{error:P,data:E,count:k,status:D,statusText:N}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,w,_;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(w=m?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,c)}returns(){return this}overrideTypes(){return this}}return Jo.default=i,Jo}var yf;function qp(){if(yf)return Ko;yf=1,Object.defineProperty(Ko,"__esModule",{value:!0});const t=ys.__importDefault(Vp());class r extends t.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(m,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var v;const w=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ko.default=r,Ko}var wf;function ec(){if(wf)return Ho;wf=1,Object.defineProperty(Ho,"__esModule",{value:!0});const t=ys.__importDefault(qp());class r extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${p}fts${m}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return Ho.default=r,Ho}var _f;function Hp(){if(_f)return qo;_f=1,Object.defineProperty(qo,"__esModule",{value:!0});const t=ys.__importDefault(ec());class r{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(a,l){const{head:c=!1,count:h}=l??{},p=c?"HEAD":"GET";let m=!1;const v=(a??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(w.length>0){const _=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return qo.default=r,qo}var Sf;function a0(){if(Sf)return Vo;Sf=1,Object.defineProperty(Vo,"__esModule",{value:!0});const s=ys,t=s.__importDefault(Hp()),r=s.__importDefault(ec());class i{constructor(l,{headers:c={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(l){const c=new URL(`${this.url}/${l}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:p=!1,count:m}={}){var v;let w;const _=new URL(`${this.url}/rpc/${l}`);let S;h||p?(w=h?"HEAD":"GET",Object.entries(c).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{_.searchParams.append(E,k)})):(w="POST",S=c);const P=new Headers(this.headers);return m&&P.set("Prefer",`count=${m}`),new r.default({method:w,url:_,headers:P,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Vo.default=i,Vo}var xf;function l0(){if(xf)return ft;xf=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const s=ys,t=s.__importDefault(a0());ft.PostgrestClient=t.default;const r=s.__importDefault(Hp());ft.PostgrestQueryBuilder=r.default;const i=s.__importDefault(ec());ft.PostgrestFilterBuilder=i.default;const a=s.__importDefault(qp());ft.PostgrestTransformBuilder=a.default;const l=s.__importDefault(Vp());ft.PostgrestBuilder=l.default;const c=s.__importDefault(Wp());return ft.PostgrestError=c.default,ft.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},ft}var u0=l0();const c0=Ju(u0),{PostgrestClient:d0,PostgrestQueryBuilder:$x,PostgrestFilterBuilder:Ux,PostgrestTransformBuilder:Mx,PostgrestBuilder:Bx,PostgrestError:zx}=c0;class h0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const f0="2.76.1",p0=`realtime-js/${f0}`,m0="1.0.0",Nu=1e4,g0=1e3,v0=100;var hi;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(hi||(hi={}));var Je;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Je||(Je={}));var an;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(an||(an={}));var Au;(function(s){s.websocket="websocket"})(Au||(Au={}));var Cr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Cr||(Cr={}));class y0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,r,i)}_decodeBroadcast(t,r,i){const a=r.getUint8(1),l=r.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(t.slice(c,c+a));c=c+a;const p=i.decode(t.slice(c,c+l));c=c+l;const m=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Kp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Te||(Te={}));const bf=(s,t,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=w0(c,s,t,a),l),{}):{}},w0=(s,t,r,i)=>{const a=t.find(h=>h.name===s),l=a?.type,c=r[s];return l&&!i.includes(l)?Jp(l,c):Iu(c)},Jp=(s,t)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return b0(t,r)}switch(s){case Te.bool:return _0(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return S0(t);case Te.json:case Te.jsonb:return x0(t);case Te.timestamp:return E0(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Iu(t);default:return Iu(t)}},Iu=s=>s,_0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},S0=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},x0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},b0=(s,t)=>{if(typeof s!="string")return s;const r=s.length-1,i=s[r];if(s[0]==="{"&&i==="}"){let l;const c=s.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Jp(t,h))}return s},E0=s=>typeof s=="string"?s.replace(" ","T"):s,Gp=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cu{constructor(t,r,i={},a=Nu){this.channel=t,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ef;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ef||(Ef={}));class fi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fi.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=fi.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fi.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,a){const l=this.cloneDeep(t),c=this.transformState(r),h={},p={};return this.map(l,(m,v)=>{c[m]||(p[m]=v)}),this.map(c,(m,v)=>{const w=l[m];if(w){const _=v.map(k=>k.presence_ref),S=w.map(k=>k.presence_ref),P=v.filter(k=>S.indexOf(k.presence_ref)<0),E=w.filter(k=>_.indexOf(k.presence_ref)<0);P.length>0&&(h[m]=P),E.length>0&&(p[m]=E)}else h[m]=v}),this.syncDiff(l,{joins:h,leaves:p},i,a)}static syncDiff(t,r,i,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,p)=>{var m;const v=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),v.length>0){const w=t[h].map(S=>S.presence_ref),_=v.filter(S=>w.indexOf(S.presence_ref)<0);t[h].unshift(..._)}i(h,v,p)}),this.map(c,(h,p)=>{let m=t[h];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[h]=m,a(h,m,p),m.length===0&&delete t[h]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const a=t[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kf;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(kf||(kf={}));var pi;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(pi||(pi={}));var Tn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class tc{constructor(t,r={config:{}},i){var a,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cu(this,an.join,this.params,this.timeout),this.rejoinTimer=new Kp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new fi(this),this.broadcastEndpointURL=Gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[pi.PRESENCE]&&this.bindings[pi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Tn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var P;if(this.socket.setAuth(),S===void 0){t?.(Tn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,k=(P=E?.length)!==null&&P!==void 0?P:0,D=[];for(let N=0;N<k;N++){const A=E[N],{filter:{event:U,schema:H,table:M,filter:K}}=A,Y=S&&S[N];if(Y&&Y.event===U&&Y.schema===H&&Y.table===M&&Y.filter===K)D.push(Object.assign(Object.assign({},A),{id:Y.id}));else{this.unsubscribe(),this.state=Je.errored,t?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(Tn.SUBSCRIBED);return}}).receive("error",S=>{this.state=Je.errored,t?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Je.joined&&t===pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new cu(this,an.leave,{},t),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cu(this,t,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>v0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var a,l;const c=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:v}=an;if(i&&[h,p,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var P,E,k;return((P=S.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(E=S.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(S=>S.callback(_,i)):(l=this.bindings[c])===null||l===void 0||l.filter(S=>{var P,E,k,D,N,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const U=S.id,H=(P=S.filter)===null||P===void 0?void 0:P.event;return U&&((E=r.ids)===null||E===void 0?void 0:E.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const U=(N=(D=S?.filter)===null||D===void 0?void 0:D.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return U==="*"||U===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const P=_.data,{schema:E,table:k,commit_timestamp:D,type:N,errors:A}=P;_=Object.assign(Object.assign({},{schema:E,table:k,commit_timestamp:D,eventType:N,new:{},old:{},errors:A}),this._getPayloadRecords(P))}S.callback(_,i)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const a=t.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&tc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bf(t.columns,t.old_record)),r}}const du=()=>{},Qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k0=[1e3,2e3,5e3,1e4],C0=1e4,j0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P0{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nu,this.transport=null,this.heartbeatIntervalMs=Qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=du,this.ref=0,this.reconnectTimer=null,this.logger=du,this.conn=null,this.sendBuffer=[],this.serializer=new y0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>vs(async()=>{const{default:h}=await Promise.resolve().then(()=>Or);return{default:h}},void 0).then(({default:h})=>h(...c)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Au.websocket}`,this.httpEndpoint=Gp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=h0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:m0}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case hi.connecting:return Cr.Connecting;case hi.open:return Cr.Open;case hi.closing:return Cr.Closing;default:return Cr.Closed}}isConnected(){return this.connectionState()===Cr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new tc(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:a,ref:l}=t,c=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(g0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=r,h=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${i}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([j0],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:p0};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(an.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Kp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,a,l,c,h,p,m,v;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Nu,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Qo.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:du,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(w=>k0[w-1]||C0),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,_)=>_(JSON.stringify(w))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class nc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class O0 extends nc{constructor(t,r,i){super(t),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Du extends nc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const rc=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},T0=()=>ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vs(()=>Promise.resolve().then(()=>Or),void 0)).Response:Response}),Lu=s=>{if(Array.isArray(s))return s.map(r=>Lu(r));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=Lu(i)}),t},R0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},hu=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),N0=(s,t,r)=>ne(void 0,void 0,void 0,function*(){const i=yield T0();s instanceof i&&!r?.noResolveJson?s.json().then(a=>{const l=s.status||500,c=a?.statusCode||l+"";t(new O0(hu(a),l,c))}).catch(a=>{t(new Du(hu(a),a))}):t(new Du(hu(s),s))}),A0=(s,t,r,i)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"||!i?a:(R0(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Pi(s,t,r,i,a,l){return ne(this,void 0,void 0,function*(){return new Promise((c,h)=>{s(r,A0(t,i,a,l)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>N0(p,h,i))})})}function _i(s,t,r,i){return ne(this,void 0,void 0,function*(){return Pi(s,"GET",t,r,i)})}function on(s,t,r,i,a){return ne(this,void 0,void 0,function*(){return Pi(s,"POST",t,i,a,r)})}function $u(s,t,r,i,a){return ne(this,void 0,void 0,function*(){return Pi(s,"PUT",t,i,a,r)})}function I0(s,t,r,i){return ne(this,void 0,void 0,function*(){return Pi(s,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function sc(s,t,r,i,a){return ne(this,void 0,void 0,function*(){return Pi(s,"DELETE",t,i,a,r)})}class D0{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}}var Qp;class L0{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Qp]="BlobDownloadBuilder",this.promise=null}asStream(){return new D0(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}}Qp=Symbol.toStringTag;const $0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class U0{constructor(t,r={},i,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=i,this.fetch=rc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,i,a){return ne(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Cf),a);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),w=yield(t=="PUT"?$u:on)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}})}upload(t,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,i)})}uploadToSignedUrl(t,r,i,a){return ne(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:Cf.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield $u(this.fetch,h.toString(),p,{headers:v});return{data:{path:l,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ue(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const l=yield on(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new nc("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}update(t,r,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,i)})}move(t,r,i){return ne(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}copy(t,r,i){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,i){return ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield on(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,i){return ne(this,void 0,void 0,function*(){try{const a=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(t),p=()=>_i(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new L0(p,this.shouldThrowOnError)}info(t){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const i=yield _i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}exists(t){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield I0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i)&&i instanceof Du){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,r){const i=this._getFinalPath(t),a=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const h=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&a.push(p);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(t){return ne(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}list(t,r,i){return ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},$0),r),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}listV2(t,r){return ne(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield on(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Yp="2.76.1",Xp={"X-Client-Info":`storage-js/${Yp}`};class M0{constructor(t,r={},i,a){this.shouldThrowOnError=!1;const l=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xp),r),this.fetch=rc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ne(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}createBucket(t){return ne(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ne(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}class B0{constructor(t,r={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xp),r),this.fetch=rc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBuckets(t){return ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,l=yield _i(this.fetch,a,{headers:this.headers});return{data:Array.isArray(l)?l.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}const ic={"X-Client-Info":`storage-js/${Yp}`,"Content-Type":"application/json"};class Zp extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class fu extends Zp{constructor(t,r,i){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z0 extends Zp{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var jf;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jf||(jf={}));const oc=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},F0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Pf=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),W0=(s,t,r)=>ne(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const a=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const h=c?.statusCode||c?.code||a+"";t(new fu(Pf(c),a,h))}).catch(()=>{const c=a+"",h=l.statusText||`HTTP ${a} error`;t(new fu(h,a,c))});else{const c=a+"",h=l.statusText||`HTTP ${a} error`;t(new fu(h,a,c))}}else t(new z0(Pf(s),s))}),V0=(s,t,r,i)=>{const a={method:s,headers:t?.headers||{}};return i?(F0(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function q0(s,t,r,i,a,l){return ne(this,void 0,void 0,function*(){return new Promise((c,h)=>{s(r,V0(t,i,a,l)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>W0(p,h,i))})})}function Lt(s,t,r,i,a){return ne(this,void 0,void 0,function*(){return q0(s,"POST",t,i,a,r)})}class H0{constructor(t,r={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ic),r),this.fetch=oc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}listIndexes(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}}class K0{constructor(t,r={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ic),r),this.fetch=oc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getVectors(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}listVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Lt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}queryVectors(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}}class J0{constructor(t,r={},i){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ic),r),this.fetch=oc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}getBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}listBuckets(){return ne(this,arguments,void 0,function*(t={}){try{return{data:yield Lt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}}class G0 extends J0{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Q0(this.url,this.headers,t,this.fetch)}}class Q0 extends H0{constructor(t,r,i,a){super(t,r,a),this.vectorBucketName=i}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Y0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Y0 extends K0{constructor(t,r,i,a,l){super(t,r,l),this.vectorBucketName=i,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X0 extends M0{constructor(t,r={},i,a){super(t,r,i,a)}from(t){return new U0(this.url,this.headers,t,this.fetch)}get vectors(){return new G0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B0(this.url+"/iceberg",this.headers,this.fetch)}}const Z0="2.76.1";let di="";typeof Deno<"u"?di="deno":typeof document<"u"?di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?di="react-native":di="node";const ew={"X-Client-Info":`supabase-js-${di}/${Z0}`},tw={headers:ew},nw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sw={},iw=s=>{let t;return s?t=s:typeof fetch>"u"?t=zp:t=fetch,(...r)=>t(...r)},ow=()=>typeof Headers>"u"?Fp:Headers,aw=(s,t,r)=>{const i=iw(r),a=ow();return async(l,c)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:s;let m=new a(c?.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:m}))}};function lw(s){return s.endsWith("/")?s:s+"/"}function uw(s,t){var r,i;const{db:a,auth:l,realtime:c,global:h}=s,{db:p,auth:m,realtime:v,global:w}=t,_={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),h),{headers:Object.assign(Object.assign({},(r=w?.headers)!==null&&r!==void 0?r:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function cw(s){const t=s?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const em="2.76.1",os=30*1e3,Uu=3,pu=Uu*os,dw="http://localhost:9999",hw="supabase.auth.token",fw={"X-Client-Info":`gotrue-js/${em}`},Mu="X-Supabase-Api-Version",tm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mw=600*1e3;class Si extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function de(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class gw extends Si{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function vw(s){return de(s)&&s.name==="AuthApiError"}class jr extends Si{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ar extends Si{constructor(t,r,i,a){super(t,i,a),this.name=r,this.status=i}}class nr extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yw(s){return de(s)&&s.name==="AuthSessionMissingError"}class ts extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yo extends ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xo extends ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ww(s){return de(s)&&s.name==="AuthImplicitGrantRedirectError"}class Of extends ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bu extends ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mu(s){return de(s)&&s.name==="AuthRetryableFetchError"}class Tf extends ar{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class zu extends ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),_w=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Rf.length;t+=1)s[Rf[t].charCodeAt(0)]=-2;for(let t=0;t<oa.length;t+=1)s[oa[t].charCodeAt(0)]=t;return s})();function Nf(s,t,r){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(oa[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(oa[i]),t.queuedBits-=6}}function nm(s,t,r){const i=_w[s];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Af(s){const t=[],r=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{bw(c,i,r)};for(let c=0;c<s.length;c+=1)nm(s.charCodeAt(c),a,l);return t.join("")}function Sw(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function xw(s,t){for(let r=0;r<s.length;r+=1){let i=s.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(s.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Sw(i,t)}}function bw(s,t,r){if(t.utf8seq===0){if(s<=127){r(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ls(s){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<s.length;a+=1)nm(s.charCodeAt(a),r,i);return new Uint8Array(t)}function Ew(s){const t=[];return xw(s,r=>t.push(r)),new Uint8Array(t)}function Pr(s){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};return s.forEach(a=>Nf(a,r,i)),Nf(null,r,i),t.join("")}function kw(s){return Math.round(Date.now()/1e3)+s}function Cw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},rm=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function jw(s){const t={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{t[a]=i}),t}const sm=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:i}=await Promise.resolve().then(()=>Or);return{default:i}},void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},Pw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",as=async(s,t,r)=>{await s.setItem(t,JSON.stringify(r))},Er=async(s,t)=>{const r=await s.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},tr=async(s,t)=>{await s.removeItem(t)};class va{constructor(){this.promise=new va.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}va.promiseConstructor=Promise;function gu(s){const t=s.split(".");if(t.length!==3)throw new zu("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!pw.test(t[i]))throw new zu("JWT not in base64url format");return{header:JSON.parse(Af(t[0])),payload:JSON.parse(Af(t[1])),signature:ls(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ow(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Tw(s,t){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await s(l);if(!t(l,null,c)){i(c);return}}catch(c){if(!t(l,c)){a(c);return}}})()})}function Rw(s){return("0"+s.toString(16)).substr(-2)}function Nw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,Rw).join("")}async function Aw(s){const r=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Iw(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Aw(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(s,t,r=!1){const i=Nw();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await as(s,`${t}-code-verifier`,a);const l=await Iw(i);return[l,i===l?"plain":"s256"]}const Dw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lw(s){const t=s.headers.get(Mu);if(!t||!t.match(Dw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $w(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Uw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(s){if(!Mw.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vu(){const s={};return new Proxy(s,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function If(s){return JSON.parse(JSON.stringify(s))}const kr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Bw=[502,503,504];async function Df(s){var t;if(!Pw(s))throw new Bu(kr(s),0);if(Bw.includes(s.status))throw new Bu(kr(s),s.status);let r;try{r=await s.json()}catch(l){throw new jr(kr(l),l)}let i;const a=Lw(s);if(a&&a.getTime()>=tm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Tf(kr(r),s.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new nr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Tf(kr(r),s.status,r.weak_password.reasons);throw new gw(kr(r),s.status||500,i)}const zw=(s,t,r,i)=>{const a={method:s,headers:t?.headers||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ve(s,t,r,i){var a;const l=Object.assign({},i?.headers);l[Mu]||(l[Mu]=tm["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Fw(s,t,r+h,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function Fw(s,t,r,i,a,l){const c=zw(t,i,a,l);let h;try{h=await s(r,Object.assign({},c))}catch(p){throw console.error(p),new Bu(kr(p),0)}if(h.ok||await Df(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await Df(p)}}function sn(s){var t;let r=null;qw(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=kw(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:r,user:i},error:null}}function Lf(s){const t=sn(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function sr(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Ww(s){return{data:s,error:null}}function Vw(s){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=s,c=gs(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function $f(s){return s}function qw(s){return s.access_token&&s.refresh_token&&s.expires_in}const yu=["global","local","others"];class Hw{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=sm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=yu[0]){if(yu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yu.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sr})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=gs(t,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Vw,redirectTo:r?.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,a,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$f});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);m[`${k}Page`]=E}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(de(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){rs(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){rs(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sr})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){rs(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sr})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){rs(t.userId);try{const{data:r,error:i}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){rs(t.userId),rs(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,a,l,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$f});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);m[`${k}Page`]=E}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(de(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Uf(s={}){return{getItem:t=>s[t]||null,setItem:(t,r)=>{s[t]=r},removeItem:t=>{delete s[t]}}}const ss={debug:!!(globalThis&&rm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class im extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kw extends im{}async function Jw(s,t,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(t===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Kw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ss.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function om(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Qw(s){return parseInt(s,16)}function Yw(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function Xw(s){var t;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:p,resources:m,scheme:v,uri:w,version:_}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=om(s.address),P=v?`${v}://${i}`:i,E=s.statement?`${s.statement}
`:"",k=`${P} wants you to sign in with your Ethereum account:
${S}

${E}`;let D=`URI: ${w}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(D+=`
Expiration Time: ${a.toISOString()}`),h&&(D+=`
Not Before: ${h.toISOString()}`),p&&(D+=`
Request ID: ${p}`),m){let N=`
Resources:`;for(const A of m){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);N+=`
- ${A}`}D+=N}return`${k}
${D}`}class qe extends Error{constructor({message:t,code:r,cause:i,name:a}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class aa extends qe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Zw({error:s,options:t}){var r,i,a;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const c=window.location.hostname;if(am(c)){if(l.rp.id!==c)return new qe({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function e_({error:s,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const i=window.location.hostname;if(am(i)){if(r.rpId!==i)return new qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class t_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const n_=new t_;function r_(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:r,excludeCredentials:i}=s,a=gs(s,["challenge","user","excludeCredentials"]),l=ls(t).buffer,c=Object.assign(Object.assign({},r),{id:ls(r.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const m=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:ls(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function s_(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:r}=s,i=gs(s,["challenge","allowCredentials"]),a=ls(t).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:ls(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function i_(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Pr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Pr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function o_(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,i=s.getClientExtensionResults(),a=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Pr(new Uint8Array(a.authenticatorData)),clientDataJSON:Pr(new Uint8Array(a.clientDataJSON)),signature:Pr(new Uint8Array(a.signature)),userHandle:a.userHandle?Pr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function am(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Mf(){var s,t;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function a_(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new aa("Browser returned unexpected credential type",t)}:{data:null,error:new aa("Empty credential response",t)}}catch(t){return{data:null,error:Zw({error:t,options:s})}}}async function l_(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new aa("Browser returned unexpected credential type",t)}:{data:null,error:new aa("Empty credential response",t)}}catch(t){return{data:null,error:e_({error:t,options:s})}}}const u_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},c_={userVerification:"preferred",hints:["security-key"]};function la(...s){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of s)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(t(c)){const h=i[l];t(h)?i[l]=la(h,c):i[l]=la(c)}else i[l]=c}return i}function d_(s,t){return la(u_,s,t||{})}function h_(s,t){return la(c_,s,t||{})}class f_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:h};const p=a??n_.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=d_(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:w}=await a_({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=h_(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:w}=await l_(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn authentication")};try{if(!Mf())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!r)return{data:null,error:new Si("rpId is required for WebAuthn registration")};try{if(!Mf())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new jr("Unexpected error in register",c)}}}}Gw();const p_={url:dw,storageKey:hw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bf(s,t,r){return await r()}const is={};class xi{get jwks(){var t,r;return(r=(t=is[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=is[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:t})}constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xi.nextInstanceID,xi.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},p_),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sm(a.fetch),this.lock=a.lock||Bf,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:It()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Jw:this.lock=Bf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f_(this)},this.persistSession?(a.storage?this.storage=a.storage:rm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uf(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Uf(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${em}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jw(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),It()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),ww(l)){const p=(t=l.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new jr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,a;try{const l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:sn}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,i,a;try{let l;if("email"in t){const{email:v,password:w,options:_}=t;let S=null,P=null;this.flowType==="pkce"&&([S,P]=await ns(this.storage,this.storageKey)),l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:P},xform:sn})}else if("phone"in t){const{phone:v,password:w,options:_}=t;l=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:sn})}else throw new Yo("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:h}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Lf})}else if("phone"in t){const{phone:l,password:c,options:h}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Lf})}else throw new Yo("You must provide either an email or phone number and a password");const{data:i,error:a}=r;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,a,l,c,h,p,m,v,w,_;let S,P;if("message"in t)S=t.message,P=t.signature;else{const{chain:E,wallet:k,statement:D,options:N}=t;let A;if(It())if(typeof k=="object")A=k;else{const he=window;if("ethereum"in he&&typeof he.ethereum=="object"&&"request"in he.ethereum&&typeof he.ethereum.request=="function")A=he.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=k}const U=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),H=await A.request({method:"eth_requestAccounts"}).then(he=>he).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=om(H[0]);let K=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!K){const he=await A.request({method:"eth_chainId"});K=Qw(he)}const Y={domain:U.host,address:M,statement:D,uri:U.href,version:"1",chainId:K,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=Xw(Y),P=await A.request({method:"personal_sign",params:[Yw(S),M]})}try{const{data:E,error:k}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:P},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:sn});if(k)throw k;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ts}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:k})}catch(E){if(de(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var r,i,a,l,c,h,p,m,v,w,_,S;let P,E;if("message"in t)P=t.message,E=t.signature;else{const{chain:k,wallet:D,statement:N,options:A}=t;let U;if(It())if(typeof D=="object")U=D;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))U=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=D}const H=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const M=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),N?{statement:N}:null));let K;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")K=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)K=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)P=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),E=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const M=await U.signMessage(new TextEncoder().encode(P),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:k,error:D}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Pr(E)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:sn});if(D)throw D;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ts}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:D})}catch(k){if(de(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Er(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:sn});if(await tr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new ts}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(de(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:a,access_token:l,nonce:c}=t,h=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:sn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ts}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,a,l,c;try{if("email"in t){const{email:h,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ns(this.storage,this.storageKey));const{error:w}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Yo("You must provide either an email or phone number.")}catch(h){if(de(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var r,i;try{let a,l;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:sn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,i,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await ns(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Ww})}catch(l){if(de(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new nr;const{error:a}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:l}=t,{error:c}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:a,options:l}=t,{data:c,error:h}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new Yo("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<pu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Er(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=vu()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,v))})}return{data:{session:t},error:null}}const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sr}):await this._useSession(async r=>{var i,a,l;const{data:c,error:h}=r;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:sr})})}catch(r){if(de(r))return yw(r)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new nr;const c=a.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await ns(this.storage,this.storageKey));const{data:m,error:v}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:sr});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nr;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:c}=gu(t.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:c,error:h}=r;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new nr;const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!It())throw new Xo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Of("No code detected.");const{data:N,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=t;if(!l||!h||!c||!m)throw new Xo("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(h);let _=v+w;p&&(_=parseInt(p));const S=_-v;S*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const P=_-w;v-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,_,v):v-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,_,v);const{data:E,error:k}=await this._getUser(l);if(k)throw k;const D={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:w,expires_at:_,refresh_token:c,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:t.type},error:null}}catch(i){if(de(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return{error:l};const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(vw(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Cw(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ns(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(de(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var c,h,p,m,v;const{data:w,error:_}=l;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return It()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(de(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:h,token:p,access_token:m,nonce:v}=t,w=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:sn}),{data:_,error:S}=w;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new ts}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)throw c;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Tw(async a=>(a>0&&await Ow(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&mu(l)&&Date.now()+c-i<os})}catch(i){if(this._debug(r,"error",i),de(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),It()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Er(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await as(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c?.user)!==null&&t!==void 0?t:vu()}else if(a&&!a.user&&!a.user){const c=await Er(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await tr(this.storage,this.storageKey+"-user"),await as(this.storage,this.storageKey,a)):a.user=vu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${pu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),mu(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new va;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new nr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),de(l)){const c={data:null,error:l};return mu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,r)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await as(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=If(a);await as(this.storage,this.storageKey,l)}else{const a=If(r);await as(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await tr(this.storage,this.storageKey),await tr(this.storage,this.storageKey+"-code-verifier"),await tr(this.storage,this.storageKey+"-user"),this.userStorage&&await tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${os}ms, refresh threshold is ${Uu} ticks`),a<=Uu&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof im)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await ns(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?{data:null,error:l}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?i_(t.webauthn.credential_response):o_(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:r_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:s_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=gu(a.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(r=a.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const v=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(h=>h.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+mw>a)return i;const{data:l,error:c}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:S,error:P}=await this.getSession();if(P||!S.session)return{data:null,error:P};i=S.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:p}}=gu(i);r?.allowExpired||$w(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:l,header:a,signature:c},error:null}}const v=Uw(a.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,Ew(`${h}.${p}`)))throw new zu("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}}xi.nextInstanceID=0;const m_=xi;class g_ extends m_{constructor(t){super(t)}}class v_{constructor(t,r,i){var a,l,c;this.supabaseUrl=t,this.supabaseKey=r;const h=cw(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:nw,realtime:sw,auth:Object.assign(Object.assign({},rw),{storageKey:p}),global:tw},v=uw(i??{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=aw(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new d0(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new X0(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new t0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,i)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:h,lock:p,debug:m},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g_({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:l,flowType:h,lock:p,debug:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new P0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(t,r,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y_=(s,t,r)=>new v_(s,t,r);function w_(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const t=s.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}w_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const __="https://cerfqcoqvjueyalnrule.supabase.co",S_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNlcmZxY29xdmp1ZXlhbG5ydWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzNjk4ODEsImV4cCI6MjA3Njk0NTg4MX0.lhxh3sHytkSZ0j5-Icixa3WO_iscsJ9PHvz2iqAeRX0";console.log("Supabase URL from env:","Loaded");console.log("Supabase Key from env:","Loaded");const ze=y_(__,S_),lm=b.createContext(),x_=({children:s})=>{const[t,r]=b.useState(null),[i,a]=b.useState(null),[l,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{session:w},error:_}=await ze.auth.getSession();if(_)throw _;if(r(w),w?.user){const{data:S,error:P}=await ze.from("profiles").select("*").eq("id",w.user.id).single();P?(console.error("Ошибка при загрузке профиля пользователя:",P),a(null)):a(S)}else a(null)}catch(w){console.error("Критическая ошибка в AuthProvider при инициализации:",w)}finally{c(!1)}})();const{data:v}=ze.auth.onAuthStateChange(async(w,_)=>{if(r(_),_?.user){const{data:S,error:P}=await ze.from("profiles").select("*").eq("id",_.user.id).single();P?(console.error("Ошибка при обновлении профиля после изменения auth:",P),a(null)):a(S)}else a(null);c(!1)});return()=>{v.subscription.unsubscribe()}},[]);const p={session:t,profile:i,loading:l,updateProfile:async m=>{if(!i)return null;try{const{data:v,error:w}=await ze.from("profiles").update(m).eq("id",i.id).select().single();if(w)throw w;return a(v),v}catch(v){return console.error("Ошибка при обновлении профиля:",v.message),null}},isAdmin:i?.role==="admin"};return g.jsx(lm.Provider,{value:p,children:s})},ac=()=>{const s=b.useContext(lm);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s};function b_(){const[s,t]=b.useState(!1),[r,i]=b.useState(""),[a,l]=b.useState(""),[c,h]=b.useState(!0),[p,m]=b.useState(""),[v,w]=b.useState(""),_=ji(),S=async P=>{P.preventDefault(),t(!0),m(""),w("");try{if(c){const{error:E}=await ze.auth.signInWithPassword({email:r,password:a});if(E)throw E;_("/")}else{const{error:E}=await ze.auth.signUp({email:r,password:a});if(E)throw E;w("Проверьте вашу почту для подтверждения регистрации!")}}catch(E){m(E.message||"Произошла ошибка")}finally{t(!1)}};return g.jsx("div",{className:"login-page-container",children:g.jsxs("form",{onSubmit:S,className:"login-form",children:[g.jsx("h2",{children:c?"Вход":"Регистрация"}),p&&g.jsx("p",{className:"login-error",children:p}),v&&g.jsx("p",{className:"login-message",children:v}),g.jsx("input",{type:"email",placeholder:"Ваш email",value:r,onChange:P=>i(P.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Ваш пароль",value:a,onChange:P=>l(P.target.value),required:!0,minLength:"6"}),g.jsx("button",{type:"submit",disabled:s,children:s?"Загрузка...":c?"Войти":"Зарегистрироваться"}),g.jsx("p",{className:"auth-toggle",onClick:()=>{h(!c),m(""),w("")},children:c?"Нет аккаунта? Зарегистрируйтесь":"Уже есть аккаунт? Войдите"})]})})}const E_={dota:{gameSense:"Game Sense",mechanism:"Mechanism",heroPool:"Hero Pool",teamplay:"Teamplay",impact:"Impact"},cs:{aim:"Aim",movement:"Movement",gameSense:"Game Sense",utility:"Utility",clutch:"Clutch"}},k_=s=>s?s.startsWith("http")?s:`https://cerfqcoqvjueyalnrule.supabase.co/storage/v1/object/public/player_avatars/${s}`:null,ya=({player:s,onCardClick:t,isClickable:r=!0})=>{const{ovr:i,game:a,image_url:l,nickname:c,fullName:h,team:p,stats:m,rarity:v,position:w}=s,_=a?E_[a.toLowerCase()]:{},S=()=>{r&&t&&t(s)},P=k_(l);return g.jsxs("div",{className:`card ${v} ${r?"card-clickable":""}`,onClick:S,children:[g.jsxs("div",{className:"card-top",children:[g.jsx("img",{src:P||"https://via.placeholder.com/300x250/1e1e2f/fff?text=No+Photo",alt:c,className:"player-photo"}),g.jsxs("div",{className:"card-header",children:[g.jsx("div",{className:"card-ovr",children:i}),g.jsx("div",{className:"card-game",children:a&&a.toLowerCase()==="dota"&&w?w.toUpperCase():a?a.toUpperCase():""})]})]}),g.jsxs("div",{className:"card-bottom",children:[g.jsx("h2",{className:"player-nickname",children:c}),g.jsxs("p",{className:"player-info",children:[h," - ",p]}),m&&g.jsx("ul",{className:"player-stats",children:Object.entries(m).map(([E,k])=>g.jsxs("li",{children:[g.jsx("span",{className:"stat-name",children:_[E]||E}),g.jsx("span",{className:"stat-value",children:k})]},E))})]}),g.jsx("div",{className:"card-rarity",children:v})]})},C_=({players:s,onPlayerSelect:t})=>g.jsx("div",{className:"player-list-container",children:s.length===0?g.jsx("p",{children:"Карточки игроков не найдены."}):s.map(r=>g.jsx("div",{className:"player-card-link-wrapper",onClick:()=>t(r),children:g.jsx(ya,{player:r})},r.id))}),Fu={gameSense:50,mechanism:50,heroPool:50,teamplay:50,impact:50},zf={aim:50,movement:50,gameSense:50,utility:50,clutch:50},j_=s=>s?s.startsWith("http")||s.startsWith("blob:")?s:`https://cerfqcoqvjueyalnrule.supabase.co/storage/v1/object/public/player_avatars/${s}`:null,wu=()=>({id:null,ovr:"",game:"dota",image_url:"",nickname:"",fullName:"",team:"",rarity:"common",stats:{...Fu},detailedInfo:"",achievements:[],matchHistory:[],position:"POS 1"}),P_=({onSave:s,onCancel:t,playerToEdit:r})=>{const[i,a]=b.useState(wu()),[l,c]=b.useState(null),[h,p]=b.useState(""),[m,v]=b.useState({year:"",event:"",placing:""}),[w,_]=b.useState({event:"",opponent:"",result:""}),[S,P]=b.useState(null);b.useEffect(()=>{r?(a({...wu(),...r,stats:r.stats||(r.game==="dota"?Fu:zf),achievements:r.achievements||[],matchHistory:r.matchHistory||[]}),p(j_(r.image_url)),c(null)):(a(wu()),p(""),c(null))},[r]);const E=oe=>{const{name:me,value:Se}=oe.target;if(me==="game"&&i.game!==Se){const ge=Se==="dota"?{...Fu}:{...zf};a({...i,game:Se,stats:ge})}else a({...i,[me]:Se})},k=oe=>{const{name:me,value:Se}=oe.target;a({...i,stats:{...i.stats,[me]:parseInt(Se,10)||0}})},D=oe=>{const me=oe.target.files[0];me&&(c(me),p(URL.createObjectURL(me)))},N=oe=>{oe.preventDefault(),s(i,l)},A=b.useMemo(()=>i.achievements?[...i.achievements].sort((oe,me)=>new Date(me.year)-new Date(oe.year)):[],[i.achievements]),U=oe=>v({...m,[oe.target.name]:oe.target.value}),H=oe=>{const me=A[oe],Se=i.achievements.findIndex(ge=>ge===me);P(Se),v(me)},M=()=>{P(null),v({year:"",event:"",placing:""})},K=()=>{if(!m.year||!m.event||!m.placing)return;let oe;S!==null?oe=i.achievements.map((me,Se)=>Se===S?m:me):oe=[...i.achievements||[],m],a({...i,achievements:oe}),M()},Y=oe=>{const me=A[oe],Se=i.achievements.filter(ge=>ge!==me);a({...i,achievements:Se})},he=oe=>_({...w,[oe.target.name]:oe.target.value}),_e=()=>{!w.event||!w.opponent||!w.result||(a({...i,matchHistory:[...i.matchHistory||[],w]}),_({event:"",opponent:"",result:""}))},ye=oe=>a({...i,matchHistory:i.matchHistory.filter((me,Se)=>Se!==oe)}),Pe=()=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Game Sense"})," ",g.jsx("input",{type:"number",name:"gameSense",value:i.stats.gameSense||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Mechanism"})," ",g.jsx("input",{type:"number",name:"mechanism",value:i.stats.mechanism||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Hero Pool"})," ",g.jsx("input",{type:"number",name:"heroPool",value:i.stats.heroPool||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Teamplay"})," ",g.jsx("input",{type:"number",name:"teamplay",value:i.stats.teamplay||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Impact"})," ",g.jsx("input",{type:"number",name:"impact",value:i.stats.impact||"",onChange:k,min:"1",max:"99"})," "]})]}),ke=()=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Aim"})," ",g.jsx("input",{type:"number",name:"aim",value:i.stats.aim||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Movement"})," ",g.jsx("input",{type:"number",name:"movement",value:i.stats.movement||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Game Sense"})," ",g.jsx("input",{type:"number",name:"gameSense",value:i.stats.gameSense||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Utility"})," ",g.jsx("input",{type:"number",name:"utility",value:i.stats.utility||"",onChange:k,min:"1",max:"99"})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Clutch"})," ",g.jsx("input",{type:"number",name:"clutch",value:i.stats.clutch||"",onChange:k,min:"1",max:"99"})," "]})]});return g.jsxs("form",{onSubmit:N,className:"player-form",children:[g.jsx("h2",{children:r?"Редактировать карточку":"Создать новую карточку"}),g.jsx("h3",{children:"Основная информация"}),g.jsxs("div",{className:"form-grid",children:[g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Никнейм"})," ",g.jsx("input",{type:"text",name:"nickname",value:i.nickname,onChange:E,required:!0})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Полное имя"})," ",g.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:E})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Команда"})," ",g.jsx("input",{type:"text",name:"team",value:i.team,onChange:E})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Общий рейтинг (OVR)"})," ",g.jsx("input",{type:"number",name:"ovr",value:i.ovr,onChange:E,min:"1",max:"99",required:!0})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Игра"})," ",g.jsxs("select",{name:"game",value:i.game,onChange:E,children:[" ",g.jsx("option",{value:"dota",children:"Dota 2"})," ",g.jsx("option",{value:"cs",children:"CS"})," "]})," "]}),i.game==="dota"&&g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Позиция (Dota 2)"})," ",g.jsxs("select",{name:"position",value:i.position,onChange:E,children:[" ",g.jsx("option",{value:"POS 1",children:"POS 1"})," ",g.jsx("option",{value:"POS 2",children:"POS 2"})," ",g.jsx("option",{value:"POS 3",children:"POS 3"})," ",g.jsx("option",{value:"POS 4",children:"POS 4"})," ",g.jsx("option",{value:"POS 5",children:"POS 5"})," "]})," "]}),g.jsxs("div",{className:"form-group",children:[" ",g.jsx("label",{children:"Редкость"})," ",g.jsxs("select",{name:"rarity",value:i.rarity,onChange:E,children:[" ",g.jsx("option",{value:"common",children:"Common"})," ",g.jsx("option",{value:"rare",children:"Rare"})," ",g.jsx("option",{value:"epic",children:"Epic"})," ",g.jsx("option",{value:"legendary",children:"Legendary"})," ",g.jsx("option",{value:"icon",children:"Icon"})," "]})," "]}),g.jsxs("div",{className:"form-group full-width",children:[g.jsx("label",{children:"Фотография игрока (выберите файл)"}),g.jsx("input",{type:"file",name:"photo",onChange:D,accept:"image/*"}),h&&g.jsxs("div",{className:"photo-preview-container",children:[g.jsx("p",{children:"Предпросмотр:"}),g.jsx("img",{src:h,alt:"Preview",className:"photo-preview"})]})]})]}),g.jsx("h3",{children:"Статистика"}),g.jsx("div",{className:"form-grid",children:i.game==="dota"?Pe():ke()}),g.jsxs("div",{className:"form-group full-width",children:[" ",g.jsx("h3",{children:"Подробная информация"})," ",g.jsx("textarea",{name:"detailedInfo",value:i.detailedInfo,onChange:E,rows:"5"})," "]}),g.jsxs("div",{className:"dynamic-list-editor",children:[g.jsx("h3",{children:"Достижения"}),g.jsx("div",{className:"admin-item-list",children:A.map((oe,me)=>g.jsxs("div",{className:"admin-list-item",children:[g.jsxs("span",{children:[oe.year," - ",oe.event," - ",g.jsx("strong",{children:oe.placing})]}),g.jsxs("div",{className:"item-actions",children:[g.jsx("button",{type:"button",onClick:()=>H(me),className:"edit-item-btn",children:"✎"}),g.jsx("button",{type:"button",onClick:()=>Y(me),className:"delete-item-btn",children:"×"})]})]},me))}),g.jsxs("div",{className:"add-item-form",children:[g.jsx("input",{type:"date",name:"year",value:m.year,onChange:U}),g.jsx("input",{type:"text",name:"event",value:m.event,onChange:U,placeholder:"Турнир"}),g.jsx("input",{type:"text",name:"placing",value:m.placing,onChange:U,placeholder:"Место"}),g.jsx("button",{type:"button",onClick:K,className:"add-item-btn",children:S!==null?"Обновить":"Добавить"}),S!==null&&g.jsx("button",{type:"button",onClick:M,className:"cancel-edit-btn",children:"Отмена"})]})]}),g.jsxs("div",{className:"dynamic-list-editor",children:[g.jsx("h3",{children:"История матчей"}),g.jsx("div",{className:"admin-item-list",children:i.matchHistory.map((oe,me)=>g.jsxs("div",{className:"admin-list-item",children:[g.jsxs("span",{children:[oe.event," vs ",g.jsx("strong",{children:oe.opponent})," - ",oe.result]}),g.jsx("div",{className:"item-actions",children:g.jsx("button",{type:"button",onClick:()=>ye(me),className:"delete-item-btn",children:"×"})})]},me))}),g.jsxs("div",{className:"add-item-form",children:[g.jsx("input",{type:"text",name:"event",value:w.event,onChange:he,placeholder:"Событие"}),g.jsx("input",{type:"text",name:"opponent",value:w.opponent,onChange:he,placeholder:"Противник"}),g.jsx("input",{type:"text",name:"result",value:w.result,onChange:he,placeholder:"Результат"}),g.jsx("button",{type:"button",onClick:_e,className:"add-item-btn",children:"Добавить"})]})]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"submit",className:"save-btn",children:"Сохранить"}),g.jsx("button",{type:"button",onClick:t,className:"cancel-btn",children:"Отмена"})]})]})};function O_(){for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return b.useMemo(()=>i=>{t.forEach(a=>a(i))},t)}const wa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ws(s){const t=Object.prototype.toString.call(s);return t==="[object Window]"||t==="[object global]"}function lc(s){return"nodeType"in s}function jt(s){var t,r;return s?ws(s)?s:lc(s)&&(t=(r=s.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function uc(s){const{Document:t}=jt(s);return s instanceof t}function Oi(s){return ws(s)?!1:s instanceof jt(s).HTMLElement}function um(s){return s instanceof jt(s).SVGElement}function _s(s){return s?ws(s)?s.document:lc(s)?uc(s)?s:Oi(s)||um(s)?s.ownerDocument:document:document:document}const gn=wa?b.useLayoutEffect:b.useEffect;function cc(s){const t=b.useRef(s);return gn(()=>{t.current=s}),b.useCallback(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.current==null?void 0:t.current(...i)},[])}function T_(){const s=b.useRef(null),t=b.useCallback((i,a)=>{s.current=setInterval(i,a)},[]),r=b.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[t,r]}function bi(s,t){t===void 0&&(t=[s]);const r=b.useRef(s);return gn(()=>{r.current!==s&&(r.current=s)},t),r}function Ti(s,t){const r=b.useRef();return b.useMemo(()=>{const i=s(r.current);return r.current=i,i},[...t])}function ua(s){const t=cc(s),r=b.useRef(null),i=b.useCallback(a=>{a!==r.current&&t?.(a,r.current),r.current=a},[]);return[r,i]}function Wu(s){const t=b.useRef();return b.useEffect(()=>{t.current=s},[s]),t.current}let _u={};function Ri(s,t){return b.useMemo(()=>{if(t)return t;const r=_u[s]==null?0:_u[s]+1;return _u[s]=r,s+"-"+r},[s,t])}function cm(s){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((l,c)=>{const h=Object.entries(c);for(const[p,m]of h){const v=l[p];v!=null&&(l[p]=v+s*m)}return l},{...t})}}const us=cm(1),Ei=cm(-1);function R_(s){return"clientX"in s&&"clientY"in s}function dc(s){if(!s)return!1;const{KeyboardEvent:t}=jt(s.target);return t&&s instanceof t}function N_(s){if(!s)return!1;const{TouchEvent:t}=jt(s.target);return t&&s instanceof t}function Vu(s){if(N_(s)){if(s.touches&&s.touches.length){const{clientX:t,clientY:r}=s.touches[0];return{x:t,y:r}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:t,clientY:r}=s.changedTouches[0];return{x:t,y:r}}}return R_(s)?{x:s.clientX,y:s.clientY}:null}const ki=Object.freeze({Translate:{toString(s){if(!s)return;const{x:t,y:r}=s;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:t,scaleY:r}=s;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(s){if(s)return[ki.Translate.toString(s),ki.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:t,duration:r,easing:i}=s;return t+" "+r+"ms "+i}}}),Ff="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function A_(s){return s.matches(Ff)?s:s.querySelector(Ff)}const I_={display:"none"};function D_(s){let{id:t,value:r}=s;return pt.createElement("div",{id:t,style:I_},r)}function L_(s){let{id:t,announcement:r,ariaLiveType:i="assertive"}=s;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pt.createElement("div",{id:t,style:a,role:"status","aria-live":i,"aria-atomic":!0},r)}function $_(){const[s,t]=b.useState("");return{announce:b.useCallback(i=>{i!=null&&t(i)},[]),announcement:s}}const dm=b.createContext(null);function U_(s){const t=b.useContext(dm);b.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(s)},[s,t])}function M_(){const[s]=b.useState(()=>new Set),t=b.useCallback(i=>(s.add(i),()=>s.delete(i)),[s]);return[b.useCallback(i=>{let{type:a,event:l}=i;s.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[s]),t]}const B_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},z_={onDragStart(s){let{active:t}=s;return"Picked up draggable item "+t.id+"."},onDragOver(s){let{active:t,over:r}=s;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(s){let{active:t,over:r}=s;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(s){let{active:t}=s;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function F_(s){let{announcements:t=z_,container:r,hiddenTextDescribedById:i,screenReaderInstructions:a=B_}=s;const{announce:l,announcement:c}=$_(),h=Ri("DndLiveRegion"),[p,m]=b.useState(!1);if(b.useEffect(()=>{m(!0)},[]),U_(b.useMemo(()=>({onDragStart(w){let{active:_}=w;l(t.onDragStart({active:_}))},onDragMove(w){let{active:_,over:S}=w;t.onDragMove&&l(t.onDragMove({active:_,over:S}))},onDragOver(w){let{active:_,over:S}=w;l(t.onDragOver({active:_,over:S}))},onDragEnd(w){let{active:_,over:S}=w;l(t.onDragEnd({active:_,over:S}))},onDragCancel(w){let{active:_,over:S}=w;l(t.onDragCancel({active:_,over:S}))}}),[l,t])),!p)return null;const v=pt.createElement(pt.Fragment,null,pt.createElement(D_,{id:i,value:a.draggable}),pt.createElement(L_,{id:h,announcement:c}));return r?ci.createPortal(v,r):v}var Ge;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(Ge||(Ge={}));function ca(){}function Wf(s,t){return b.useMemo(()=>({sensor:s,options:t??{}}),[s,t])}function W_(){for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return b.useMemo(()=>[...t].filter(i=>i!=null),[...t])}const ln=Object.freeze({x:0,y:0});function hm(s,t){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function fm(s,t){let{data:{value:r}}=s,{data:{value:i}}=t;return r-i}function V_(s,t){let{data:{value:r}}=s,{data:{value:i}}=t;return i-r}function Vf(s){let{left:t,top:r,height:i,width:a}=s;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+i},{x:t+a,y:r+i}]}function pm(s,t){if(!s||s.length===0)return null;const[r]=s;return r[t]}function qf(s,t,r){return t===void 0&&(t=s.left),r===void 0&&(r=s.top),{x:t+s.width*.5,y:r+s.height*.5}}const q_=s=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=s;const a=qf(t,t.left,t.top),l=[];for(const c of i){const{id:h}=c,p=r.get(h);if(p){const m=hm(qf(p),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(fm)},H_=s=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=s;const a=Vf(t),l=[];for(const c of i){const{id:h}=c,p=r.get(h);if(p){const m=Vf(p),v=a.reduce((_,S,P)=>_+hm(m[P],S),0),w=Number((v/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:w}})}}return l.sort(fm)};function K_(s,t){const r=Math.max(t.top,s.top),i=Math.max(t.left,s.left),a=Math.min(t.left+t.width,s.left+s.width),l=Math.min(t.top+t.height,s.top+s.height),c=a-i,h=l-r;if(i<a&&r<l){const p=t.width*t.height,m=s.width*s.height,v=c*h,w=v/(p+m-v);return Number(w.toFixed(4))}return 0}const J_=s=>{let{collisionRect:t,droppableRects:r,droppableContainers:i}=s;const a=[];for(const l of i){const{id:c}=l,h=r.get(c);if(h){const p=K_(h,t);p>0&&a.push({id:c,data:{droppableContainer:l,value:p}})}}return a.sort(V_)};function G_(s,t,r){return{...s,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function mm(s,t){return s&&t?{x:s.left-t.left,y:s.top-t.top}:ln}function Q_(s){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+s*h.y,bottom:c.bottom+s*h.y,left:c.left+s*h.x,right:c.right+s*h.x}),{...r})}}const Y_=Q_(1);function X_(s){if(s.startsWith("matrix3d(")){const t=s.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(s.startsWith("matrix(")){const t=s.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Z_(s,t,r){const i=X_(t);if(!i)return s;const{scaleX:a,scaleY:l,x:c,y:h}=i,p=s.left-c-(1-a)*parseFloat(r),m=s.top-h-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),v=a?s.width/a:s.width,w=l?s.height/l:s.height;return{width:v,height:w,top:m,right:p+v,bottom:m+w,left:p}}const eS={ignoreTransform:!1};function Ss(s,t){t===void 0&&(t=eS);let r=s.getBoundingClientRect();if(t.ignoreTransform){const{transform:m,transformOrigin:v}=jt(s).getComputedStyle(s);m&&(r=Z_(r,m,v))}const{top:i,left:a,width:l,height:c,bottom:h,right:p}=r;return{top:i,left:a,width:l,height:c,bottom:h,right:p}}function Hf(s){return Ss(s,{ignoreTransform:!0})}function tS(s){const t=s.innerWidth,r=s.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function nS(s,t){return t===void 0&&(t=jt(s).getComputedStyle(s)),t.position==="fixed"}function rS(s,t){t===void 0&&(t=jt(s).getComputedStyle(s));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=t[a];return typeof l=="string"?r.test(l):!1})}function _a(s,t){const r=[];function i(a){if(t!=null&&r.length>=t||!a)return r;if(uc(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Oi(a)||um(a)||r.includes(a))return r;const l=jt(s).getComputedStyle(a);return a!==s&&rS(a,l)&&r.push(a),nS(a,l)?r:i(a.parentNode)}return s?i(s):r}function gm(s){const[t]=_a(s,1);return t??null}function Su(s){return!wa||!s?null:ws(s)?s:lc(s)?uc(s)||s===_s(s).scrollingElement?window:Oi(s)?s:null:null}function vm(s){return ws(s)?s.scrollX:s.scrollLeft}function ym(s){return ws(s)?s.scrollY:s.scrollTop}function qu(s){return{x:vm(s),y:ym(s)}}var Ze;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(Ze||(Ze={}));function wm(s){return!wa||!s?!1:s===document.scrollingElement}function _m(s){const t={x:0,y:0},r=wm(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},i={x:s.scrollWidth-r.width,y:s.scrollHeight-r.height},a=s.scrollTop<=t.y,l=s.scrollLeft<=t.x,c=s.scrollTop>=i.y,h=s.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:i,minScroll:t}}const sS={x:.2,y:.2};function iS(s,t,r,i,a){let{top:l,left:c,right:h,bottom:p}=r;i===void 0&&(i=10),a===void 0&&(a=sS);const{isTop:m,isBottom:v,isLeft:w,isRight:_}=_m(s),S={x:0,y:0},P={x:0,y:0},E={height:t.height*a.y,width:t.width*a.x};return!m&&l<=t.top+E.height?(S.y=Ze.Backward,P.y=i*Math.abs((t.top+E.height-l)/E.height)):!v&&p>=t.bottom-E.height&&(S.y=Ze.Forward,P.y=i*Math.abs((t.bottom-E.height-p)/E.height)),!_&&h>=t.right-E.width?(S.x=Ze.Forward,P.x=i*Math.abs((t.right-E.width-h)/E.width)):!w&&c<=t.left+E.width&&(S.x=Ze.Backward,P.x=i*Math.abs((t.left+E.width-c)/E.width)),{direction:S,speed:P}}function oS(s){if(s===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:t,left:r,right:i,bottom:a}=s.getBoundingClientRect();return{top:t,left:r,right:i,bottom:a,width:s.clientWidth,height:s.clientHeight}}function Sm(s){return s.reduce((t,r)=>us(t,qu(r)),ln)}function aS(s){return s.reduce((t,r)=>t+vm(r),0)}function lS(s){return s.reduce((t,r)=>t+ym(r),0)}function uS(s,t){if(t===void 0&&(t=Ss),!s)return;const{top:r,left:i,bottom:a,right:l}=t(s);gm(s)&&(a<=0||l<=0||r>=window.innerHeight||i>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const cS=[["x",["left","right"],aS],["y",["top","bottom"],lS]];class hc{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=_a(r),a=Sm(i);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,c,h]of cS)for(const p of c)Object.defineProperty(this,p,{get:()=>{const m=h(i),v=a[l]-m;return this.rect[p]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class mi{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=t}add(t,r,i){var a;(a=this.target)==null||a.addEventListener(t,r,i),this.listeners.push([t,r,i])}}function dS(s){const{EventTarget:t}=jt(s);return s instanceof t?s:_s(s)}function xu(s,t){const r=Math.abs(s.x),i=Math.abs(s.y);return typeof t=="number"?Math.sqrt(r**2+i**2)>t:"x"in t&&"y"in t?r>t.x&&i>t.y:"x"in t?r>t.x:"y"in t?i>t.y:!1}var qt;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(qt||(qt={}));function Kf(s){s.preventDefault()}function hS(s){s.stopPropagation()}var xe;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(xe||(xe={}));const xm={start:[xe.Space,xe.Enter],cancel:[xe.Esc],end:[xe.Space,xe.Enter,xe.Tab]},fS=(s,t)=>{let{currentCoordinates:r}=t;switch(s.code){case xe.Right:return{...r,x:r.x+25};case xe.Left:return{...r,x:r.x-25};case xe.Down:return{...r,y:r.y+25};case xe.Up:return{...r,y:r.y-25}}};class fc{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new mi(_s(r)),this.windowListeners=new mi(jt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(qt.Resize,this.handleCancel),this.windowListeners.add(qt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(qt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,i=t.node.current;i&&uS(i),r(ln)}handleKeyDown(t){if(dc(t)){const{active:r,context:i,options:a}=this.props,{keyboardCodes:l=xm,coordinateGetter:c=fS,scrollBehavior:h="smooth"}=a,{code:p}=t;if(l.end.includes(p)){this.handleEnd(t);return}if(l.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:ln;this.referenceCoordinates||(this.referenceCoordinates=v);const w=c(t,{active:r,context:i.current,currentCoordinates:v});if(w){const _=Ei(w,v),S={x:0,y:0},{scrollableAncestors:P}=i.current;for(const E of P){const k=t.code,{isTop:D,isRight:N,isLeft:A,isBottom:U,maxScroll:H,minScroll:M}=_m(E),K=oS(E),Y={x:Math.min(k===xe.Right?K.right-K.width/2:K.right,Math.max(k===xe.Right?K.left:K.left+K.width/2,w.x)),y:Math.min(k===xe.Down?K.bottom-K.height/2:K.bottom,Math.max(k===xe.Down?K.top:K.top+K.height/2,w.y))},he=k===xe.Right&&!N||k===xe.Left&&!A,_e=k===xe.Down&&!U||k===xe.Up&&!D;if(he&&Y.x!==w.x){const ye=E.scrollLeft+_.x,Pe=k===xe.Right&&ye<=H.x||k===xe.Left&&ye>=M.x;if(Pe&&!_.y){E.scrollTo({left:ye,behavior:h});return}Pe?S.x=E.scrollLeft-ye:S.x=k===xe.Right?E.scrollLeft-H.x:E.scrollLeft-M.x,S.x&&E.scrollBy({left:-S.x,behavior:h});break}else if(_e&&Y.y!==w.y){const ye=E.scrollTop+_.y,Pe=k===xe.Down&&ye<=H.y||k===xe.Up&&ye>=M.y;if(Pe&&!_.x){E.scrollTo({top:ye,behavior:h});return}Pe?S.y=E.scrollTop-ye:S.y=k===xe.Down?E.scrollTop-H.y:E.scrollTop-M.y,S.y&&E.scrollBy({top:-S.y,behavior:h});break}}this.handleMove(t,us(Ei(w,this.referenceCoordinates),S))}}}handleMove(t,r){const{onMove:i}=this.props;t.preventDefault(),i(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fc.activators=[{eventName:"onKeyDown",handler:(s,t,r)=>{let{keyboardCodes:i=xm,onActivation:a}=t,{active:l}=r;const{code:c}=s.nativeEvent;if(i.start.includes(c)){const h=l.activatorNode.current;return h&&s.target!==h?!1:(s.preventDefault(),a?.({event:s.nativeEvent}),!0)}return!1}}];function Jf(s){return!!(s&&"distance"in s)}function Gf(s){return!!(s&&"delay"in s)}class pc{constructor(t,r,i){var a;i===void 0&&(i=dS(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:l}=t,{target:c}=l;this.props=t,this.events=r,this.document=_s(c),this.documentListeners=new mi(this.document),this.listeners=new mi(i),this.windowListeners=new mi(jt(c)),this.initialCoordinates=(a=Vu(l))!=null?a:ln,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(qt.Resize,this.handleCancel),this.windowListeners.add(qt.DragStart,Kf),this.windowListeners.add(qt.VisibilityChange,this.handleCancel),this.windowListeners.add(qt.ContextMenu,Kf),this.documentListeners.add(qt.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Gf(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Jf(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:i,onPending:a}=this.props;a(i,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(qt.Click,hS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(qt.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const p=(r=Vu(t))!=null?r:ln,m=Ei(a,p);if(!i&&h){if(Jf(h)){if(h.tolerance!=null&&xu(m,h.tolerance))return this.handleCancel();if(xu(m,h.distance))return this.handleStart()}if(Gf(h)&&xu(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}t.cancelable&&t.preventDefault(),c(p)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===xe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const pS={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mc extends pc{constructor(t){const{event:r}=t,i=_s(r.target);super(t,pS,i)}}mc.activators=[{eventName:"onPointerDown",handler:(s,t)=>{let{nativeEvent:r}=s,{onActivation:i}=t;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const mS={move:{name:"mousemove"},end:{name:"mouseup"}};var Hu;(function(s){s[s.RightClick=2]="RightClick"})(Hu||(Hu={}));class gS extends pc{constructor(t){super(t,mS,_s(t.event.target))}}gS.activators=[{eventName:"onMouseDown",handler:(s,t)=>{let{nativeEvent:r}=s,{onActivation:i}=t;return r.button===Hu.RightClick?!1:(i?.({event:r}),!0)}}];const bu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vS extends pc{constructor(t){super(t,bu)}static setup(){return window.addEventListener(bu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bu.move.name,t)};function t(){}}}vS.activators=[{eventName:"onTouchStart",handler:(s,t)=>{let{nativeEvent:r}=s,{onActivation:i}=t;const{touches:a}=r;return a.length>1?!1:(i?.({event:r}),!0)}}];var gi;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(gi||(gi={}));var da;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(da||(da={}));function yS(s){let{acceleration:t,activator:r=gi.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:c=5,order:h=da.TreeOrder,pointerCoordinates:p,scrollableAncestors:m,scrollableAncestorRects:v,delta:w,threshold:_}=s;const S=_S({delta:w,disabled:!l}),[P,E]=T_(),k=b.useRef({x:0,y:0}),D=b.useRef({x:0,y:0}),N=b.useMemo(()=>{switch(r){case gi.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case gi.DraggableRect:return a}},[r,a,p]),A=b.useRef(null),U=b.useCallback(()=>{const M=A.current;if(!M)return;const K=k.current.x*D.current.x,Y=k.current.y*D.current.y;M.scrollBy(K,Y)},[]),H=b.useMemo(()=>h===da.TreeOrder?[...m].reverse():m,[h,m]);b.useEffect(()=>{if(!l||!m.length||!N){E();return}for(const M of H){if(i?.(M)===!1)continue;const K=m.indexOf(M),Y=v[K];if(!Y)continue;const{direction:he,speed:_e}=iS(M,Y,N,t,_);for(const ye of["x","y"])S[ye][he[ye]]||(_e[ye]=0,he[ye]=0);if(_e.x>0||_e.y>0){E(),A.current=M,P(U,c),k.current=_e,D.current=he;return}}k.current={x:0,y:0},D.current={x:0,y:0},E()},[t,U,i,E,l,c,JSON.stringify(N),JSON.stringify(S),P,m,H,v,JSON.stringify(_)])}const wS={x:{[Ze.Backward]:!1,[Ze.Forward]:!1},y:{[Ze.Backward]:!1,[Ze.Forward]:!1}};function _S(s){let{delta:t,disabled:r}=s;const i=Wu(t);return Ti(a=>{if(r||!i||!a)return wS;const l={x:Math.sign(t.x-i.x),y:Math.sign(t.y-i.y)};return{x:{[Ze.Backward]:a.x[Ze.Backward]||l.x===-1,[Ze.Forward]:a.x[Ze.Forward]||l.x===1},y:{[Ze.Backward]:a.y[Ze.Backward]||l.y===-1,[Ze.Forward]:a.y[Ze.Forward]||l.y===1}}},[r,t,i])}function SS(s,t){const r=t!=null?s.get(t):void 0,i=r?r.node.current:null;return Ti(a=>{var l;return t==null?null:(l=i??a)!=null?l:null},[i,t])}function xS(s,t){return b.useMemo(()=>s.reduce((r,i)=>{const{sensor:a}=i,l=a.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,i)}));return[...r,...l]},[]),[s,t])}var Ci;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(Ci||(Ci={}));var Ku;(function(s){s.Optimized="optimized"})(Ku||(Ku={}));const Qf=new Map;function bS(s,t){let{dragging:r,dependencies:i,config:a}=t;const[l,c]=b.useState(null),{frequency:h,measure:p,strategy:m}=a,v=b.useRef(s),w=k(),_=bi(w),S=b.useCallback(function(D){D===void 0&&(D=[]),!_.current&&c(N=>N===null?D:N.concat(D.filter(A=>!N.includes(A))))},[_]),P=b.useRef(null),E=Ti(D=>{if(w&&!r)return Qf;if(!D||D===Qf||v.current!==s||l!=null){const N=new Map;for(let A of s){if(!A)continue;if(l&&l.length>0&&!l.includes(A.id)&&A.rect.current){N.set(A.id,A.rect.current);continue}const U=A.node.current,H=U?new hc(p(U),U):null;A.rect.current=H,H&&N.set(A.id,H)}return N}return D},[s,l,r,w,p]);return b.useEffect(()=>{v.current=s},[s]),b.useEffect(()=>{w||S()},[r,w]),b.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),b.useEffect(()=>{w||typeof h!="number"||P.current!==null||(P.current=setTimeout(()=>{S(),P.current=null},h))},[h,w,S,...i]),{droppableRects:E,measureDroppableContainers:S,measuringScheduled:l!=null};function k(){switch(m){case Ci.Always:return!1;case Ci.BeforeDragging:return r;default:return!r}}}function bm(s,t){return Ti(r=>s?r||(typeof t=="function"?t(s):s):null,[t,s])}function ES(s,t){return bm(s,t)}function kS(s){let{callback:t,disabled:r}=s;const i=cc(t),a=b.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,r]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function Sa(s){let{callback:t,disabled:r}=s;const i=cc(t),a=b.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[r]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function CS(s){return new hc(Ss(s),s)}function Yf(s,t,r){t===void 0&&(t=CS);const[i,a]=b.useState(null);function l(){a(p=>{if(!s)return null;if(s.isConnected===!1){var m;return(m=p??r)!=null?m:null}const v=t(s);return JSON.stringify(p)===JSON.stringify(v)?p:v})}const c=kS({callback(p){if(s)for(const m of p){const{type:v,target:w}=m;if(v==="childList"&&w instanceof HTMLElement&&w.contains(s)){l();break}}}}),h=Sa({callback:l});return gn(()=>{l(),s?(h?.observe(s),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[s]),i}function jS(s){const t=bm(s);return mm(s,t)}const Xf=[];function PS(s){const t=b.useRef(s),r=Ti(i=>s?i&&i!==Xf&&s&&t.current&&s.parentNode===t.current.parentNode?i:_a(s):Xf,[s]);return b.useEffect(()=>{t.current=s},[s]),r}function OS(s){const[t,r]=b.useState(null),i=b.useRef(s),a=b.useCallback(l=>{const c=Su(l.target);c&&r(h=>h?(h.set(c,qu(c)),new Map(h)):null)},[]);return b.useEffect(()=>{const l=i.current;if(s!==l){c(l);const h=s.map(p=>{const m=Su(p);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,qu(m)]):null}).filter(p=>p!=null);r(h.length?new Map(h):null),i.current=s}return()=>{c(s),c(l)};function c(h){h.forEach(p=>{const m=Su(p);m?.removeEventListener("scroll",a)})}},[a,s]),b.useMemo(()=>s.length?t?Array.from(t.values()).reduce((l,c)=>us(l,c),ln):Sm(s):ln,[s,t])}function Zf(s,t){t===void 0&&(t=[]);const r=b.useRef(null);return b.useEffect(()=>{r.current=null},t),b.useEffect(()=>{const i=s!==ln;i&&!r.current&&(r.current=s),!i&&r.current&&(r.current=null)},[s]),r.current?Ei(s,r.current):ln}function TS(s){b.useEffect(()=>{if(!wa)return;const t=s.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of t)r?.()}},s.map(t=>{let{sensor:r}=t;return r}))}function RS(s,t){return b.useMemo(()=>s.reduce((r,i)=>{let{eventName:a,handler:l}=i;return r[a]=c=>{l(c,t)},r},{}),[s,t])}function Em(s){return b.useMemo(()=>s?tS(s):null,[s])}const ep=[];function NS(s,t){t===void 0&&(t=Ss);const[r]=s,i=Em(r?jt(r):null),[a,l]=b.useState(ep);function c(){l(()=>s.length?s.map(p=>wm(p)?i:new hc(t(p),p)):ep)}const h=Sa({callback:c});return gn(()=>{h?.disconnect(),c(),s.forEach(p=>h?.observe(p))},[s]),a}function AS(s){if(!s)return null;if(s.children.length>1)return s;const t=s.children[0];return Oi(t)?t:s}function IS(s){let{measure:t}=s;const[r,i]=b.useState(null),a=b.useCallback(m=>{for(const{target:v}of m)if(Oi(v)){i(w=>{const _=t(v);return w?{...w,width:_.width,height:_.height}:_});break}},[t]),l=Sa({callback:a}),c=b.useCallback(m=>{const v=AS(m);l?.disconnect(),v&&l?.observe(v),i(v?t(v):null)},[t,l]),[h,p]=ua(c);return b.useMemo(()=>({nodeRef:h,rect:r,setRef:p}),[r,h,p])}const DS=[{sensor:mc,options:{}},{sensor:fc,options:{}}],LS={current:{}},ta={draggable:{measure:Hf},droppable:{measure:Hf,strategy:Ci.WhileDragging,frequency:Ku.Optimized},dragOverlay:{measure:Ss}};class vi extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,i;return(r=(i=this.get(t))==null?void 0:i.node.current)!=null?r:void 0}}const $S={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ca},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ta,measureDroppableContainers:ca,windowRect:null,measuringScheduled:!1},US={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ca,draggableNodes:new Map,over:null,measureDroppableContainers:ca},xa=b.createContext(US),km=b.createContext($S);function MS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vi}}}function BS(s,t){switch(t.type){case Ge.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ge.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:t.coordinates.x-s.draggable.initialCoordinates.x,y:t.coordinates.y-s.draggable.initialCoordinates.y}}};case Ge.DragEnd:case Ge.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ge.RegisterDroppable:{const{element:r}=t,{id:i}=r,a=new vi(s.droppable.containers);return a.set(i,r),{...s,droppable:{...s.droppable,containers:a}}}case Ge.SetDroppableDisabled:{const{id:r,key:i,disabled:a}=t,l=s.droppable.containers.get(r);if(!l||i!==l.key)return s;const c=new vi(s.droppable.containers);return c.set(r,{...l,disabled:a}),{...s,droppable:{...s.droppable,containers:c}}}case Ge.UnregisterDroppable:{const{id:r,key:i}=t,a=s.droppable.containers.get(r);if(!a||i!==a.key)return s;const l=new vi(s.droppable.containers);return l.delete(r),{...s,droppable:{...s.droppable,containers:l}}}default:return s}}function zS(s){let{disabled:t}=s;const{active:r,activatorEvent:i,draggableNodes:a}=b.useContext(xa),l=Wu(i),c=Wu(r?.id);return b.useEffect(()=>{if(!t&&!i&&l&&c!=null){if(!dc(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:p,node:m}=h;if(!p.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[p.current,m.current]){if(!v)continue;const w=A_(v);if(w){w.focus();break}}})}},[i,t,a,c,l]),null}function FS(s,t){let{transform:r,...i}=t;return s!=null&&s.length?s.reduce((a,l)=>l({transform:a,...i}),r):r}function WS(s){return b.useMemo(()=>({draggable:{...ta.draggable,...s?.draggable},droppable:{...ta.droppable,...s?.droppable},dragOverlay:{...ta.dragOverlay,...s?.dragOverlay}}),[s?.draggable,s?.droppable,s?.dragOverlay])}function VS(s){let{activeNode:t,measure:r,initialRect:i,config:a=!0}=s;const l=b.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;gn(()=>{if(!c&&!h||!t){l.current=!1;return}if(l.current||!i)return;const m=t?.node.current;if(!m||m.isConnected===!1)return;const v=r(m),w=mm(v,i);if(c||(w.x=0),h||(w.y=0),l.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const _=gm(m);_&&_.scrollBy({top:w.y,left:w.x})}},[t,c,h,i,r])}const Cm=b.createContext({...ln,scaleX:1,scaleY:1});var rr;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(rr||(rr={}));const qS=b.memo(function(t){var r,i,a,l;let{id:c,accessibility:h,autoScroll:p=!0,children:m,sensors:v=DS,collisionDetection:w=J_,measuring:_,modifiers:S,...P}=t;const E=b.useReducer(BS,void 0,MS),[k,D]=E,[N,A]=M_(),[U,H]=b.useState(rr.Uninitialized),M=U===rr.Initialized,{draggable:{active:K,nodes:Y,translate:he},droppable:{containers:_e}}=k,ye=K!=null?Y.get(K):null,Pe=b.useRef({initial:null,translated:null}),ke=b.useMemo(()=>{var Ie;return K!=null?{id:K,data:(Ie=ye?.data)!=null?Ie:LS,rect:Pe}:null},[K,ye]),oe=b.useRef(null),[me,Se]=b.useState(null),[ge,J]=b.useState(null),te=bi(P,Object.values(P)),G=Ri("DndDescribedBy",c),O=b.useMemo(()=>_e.getEnabled(),[_e]),$=WS(_),{droppableRects:fe,measureDroppableContainers:L,measuringScheduled:F}=bS(O,{dragging:M,dependencies:[he.x,he.y],config:$.droppable}),V=SS(Y,K),se=b.useMemo(()=>ge?Vu(ge):null,[ge]),ae=Dn(),le=ES(V,$.draggable.measure);VS({activeNode:K!=null?Y.get(K):null,config:ae.layoutShiftCompensation,initialRect:le,measure:$.draggable.measure});const ie=Yf(V,$.draggable.measure,le),je=Yf(V?V.parentElement:null),et=b.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:Y,draggingNode:null,draggingNodeRect:null,droppableContainers:_e,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),tt=_e.getNodeFor((r=et.current.over)==null?void 0:r.id),Pt=IS({measure:$.dragOverlay.measure}),yn=(i=Pt.nodeRef.current)!=null?i:V,wn=M?(a=Pt.rect)!=null?a:ie:null,Tr=!!(Pt.nodeRef.current&&Pt.rect),xs=jS(Tr?null:ie),lr=Em(yn?jt(yn):null),yt=PS(M?tt??V:null),Ht=NS(yt),Nn=FS(S,{transform:{x:he.x-xs.x,y:he.y-xs.y,scaleX:1,scaleY:1},activatorEvent:ge,active:ke,activeNodeRect:ie,containerNodeRect:je,draggingNodeRect:wn,over:et.current.over,overlayNodeRect:Pt.rect,scrollableAncestors:yt,scrollableAncestorRects:Ht,windowRect:lr}),bs=se?us(se,he):null,Es=OS(yt),Ni=Zf(Es),Ai=Zf(Es,[ie]),un=us(Nn,Ni),Kt=wn?Y_(wn,Nn):null,An=ke&&Kt?w({active:ke,collisionRect:Kt,droppableRects:fe,droppableContainers:O,pointerCoordinates:bs}):null,In=pm(An,"id"),[wt,Ii]=b.useState(null),Di=Tr?Nn:us(Nn,Ai),Li=G_(Di,(l=wt?.rect)!=null?l:null,ie),ks=b.useRef(null),Rr=b.useCallback((Ie,it)=>{let{sensor:ot,options:Jt}=it;if(oe.current==null)return;const mt=Y.get(oe.current);if(!mt)return;const at=Ie.nativeEvent,_t=new ot({active:oe.current,activeNode:mt,event:at,options:Jt,context:et,onAbort(De){if(!Y.get(De))return;const{onDragAbort:lt}=te.current,Gt={id:De};lt?.(Gt),N({type:"onDragAbort",event:Gt})},onPending(De,$t,lt,Gt){if(!Y.get(De))return;const{onDragPending:cn}=te.current,Ot={id:De,constraint:$t,initialCoordinates:lt,offset:Gt};cn?.(Ot),N({type:"onDragPending",event:Ot})},onStart(De){const $t=oe.current;if($t==null)return;const lt=Y.get($t);if(!lt)return;const{onDragStart:Gt}=te.current,Qt={activatorEvent:at,active:{id:$t,data:lt.data,rect:Pe}};ci.unstable_batchedUpdates(()=>{Gt?.(Qt),H(rr.Initializing),D({type:Ge.DragStart,initialCoordinates:De,active:$t}),N({type:"onDragStart",event:Qt}),Se(ks.current),J(at)})},onMove(De){D({type:Ge.DragMove,coordinates:De})},onEnd:_n(Ge.DragEnd),onCancel:_n(Ge.DragCancel)});ks.current=_t;function _n(De){return async function(){const{active:lt,collisions:Gt,over:Qt,scrollAdjustedTranslate:cn}=et.current;let Ot=null;if(lt&&cn){const{cancelDrop:Sn}=te.current;Ot={activatorEvent:at,active:lt,collisions:Gt,delta:cn,over:Qt},De===Ge.DragEnd&&typeof Sn=="function"&&await Promise.resolve(Sn(Ot))&&(De=Ge.DragCancel)}oe.current=null,ci.unstable_batchedUpdates(()=>{D({type:De}),H(rr.Uninitialized),Ii(null),Se(null),J(null),ks.current=null;const Sn=De===Ge.DragEnd?"onDragEnd":"onDragCancel";if(Ot){const Os=te.current[Sn];Os?.(Ot),N({type:Sn,event:Ot})}})}}},[Y]),Cs=b.useCallback((Ie,it)=>(ot,Jt)=>{const mt=ot.nativeEvent,at=Y.get(Jt);if(oe.current!==null||!at||mt.dndKit||mt.defaultPrevented)return;const _t={active:at};Ie(ot,it.options,_t)===!0&&(mt.dndKit={capturedBy:it.sensor},oe.current=Jt,Rr(ot,it))},[Y,Rr]),Nr=xS(v,Cs);TS(v),gn(()=>{ie&&U===rr.Initializing&&H(rr.Initialized)},[ie,U]),b.useEffect(()=>{const{onDragMove:Ie}=te.current,{active:it,activatorEvent:ot,collisions:Jt,over:mt}=et.current;if(!it||!ot)return;const at={active:it,activatorEvent:ot,collisions:Jt,delta:{x:un.x,y:un.y},over:mt};ci.unstable_batchedUpdates(()=>{Ie?.(at),N({type:"onDragMove",event:at})})},[un.x,un.y]),b.useEffect(()=>{const{active:Ie,activatorEvent:it,collisions:ot,droppableContainers:Jt,scrollAdjustedTranslate:mt}=et.current;if(!Ie||oe.current==null||!it||!mt)return;const{onDragOver:at}=te.current,_t=Jt.get(In),_n=_t&&_t.rect.current?{id:_t.id,rect:_t.rect.current,data:_t.data,disabled:_t.disabled}:null,De={active:Ie,activatorEvent:it,collisions:ot,delta:{x:mt.x,y:mt.y},over:_n};ci.unstable_batchedUpdates(()=>{Ii(_n),at?.(De),N({type:"onDragOver",event:De})})},[In]),gn(()=>{et.current={activatorEvent:ge,active:ke,activeNode:V,collisionRect:Kt,collisions:An,droppableRects:fe,draggableNodes:Y,draggingNode:yn,draggingNodeRect:wn,droppableContainers:_e,over:wt,scrollableAncestors:yt,scrollAdjustedTranslate:un},Pe.current={initial:wn,translated:Kt}},[ke,V,An,Kt,Y,yn,wn,fe,_e,wt,yt,un]),yS({...ae,delta:he,draggingRect:Kt,pointerCoordinates:bs,scrollableAncestors:yt,scrollableAncestorRects:Ht});const js=b.useMemo(()=>({active:ke,activeNode:V,activeNodeRect:ie,activatorEvent:ge,collisions:An,containerNodeRect:je,dragOverlay:Pt,draggableNodes:Y,droppableContainers:_e,droppableRects:fe,over:wt,measureDroppableContainers:L,scrollableAncestors:yt,scrollableAncestorRects:Ht,measuringConfiguration:$,measuringScheduled:F,windowRect:lr}),[ke,V,ie,ge,An,je,Pt,Y,_e,fe,wt,L,yt,Ht,$,F,lr]),Ps=b.useMemo(()=>({activatorEvent:ge,activators:Nr,active:ke,activeNodeRect:ie,ariaDescribedById:{draggable:G},dispatch:D,draggableNodes:Y,over:wt,measureDroppableContainers:L}),[ge,Nr,ke,ie,D,G,Y,wt,L]);return pt.createElement(dm.Provider,{value:A},pt.createElement(xa.Provider,{value:Ps},pt.createElement(km.Provider,{value:js},pt.createElement(Cm.Provider,{value:Li},m)),pt.createElement(zS,{disabled:h?.restoreFocus===!1})),pt.createElement(F_,{...h,hiddenTextDescribedById:G}));function Dn(){const Ie=me?.autoScrollEnabled===!1,it=typeof p=="object"?p.enabled===!1:p===!1,ot=M&&!Ie&&!it;return typeof p=="object"?{...p,enabled:ot}:{enabled:ot}}}),HS=b.createContext(null),tp="button",KS="Draggable";function JS(s){let{id:t,data:r,disabled:i=!1,attributes:a}=s;const l=Ri(KS),{activators:c,activatorEvent:h,active:p,activeNodeRect:m,ariaDescribedById:v,draggableNodes:w,over:_}=b.useContext(xa),{role:S=tp,roleDescription:P="draggable",tabIndex:E=0}=a??{},k=p?.id===t,D=b.useContext(k?Cm:HS),[N,A]=ua(),[U,H]=ua(),M=RS(c,t),K=bi(r);gn(()=>(w.set(t,{id:t,key:l,node:N,activatorNode:U,data:K}),()=>{const he=w.get(t);he&&he.key===l&&w.delete(t)}),[w,t]);const Y=b.useMemo(()=>({role:S,tabIndex:E,"aria-disabled":i,"aria-pressed":k&&S===tp?!0:void 0,"aria-roledescription":P,"aria-describedby":v.draggable}),[i,S,E,k,P,v.draggable]);return{active:p,activatorEvent:h,activeNodeRect:m,attributes:Y,isDragging:k,listeners:i?void 0:M,node:N,over:_,setNodeRef:A,setActivatorNodeRef:H,transform:D}}function GS(){return b.useContext(km)}const QS="Droppable",YS={timeout:25};function XS(s){let{data:t,disabled:r=!1,id:i,resizeObserverConfig:a}=s;const l=Ri(QS),{active:c,dispatch:h,over:p,measureDroppableContainers:m}=b.useContext(xa),v=b.useRef({disabled:r}),w=b.useRef(!1),_=b.useRef(null),S=b.useRef(null),{disabled:P,updateMeasurementsFor:E,timeout:k}={...YS,...a},D=bi(E??i),N=b.useCallback(()=>{if(!w.current){w.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{m(Array.isArray(D.current)?D.current:[D.current]),S.current=null},k)},[k]),A=Sa({callback:N,disabled:P||!c}),U=b.useCallback((Y,he)=>{A&&(he&&(A.unobserve(he),w.current=!1),Y&&A.observe(Y))},[A]),[H,M]=ua(U),K=bi(t);return b.useEffect(()=>{!A||!H.current||(A.disconnect(),w.current=!1,A.observe(H.current))},[H,A]),b.useEffect(()=>(h({type:Ge.RegisterDroppable,element:{id:i,key:l,disabled:r,node:H,rect:_,data:K}}),()=>h({type:Ge.UnregisterDroppable,key:l,id:i})),[i]),b.useEffect(()=>{r!==v.current.disabled&&(h({type:Ge.SetDroppableDisabled,id:i,key:l,disabled:r}),v.current.disabled=r)},[i,l,r,h]),{active:c,rect:_,isOver:p?.id===i,node:H,over:p,setNodeRef:M}}function gc(s,t,r){const i=s.slice();return i.splice(r<0?i.length+r:r,0,i.splice(t,1)[0]),i}function ZS(s,t){return s.reduce((r,i,a)=>{const l=t.get(i);return l&&(r[a]=l),r},Array(s.length))}function Zo(s){return s!==null&&s>=0}function ex(s,t){if(s===t)return!0;if(s.length!==t.length)return!1;for(let r=0;r<s.length;r++)if(s[r]!==t[r])return!1;return!0}function tx(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const jm=s=>{let{rects:t,activeIndex:r,overIndex:i,index:a}=s;const l=gc(t,i,r),c=t[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},ea={scaleX:1,scaleY:1},nx=s=>{var t;let{activeIndex:r,activeNodeRect:i,index:a,rects:l,overIndex:c}=s;const h=(t=l[r])!=null?t:i;if(!h)return null;if(a===r){const m=l[c];return m?{x:0,y:r<c?m.top+m.height-(h.top+h.height):m.top-h.top,...ea}:null}const p=rx(l,a,r);return a>r&&a<=c?{x:0,y:-h.height-p,...ea}:a<r&&a>=c?{x:0,y:h.height+p,...ea}:{x:0,y:0,...ea}};function rx(s,t,r){const i=s[t],a=s[t-1],l=s[t+1];return i?r<t?a?i.top-(a.top+a.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0}const Pm="Sortable",Om=pt.createContext({activeIndex:-1,containerId:Pm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jm,disabled:{draggable:!1,droppable:!1}});function sx(s){let{children:t,id:r,items:i,strategy:a=jm,disabled:l=!1}=s;const{active:c,dragOverlay:h,droppableRects:p,over:m,measureDroppableContainers:v}=GS(),w=Ri(Pm,r),_=h.rect!==null,S=b.useMemo(()=>i.map(M=>typeof M=="object"&&"id"in M?M.id:M),[i]),P=c!=null,E=c?S.indexOf(c.id):-1,k=m?S.indexOf(m.id):-1,D=b.useRef(S),N=!ex(S,D.current),A=k!==-1&&E===-1||N,U=tx(l);gn(()=>{N&&P&&v(S)},[N,S,P,v]),b.useEffect(()=>{D.current=S},[S]);const H=b.useMemo(()=>({activeIndex:E,containerId:w,disabled:U,disableTransforms:A,items:S,overIndex:k,useDragOverlay:_,sortedRects:ZS(S,p),strategy:a}),[E,w,U.draggable,U.droppable,A,S,k,p,_,a]);return pt.createElement(Om.Provider,{value:H},t)}const ix=s=>{let{id:t,items:r,activeIndex:i,overIndex:a}=s;return gc(r,i,a).indexOf(t)},ox=s=>{let{containerId:t,isSorting:r,wasDragging:i,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:p,transition:m}=s;return!m||!i||h!==l&&a===c?!1:r?!0:c!==a&&t===p},ax={duration:200,easing:"ease"},Tm="transform",lx=ki.Transition.toString({property:Tm,duration:0,easing:"linear"}),ux={roleDescription:"sortable"};function cx(s){let{disabled:t,index:r,node:i,rect:a}=s;const[l,c]=b.useState(null),h=b.useRef(r);return gn(()=>{if(!t&&r!==h.current&&i.current){const p=a.current;if(p){const m=Ss(i.current,{ignoreTransform:!0}),v={x:p.left-m.left,y:p.top-m.top,scaleX:p.width/m.width,scaleY:p.height/m.height};(v.x||v.y)&&c(v)}}r!==h.current&&(h.current=r)},[t,r,i,a]),b.useEffect(()=>{l&&c(null)},[l]),l}function dx(s){let{animateLayoutChanges:t=ox,attributes:r,disabled:i,data:a,getNewIndex:l=ix,id:c,strategy:h,resizeObserverConfig:p,transition:m=ax}=s;const{items:v,containerId:w,activeIndex:_,disabled:S,disableTransforms:P,sortedRects:E,overIndex:k,useDragOverlay:D,strategy:N}=b.useContext(Om),A=hx(i,S),U=v.indexOf(c),H=b.useMemo(()=>({sortable:{containerId:w,index:U,items:v},...a}),[w,a,U,v]),M=b.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:K,node:Y,isOver:he,setNodeRef:_e}=XS({id:c,data:H,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...p}}),{active:ye,activatorEvent:Pe,activeNodeRect:ke,attributes:oe,setNodeRef:me,listeners:Se,isDragging:ge,over:J,setActivatorNodeRef:te,transform:G}=JS({id:c,data:H,attributes:{...ux,...r},disabled:A.draggable}),O=O_(_e,me),$=!!ye,fe=$&&!P&&Zo(_)&&Zo(k),L=!D&&ge,F=L&&fe?G:null,se=fe?F??(h??N)({rects:E,activeNodeRect:ke,activeIndex:_,overIndex:k,index:U}):null,ae=Zo(_)&&Zo(k)?l({id:c,items:v,activeIndex:_,overIndex:k}):U,le=ye?.id,ie=b.useRef({activeId:le,items:v,newIndex:ae,containerId:w}),je=v!==ie.current.items,et=t({active:ye,containerId:w,isDragging:ge,isSorting:$,id:c,index:U,items:v,newIndex:ie.current.newIndex,previousItems:ie.current.items,previousContainerId:ie.current.containerId,transition:m,wasDragging:ie.current.activeId!=null}),tt=cx({disabled:!et,index:U,node:Y,rect:K});return b.useEffect(()=>{$&&ie.current.newIndex!==ae&&(ie.current.newIndex=ae),w!==ie.current.containerId&&(ie.current.containerId=w),v!==ie.current.items&&(ie.current.items=v)},[$,ae,w,v]),b.useEffect(()=>{if(le===ie.current.activeId)return;if(le!=null&&ie.current.activeId==null){ie.current.activeId=le;return}const yn=setTimeout(()=>{ie.current.activeId=le},50);return()=>clearTimeout(yn)},[le]),{active:ye,activeIndex:_,attributes:oe,data:H,rect:K,index:U,newIndex:ae,items:v,isOver:he,isSorting:$,isDragging:ge,listeners:Se,node:Y,overIndex:k,over:J,setNodeRef:O,setActivatorNodeRef:te,setDroppableNodeRef:_e,setDraggableNodeRef:me,transform:tt??se,transition:Pt()};function Pt(){if(tt||je&&ie.current.newIndex===U)return lx;if(!(L&&!dc(Pe)||!m)&&($||et))return ki.Transition.toString({...m,property:Tm})}}function hx(s,t){var r,i;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(r=s?.draggable)!=null?r:t.draggable,droppable:(i=s?.droppable)!=null?i:t.droppable}}function ha(s){if(!s)return!1;const t=s.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const fx=[xe.Down,xe.Right,xe.Up,xe.Left],px=(s,t)=>{let{context:{active:r,collisionRect:i,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=t;if(fx.includes(s.code)){if(s.preventDefault(),!r||!i)return;const p=[];l.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const _=a.get(w.id);if(_)switch(s.code){case xe.Down:i.top<_.top&&p.push(w);break;case xe.Up:i.top>_.top&&p.push(w);break;case xe.Left:i.left>_.left&&p.push(w);break;case xe.Right:i.left<_.left&&p.push(w);break}});const m=H_({collisionRect:i,droppableRects:a,droppableContainers:p});let v=pm(m,"id");if(v===c?.id&&m.length>1&&(v=m[1].id),v!=null){const w=l.get(r.id),_=l.get(v),S=_?a.get(_.id):null,P=_?.node.current;if(P&&S&&w&&_){const k=_a(P).some((M,K)=>h[K]!==M),D=Rm(w,_),N=mx(w,_),A=k||!D?{x:0,y:0}:{x:N?i.width-S.width:0,y:N?i.height-S.height:0},U={x:S.left,y:S.top};return A.x&&A.y?U:Ei(U,A)}}}};function Rm(s,t){return!ha(s)||!ha(t)?!1:s.data.current.sortable.containerId===t.data.current.sortable.containerId}function mx(s,t){return!ha(s)||!ha(t)||!Rm(s,t)?!1:s.data.current.sortable.index<t.data.current.sortable.index}const gx=()=>g.jsx("svg",{viewBox:"0 0 20 20",width:"20",style:{fill:"#a9a9c9",cursor:"grab"},children:g.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})}),vx=({player:s,onEdit:t,onDelete:r})=>{const{attributes:i,listeners:a,setNodeRef:l,transform:c,transition:h,isDragging:p}=dx({id:s.id}),m={transform:ki.Transform.toString(c),transition:h,opacity:p?.5:1,boxShadow:p?"0 10px 20px rgba(0,0,0,0.5)":"none",zIndex:p?100:"auto"};return g.jsxs("div",{ref:l,style:m,className:"player-item-admin",children:[g.jsx("div",{className:"drag-handle",...i,...a,children:g.jsx(gx,{})}),g.jsxs("div",{className:"info",children:[g.jsx("strong",{children:s.nickname})," (",s.game.toUpperCase(),") - OVR: ",s.ovr]}),g.jsxs("div",{className:"actions",children:[g.jsx("button",{onClick:()=>t(s),className:"edit-btn",children:"Редактировать"}),g.jsx("button",{onClick:()=>r(s.id),className:"delete-btn",children:"Удалить"})]})]})},yx=({players:s,onAddPlayer:t,onUpdatePlayer:r,onDeletePlayer:i,onReorderPlayers:a})=>{const[l,c]=b.useState(!1),[h,p]=b.useState(null),m=W_(Wf(mc),Wf(fc,{coordinateGetter:px})),v=()=>{p(null),c(!0),window.scrollTo({top:0,behavior:"smooth"})},w=E=>{p(E),c(!0),window.scrollTo({top:0,behavior:"smooth"})},_=(E,k)=>{E.id?r(E,k):t(E,k),c(!1),p(null)},S=()=>{c(!1),p(null)},P=E=>{const{active:k,over:D}=E;if(k.id!==D.id){const N=s.findIndex(H=>H.id===k.id),A=s.findIndex(H=>H.id===D.id),U=gc(s,N,A);a(U)}};return g.jsxs("div",{className:"card-management-section",children:[g.jsx("h2",{children:"Управление карточками игроков"}),!l&&g.jsx("button",{onClick:v,className:"add-player-btn",children:"Добавить новую карточку"}),l&&g.jsx(P_,{onSave:_,onCancel:S,playerToEdit:h}),g.jsxs("div",{className:"players-list-admin",children:[g.jsx("h3",{children:"Список существующих карточек"}),g.jsx(qS,{sensors:m,collisionDetection:q_,onDragEnd:P,children:g.jsx(sx,{items:s.map(E=>E.id),strategy:nx,children:Array.isArray(s)&&s.map(E=>g.jsx(vx,{player:E,onEdit:w,onDelete:i},E.id))})})]})]})},wx=s=>{if(!s)return"";const t=s.toLowerCase();return t.includes("1")||t.includes("1st")?"placing-gold":t.includes("2")||t.includes("2nd")?"placing-silver":t.includes("3")||t.includes("3rd")?"placing-bronze":""},_x=s=>{if(!s)return"";const t=s.trim().charAt(0).toLowerCase();return t==="w"||t==="в"?"result-win":t==="l"||t==="п"?"result-loss":""},Sx=({player:s})=>{const t=ji(),r=s.achievements&&[...s.achievements].sort((i,a)=>new Date(a.year)-new Date(i.year));return g.jsxs("div",{className:"player-detail-page",children:[g.jsx("button",{onClick:()=>t(-1),className:"back-button",children:"← Назад к списку"}),g.jsxs("div",{className:"detail-content",children:[g.jsx("div",{className:"detail-card-container",children:g.jsx(ya,{player:s,isClickable:!1})}),g.jsxs("div",{className:"detail-info",children:[g.jsx("h2",{children:"Подробная информация"}),g.jsx("div",{className:"info-block",children:s.detailedInfo?g.jsx("p",{className:"detailed-description",children:s.detailedInfo}):g.jsx("p",{children:"Подробная информация об игроке еще не добавлена."})}),g.jsx("h2",{children:"История матчей"}),g.jsx("div",{className:"info-block",children:s.matchHistory&&s.matchHistory.length>0?g.jsxs("ul",{className:"data-list",children:[g.jsxs("li",{className:"data-list-header",children:[g.jsx("span",{children:"Событие"}),g.jsx("span",{children:"Противник"}),g.jsx("span",{children:"Результат"})]}),s.matchHistory.map((i,a)=>g.jsxs("li",{className:"data-list-item match-item",children:[g.jsx("span",{className:"match-event",children:i.event}),g.jsx("span",{className:"match-opponent",children:i.opponent}),g.jsx("span",{className:`match-result ${_x(i.result)}`,children:i.result})]},a))]}):g.jsx("p",{children:"История последних матчей еще не добавлена."})}),g.jsx("h2",{children:"Достижения"}),g.jsx("div",{className:"info-block",children:r&&r.length>0?g.jsxs("ul",{className:"data-list",children:[g.jsxs("li",{className:"data-list-header",children:[g.jsx("span",{children:"Дата"}),g.jsx("span",{children:"Событие"}),g.jsx("span",{children:"Место"})]}),r.map((i,a)=>g.jsxs("li",{className:"data-list-item achievement-item",children:[g.jsx("span",{className:"achievement-year",children:i.year}),g.jsx("span",{className:"achievement-event",children:i.event}),g.jsx("span",{className:`achievement-placing ${wx(i.placing)}`,children:i.placing})]},a))]}):g.jsx("p",{children:"Список достижений еще не добавлен."})})]})]})]})},xx=({match:s,userPick:t,onPick:r})=>{const i=s.status==="finished",a=s.status==="upcoming",l=()=>!i||!t?"":t===s.winner?"picked-correct":"picked-incorrect",c=()=>t?i?t===s.winner?"Ваш прогноз верен!":"Ваш прогноз не сбылся":`Вы выбрали: ${t}`:"Сделайте свой прогноз",h=()=>!i||!t?"":t===s.winner?"correct":"incorrect";return g.jsxs("div",{className:`match-card ${l()}`,children:[g.jsxs("div",{className:"match-header",children:[g.jsx("span",{children:new Date(s.matchTime).toLocaleString("ru-RU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),g.jsx("span",{children:s.boFormat})]}),i&&g.jsx("div",{className:"map-results",children:s.maps.map((p,m)=>g.jsxs("div",{className:"map-item",children:[g.jsx("div",{className:"map-name",children:p.name}),g.jsxs("div",{className:"map-score",children:[p.teamAScore," - ",p.teamBScore]})]},m))}),g.jsxs("div",{className:"match-body",children:[g.jsxs("div",{className:`team-container ${a?"selectable":""} ${t===s.teamA.name?"selected":""}`,onClick:()=>a&&r(s.id,s.teamA.name),children:[g.jsx("img",{src:s.teamA.logoUrl,alt:s.teamA.name,className:"team-logo"}),g.jsx("span",{className:"team-name",children:s.teamA.name})]}),g.jsx("div",{className:"final-score",children:i?`${s.teamA.score}:${s.teamB.score}`:"VS"}),g.jsxs("div",{className:`team-container ${a?"selectable":""} ${t===s.teamB.name?"selected":""}`,onClick:()=>a&&r(s.id,s.teamB.name),children:[g.jsx("img",{src:s.teamB.logoUrl,alt:s.teamB.name,className:"team-logo"}),g.jsx("span",{className:"team-name",children:s.teamB.name})]})]}),g.jsx("div",{className:`match-footer ${h()}`,children:c()})]})},bx=({event:s,userPicks:t,onPick:r})=>{const a=(()=>{let l=0;const c=s.matches.filter(h=>h.status==="finished");return c.forEach(h=>{t[h.id]&&t[h.id]===h.winner&&l++}),{correct:l,total:c.length}})();return g.jsxs("div",{className:"event-card",children:[g.jsxs("div",{className:"event-card-header",children:[g.jsx("h2",{children:s.title}),g.jsxs("div",{className:"score",children:["Счет: ",g.jsx("span",{className:"correct",children:a.correct})," / ",g.jsx("span",{className:"total",children:a.total})]})]}),g.jsx("div",{className:"matches-grid",children:s.matches.map(l=>g.jsx(xx,{match:l,userPick:t[l.id],onPick:r},l.id))})]})},Ex=({events:s,userPicks:t,onPick:r})=>g.jsxs("div",{className:"pickem-page",children:[g.jsx("h1",{children:"Pick'em Прогнозы"}),s.length===0?g.jsx("p",{children:"Активных событий для прогнозов пока нет."}):s.map(i=>g.jsx(bx,{event:i,userPicks:t,onPick:r},i.id))]}),np={id:null,matchTime:new Date().toISOString().slice(0,16),boFormat:"BO3",status:"upcoming",teamA:{name:"",logoUrl:"",score:0},teamB:{name:"",logoUrl:"",score:0},maps:[],winner:null},kx=({match:s,onSave:t,onCancel:r})=>{const[i,a]=b.useState(np);b.useEffect(()=>{a(s?{...s}:{...np,id:Date.now()})},[s]);const l=(v,w,_)=>{const{value:S}=v.target;a(w?P=>({...P,[w]:{...P[w],[_]:S}}):P=>({...P,[v.target.name]:S}))},c=(v,w,_)=>{const S=[...i.maps];S[v][w]=_,a(P=>({...P,maps:S}))},h=()=>{a(v=>({...v,maps:[...v.maps,{name:"",teamAScore:0,teamBScore:0}]}))},p=v=>{a(w=>({...w,maps:w.maps.filter((_,S)=>S!==v)}))},m=v=>{v.preventDefault(),t(i)};return g.jsx("div",{className:"modal-backdrop",children:g.jsx("div",{className:"modal-content",children:g.jsxs("form",{onSubmit:m,className:"player-form",children:[g.jsx("h2",{children:s?"Редактировать матч":"Новый матч"}),g.jsxs("div",{className:"form-grid",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Команда A: Имя"}),g.jsx("input",{type:"text",value:i.teamA.name,onChange:v=>l(v,"teamA","name"),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Команда A: URL логотипа"}),g.jsx("input",{type:"text",value:i.teamA.logoUrl,onChange:v=>l(v,"teamA","logoUrl")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Команда B: Имя"}),g.jsx("input",{type:"text",value:i.teamB.name,onChange:v=>l(v,"teamB","name"),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Команда B: URL логотипа"}),g.jsx("input",{type:"text",value:i.teamB.logoUrl,onChange:v=>l(v,"teamB","logoUrl")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Время матча"}),g.jsx("input",{type:"datetime-local",name:"matchTime",value:i.matchTime,onChange:l})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Формат"}),g.jsxs("select",{name:"boFormat",value:i.boFormat,onChange:l,children:[g.jsx("option",{value:"BO1",children:"BO1"}),g.jsx("option",{value:"BO3",children:"BO3"}),g.jsx("option",{value:"BO5",children:"BO5"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Статус"}),g.jsxs("select",{name:"status",value:i.status,onChange:l,children:[g.jsx("option",{value:"upcoming",children:"Ожидается"}),g.jsx("option",{value:"live",children:"В прямом эфире"}),g.jsx("option",{value:"finished",children:"Завершен"})]})]}),i.status==="finished"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Счет команды A"}),g.jsx("input",{type:"number",value:i.teamA.score,onChange:v=>l(v,"teamA","score")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Счет команды B"}),g.jsx("input",{type:"number",value:i.teamB.score,onChange:v=>l(v,"teamB","score")})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Победитель"}),g.jsxs("select",{name:"winner",value:i.winner||"",onChange:l,children:[g.jsx("option",{value:"",children:"Не выбран"}),g.jsx("option",{value:i.teamA.name,children:i.teamA.name}),g.jsx("option",{value:i.teamB.name,children:i.teamB.name})]})]})]})]}),i.status==="finished"&&g.jsxs("div",{children:[g.jsx("h3",{children:"Результаты по картам"}),i.maps.map((v,w)=>g.jsxs("div",{className:"map-editor-row",children:[g.jsx("input",{type:"text",placeholder:"Название карты",value:v.name,onChange:_=>c(w,"name",_.target.value)}),g.jsx("input",{type:"number",placeholder:"Счет A",value:v.teamAScore,onChange:_=>c(w,"teamAScore",_.target.value)}),g.jsx("input",{type:"number",placeholder:"Счет B",value:v.teamBScore,onChange:_=>c(w,"teamBScore",_.target.value)}),g.jsx("button",{type:"button",onClick:()=>p(w),className:"delete-btn",children:"X"})]},w)),g.jsx("button",{type:"button",onClick:h,className:"add-player-btn",style:{marginTop:"10px"},children:"Добавить карту"})]}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"submit",className:"save-btn",children:"Сохранить"}),g.jsx("button",{type:"button",onClick:r,className:"cancel-btn",children:"Отмена"})]})]})})})},Cx=({events:s,onAddEvent:t,onDeleteEvent:r,onSaveMatch:i,onDeleteMatch:a})=>{const[l,c]=b.useState(""),[h,p]=b.useState(!1),[m,v]=b.useState(null),[w,_]=b.useState(null),S=()=>{l.trim()&&(t(l.trim()),c(""))},P=D=>{_(D),v(null),p(!0)},E=(D,N)=>{_(D),v(N),p(!0)},k=D=>{i(w,D),p(!1)};return g.jsxs("div",{className:"admin-panel",children:[g.jsx("h1",{children:"Админ-панель Pick'em"}),g.jsxs("div",{className:"event-form",children:[g.jsx("input",{type:"text",value:l,onChange:D=>c(D.target.value),placeholder:"Название нового события"}),g.jsx("button",{onClick:S,className:"save-btn",children:"Создать событие"})]}),s.map(D=>g.jsxs("div",{className:"admin-event-item",children:[g.jsxs("div",{className:"admin-event-header",children:[g.jsx("h3",{children:D.title}),g.jsxs("div",{children:[g.jsx("button",{onClick:()=>P(D.id),className:"add-player-btn",children:"Добавить матч"}),g.jsx("button",{onClick:()=>r(D.id),className:"delete-btn",children:"Удалить событие"})]})]}),g.jsx("div",{className:"admin-match-list",children:D.matches.map(N=>g.jsxs("div",{className:"admin-match-item",children:[g.jsxs("span",{children:[N.teamA.name," vs ",N.teamB.name," (",N.status,")"]}),g.jsxs("div",{children:[g.jsx("button",{onClick:()=>E(D.id,N),className:"edit-btn",children:"Редактировать"}),g.jsx("button",{onClick:()=>a(D.id,N.id),className:"delete-btn",children:"Удалить"})]})]},N.id))})]},D.id)),h&&g.jsx(kx,{match:m,onSave:k,onCancel:()=>p(!1)})]})},jx=[{amount:1e3,price:"100₽"},{amount:5500,price:"500₽"},{amount:12e3,price:"1000₽"}],Px=({onAddCoins:s})=>g.jsxs("div",{className:"coin-purchase-panel",children:[g.jsx("h2",{children:"Пополнить баланс"}),g.jsx("div",{className:"coin-packages-container",children:jx.map(t=>g.jsxs("div",{className:"coin-package",children:[g.jsxs("div",{className:"package-amount",children:[t.amount.toLocaleString("ru-RU")," коинов"]}),g.jsx("div",{className:"package-price",children:t.price}),g.jsx("button",{className:"buy-coins-btn",onClick:()=>s(t.amount),children:"Купить"})]},t.amount))}),g.jsx("p",{className:"payment-notice",children:"Это симуляция покупки. В будущем здесь будут доступны методы оплаты, такие как YooMoney, банковские карты и другие."})]}),Ox=({cards:s,onClose:t})=>!s||s.length===0?null:g.jsx("div",{className:"modal-overlay",onClick:t,children:g.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[g.jsx("h2",{children:"Поздравляем! Ваш улов:"}),g.jsx("div",{className:"opened-cards-container",children:s.map(r=>g.jsx(ya,{player:r,isClickable:!1},r.id))}),g.jsx("button",{onClick:t,className:"modal-close-btn",children:"Отлично!"})]})}),Tx=({packs:s,userCoins:t,onOpenPack:r,onAddCoins:i})=>{const[a,l]=b.useState(null),c=p=>{const m=r(p.id);m?l(m):alert("Недостаточно коинов!")},h=()=>{l(null)};return g.jsxs("div",{className:"shop-page",children:[g.jsx(Px,{onAddCoins:i}),g.jsx("h1",{children:"Магазин Паков"}),s.length>0?g.jsx("div",{className:"packs-container",children:s.map(p=>g.jsxs("div",{className:"pack-card",children:[g.jsx("h3",{children:p.name}),g.jsx("p",{className:"pack-description",children:p.description}),g.jsxs("div",{className:"pack-footer",children:[g.jsxs("span",{className:"pack-price",children:[p.price.toLocaleString("ru-RU")," коинов"]}),g.jsx("button",{onClick:()=>c(p),disabled:t<p.price,className:"buy-pack-btn",children:"Открыть"})]})]},p.id))}):g.jsx("p",{children:"В данный момент паки не доступны. Загляните позже!"}),g.jsx(Ox,{cards:a,onClose:h})]})},Rx=({packs:s,players:t,onAddPack:r,onUpdatePack:i,onDeletePack:a,onAddCoins:l})=>{const[c,h]=b.useState(!1),[p,m]=b.useState(null),[v,w]=b.useState({id:null,name:"",description:"",price:100,cardsInPack:3,playerPool:[]}),[_,S]=b.useState(1e3);b.useEffect(()=>{p?(w({id:p.id,name:p.name||"",description:p.description||"",price:p.price||100,cardsInPack:p.cardsInPack||3,playerPool:p.playerPool||[]}),h(!0),window.scrollTo({top:0,behavior:"smooth"})):P()},[p]);const P=()=>{w({id:null,name:"",description:"",price:100,cardsInPack:3,playerPool:[]})},E=()=>{m(null),P(),h(!0),window.scrollTo({top:0,behavior:"smooth"})},k=M=>m(M),D=()=>{h(!1),m(null),P()},N=M=>{const{name:K,value:Y}=M.target;w(he=>({...he,[K]:Y}))},A=M=>{w(K=>{const Y=K.playerPool.includes(M)?K.playerPool.filter(he=>he!==M):[...K.playerPool,M];return{...K,playerPool:Y}})},U=M=>{M.preventDefault(),v.id?i(v):r({...v,id:Eu()}),D()},H=M=>{M.preventDefault(),l(_)};return g.jsxs("div",{className:"card-management-section",children:[g.jsxs("div",{className:"admin-issue-coins",children:[g.jsx("h3",{children:"Выдать коины (себе)"}),g.jsxs("form",{className:"issue-coins-form",onSubmit:H,children:[g.jsx("input",{type:"number",value:_,onChange:M=>S(Number(M.target.value)),min:"1",placeholder:"Количество коинов",required:!0}),g.jsx("button",{type:"submit",className:"add-item-btn",children:"Выдать"})]})]}),g.jsx("h2",{children:"Управление Паками"}),!c&&g.jsx("button",{onClick:E,className:"add-player-btn",children:"Добавить новый пак"}),c&&g.jsxs("form",{onSubmit:U,className:"player-form pack-form",children:[g.jsx("h3",{children:p?"Редактировать пак":"Создать новый пак"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Название пака"}),g.jsx("input",{type:"text",name:"name",value:v.name,onChange:N,required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Описание"}),g.jsx("textarea",{name:"description",value:v.description,onChange:N})]}),g.jsxs("div",{className:"form-grid",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Цена (в коинах)"}),g.jsx("input",{type:"number",name:"price",value:v.price,onChange:N,min:"0",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Карточек в паке"}),g.jsx("input",{type:"number",name:"cardsInPack",value:v.cardsInPack,onChange:N,min:"1",required:!0})]})]}),g.jsxs("h3",{children:["Игроки в паке (",v.playerPool.length," выбрано)"]}),g.jsx("p",{className:"pool-notice",children:"Выберите всех игроков, которые могут выпасть из этого пака. Их должно быть больше или равно количеству карточек в паке."}),g.jsx("div",{className:"player-pool-selector",children:t.map(M=>g.jsx("div",{className:`player-pool-item ${v.playerPool.includes(M.id)?"selected":""}`,onClick:()=>A(M.id),children:M.nickname},M.id))}),g.jsxs("div",{className:"form-buttons",children:[g.jsx("button",{type:"submit",className:"save-btn",children:"Сохранить"}),g.jsx("button",{type:"button",onClick:D,className:"cancel-btn",children:"Отмена"})]})]}),g.jsxs("div",{className:"packs-list-admin",children:[g.jsx("h3",{children:"Список существующих паков"}),s.map(M=>g.jsxs("div",{className:"player-item-admin pack-item-admin",children:[g.jsxs("div",{className:"info",children:[g.jsx("strong",{children:M.name})," (",M.price.toLocaleString("ru-RU")," коинов) - ",M.playerPool.length," игроков в пуле"]}),g.jsxs("div",{className:"actions",children:[g.jsx("button",{onClick:()=>k(M),className:"edit-btn",children:"Редактировать"}),g.jsx("button",{onClick:()=>a(M.id),className:"delete-btn",children:"Удалить"})]})]},M.id))]})]})},Nx=()=>{const{profile:s}=ac(),[t,r]=b.useState([]),[i,a]=b.useState(!0);return b.useEffect(()=>{(async()=>{if(!s||!s.collection||s.collection.length===0){a(!1);return}a(!0);const{data:c,error:h}=await ze.from("players").select("*").in("id",s.collection);if(h)console.error("Error fetching inventory:",h);else{const p=s.collection.map(m=>c.find(v=>v.id===m)).filter(Boolean);r(p)}a(!1)})()},[s]),i?g.jsx("div",{className:"profile-page",children:g.jsx("h2",{children:"Загрузка инвентаря..."})}):s?g.jsxs("div",{className:"profile-page",children:[g.jsxs("div",{className:"profile-header",children:[g.jsx("h1",{children:"Мой Профиль"}),g.jsxs("div",{className:"profile-info",children:[g.jsxs("span",{children:["Email: ",s.id?s.id.split("@")[0]+"@...":"..."]}),g.jsxs("span",{className:"profile-coins",children:["Баланс: ",s.coins?.toLocaleString("ru-RU")||0," коинов"]})]})]}),g.jsxs("h2",{children:["Моя коллекция (",t.length," шт.)"]}),t.length>0?g.jsx("div",{className:"inventory-grid",children:t.map((l,c)=>g.jsx(ya,{player:l,isClickable:!1},`${l.id}-${c}`))}):g.jsxs("p",{className:"empty-inventory-message",children:["Ваша коллекция пуста. Отправляйтесь в ",g.jsx("a",{href:"/shop",children:"магазин"}),", чтобы открыть свой первый пак!"]})]}):g.jsx("div",{className:"profile-page",children:g.jsx("h2",{children:"Пожалуйста, войдите, чтобы увидеть свой профиль."})})},Ax=()=>g.jsxs("div",{className:"minigame-page",children:[g.jsx("h1",{children:"Мини-игры"}),g.jsx("p",{children:"Этот раздел находится в разработке."}),g.jsx("div",{className:"placeholder-content",children:g.jsx("p",{children:"Скоро здесь появится что-то интересное!"})})]}),Ix=()=>{const{isAdmin:s,loading:t}=ac();return t?g.jsx("div",{children:"Загрузка..."}):s?g.jsx(Ry,{}):g.jsx(Ty,{to:"/"})};function Dx(){const{session:s,profile:t,isAdmin:r,updateProfile:i,loading:a}=ac(),[l,c]=b.useState([]),[h,p]=b.useState(()=>{try{const L=localStorage.getItem("packs");return L?JSON.parse(L):[]}catch(L){return console.error("Could not parse packs from localStorage",L),[]}}),[m,v]=b.useState([]),[w,_]=b.useState({}),[S,P]=b.useState("popularity"),[E,k]=b.useState("All Teams"),[D,N]=b.useState(""),A=ji(),U=b.useCallback(async()=>{try{const{data:L,error:F}=await ze.from("players").select("*");if(F)throw F;c(L||[]);const{data:V,error:se}=await ze.from("pickem_events").select("*");if(se)throw se;v(V||[])}catch(L){console.error("Ошибка при загрузке публичных данных:",L)}},[]);b.useEffect(()=>{a||U()},[a,U]),b.useEffect(()=>{s?.user?(async()=>{const{data:F,error:V}=await ze.from("user_picks").select("event_id, picks").eq("user_id",s.user.id);if(V)console.error("Ошибка при загрузке прогнозов:",V);else{const se=F.reduce((ae,le)=>(ae[le.event_id]=le.picks,ae),{});_(se)}})():_({})},[s]),b.useEffect(()=>{localStorage.setItem("packs",JSON.stringify(h))},[h]);const H=async L=>{const F=parseInt(L,10);if(!t||isNaN(F)||F<=0){alert("Пожалуйста, войдите в аккаунт и введите корректное число.");return}const V=(t.coins||0)+F,se=await i({coins:V});alert(se?`${F.toLocaleString("ru-RU")} коинов успешно добавлено!`:"Не удалось обновить баланс.")},M=async L=>{if(!L)return null;const F=L.name.split(".").pop(),V=`${Eu()}.${F}`,{error:se}=await ze.storage.from("player_avatars").upload(V,L);return se?(console.error("Ошибка загрузки изображения:",se),null):V},K=async(L,F)=>{const V=await M(F);delete L.id;const se={...L,clicks:0,image_url:V},{data:ae,error:le}=await ze.from("players").insert(se).select().single();le?alert(`Не удалось создать карточку: ${le.message}`):ae&&c(ie=>[...ie,ae])},Y=async(L,F)=>{let V=L.image_url;F&&(V=await M(F));const se={...L,image_url:V},{data:ae,error:le}=await ze.from("players").update(se).eq("id",se.id).select().single();le?alert(`Не удалось обновить карточку: ${le.message}`):ae&&c(ie=>ie.map(je=>je.id===ae.id?ae:je))},he=async L=>{const{error:F}=await ze.from("players").delete().eq("id",L);F?alert(`Не удалось удалить карточку: ${F.message}`):c(V=>V.filter(se=>se.id!==L))},_e=L=>c(L),ye=async L=>{const F=(L.clicks||0)+1;await ze.from("players").update({clicks:F}).eq("id",L.id)},Pe=L=>{ye(L),A(`/player/${L.id}`)},ke=async L=>{const F=h.find(tt=>tt.id===L);if(!t||!F||t.coins<F.price)return alert("Недостаточно коинов или вы не авторизованы!"),null;const V=t.coins-F.price,se=l.filter(tt=>F.playerPool.includes(tt.id));if(se.length<F.cardsInPack)return[];const le=se.sort(()=>.5-Math.random()).slice(0,F.cardsInPack),ie=le.map(tt=>tt.id),je=[...t.collection||[],...ie];return await i({coins:V,collection:je})?le:null},oe=async L=>{const{data:F,error:V}=await ze.from("pickem_events").insert({title:L,matches:[]}).select().single();V?console.error(V):v(se=>[...se,F])},me=async L=>{const{error:F}=await ze.from("pickem_events").delete().eq("id",L);F?console.error(F):v(V=>V.filter(se=>se.id!==L))},Se=async(L,F)=>{const V=m.find(je=>je.id===L);if(!V)return;const ae=V.matches.some(je=>je.id===F.id)?V.matches.map(je=>je.id===F.id?F:je):[...V.matches,{...F,id:Eu()}],{data:le,error:ie}=await ze.from("pickem_events").update({matches:ae}).eq("id",L).select().single();ie?console.error(ie):v(je=>je.map(et=>et.id===le.id?le:et))},ge=async(L,F)=>{const V=m.find(ie=>ie.id===L);if(!V)return;const se=V.matches.filter(ie=>ie.id!==F),{data:ae,error:le}=await ze.from("pickem_events").update({matches:se}).eq("id",L).select().single();le?console.error(le):v(ie=>ie.map(je=>je.id===ae.id?ae:je))},J=async(L,F,V)=>{if(!t){alert("Войдите, чтобы сделать прогноз!");return}const ae={...w[L]||{},[F]:V},{error:le}=await ze.from("user_picks").upsert({user_id:t.id,event_id:L,picks:ae},{onConflict:"user_id, event_id"});le?console.error("Ошибка сохранения прогноза:",le):_(ie=>({...ie,[L]:ae}))},te=b.useMemo(()=>{let L=[...l];if(D.trim()){const F=D.toLowerCase();L=L.filter(V=>V.nickname?.toLowerCase().includes(F)||V.team?.toLowerCase().includes(F))}return E!=="All Teams"&&(L=L.filter(F=>F.team===E)),L.sort((F,V)=>{switch(S){case"popularity":return(V.clicks||0)-(F.clicks||0);case"rating_desc":return V.ovr-F.ovr;case"rating_asc":return F.ovr-V.ovr;default:return 0}}),L},[l,S,E,D]),G=b.useMemo(()=>["All Teams",...Array.from(new Set(l.map(L=>L.team).filter(Boolean))).sort()],[l]),O=()=>{const{playerId:L}=my(),F=l.find(V=>V.id.toString()===L);return F?g.jsx(Sx,{player:F}):g.jsx("h2",{children:"Игрок не найден!"})},$=({isActive:L})=>"nav-button"+(L?" active":""),fe=async()=>{await ze.auth.signOut(),A("/")};return a?g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"24px",backgroundColor:"#282c34",color:"white"},children:"Загрузка..."}):g.jsxs("div",{className:"App",children:[g.jsxs("header",{className:"app-header",children:[g.jsxs("nav",{className:"main-nav",children:[g.jsx(xr,{to:"/",end:!0,className:$,children:"Карточки"}),g.jsx(xr,{to:"/shop",className:$,children:"Магазин"}),g.jsx(xr,{to:"/pickem",className:$,children:"Pick'em"}),g.jsx(xr,{to:"/minigame",className:$,children:"Мини-игры"})]}),g.jsxs("div",{className:"header-right",children:[t&&g.jsx(xr,{to:"/profile",className:"nav-button user-profile-link",children:"Профиль"}),g.jsx("div",{className:"user-coins",children:t?`${t.coins.toLocaleString("ru-RU")} коинов`:""}),s?g.jsxs(g.Fragment,{children:[r&&g.jsx(xr,{to:"/admin/cards",className:"admin-toggle-button",children:"Админ"}),g.jsx("button",{className:"logout-button",onClick:fe,children:"Выйти"})]}):g.jsx(xr,{to:"/login",className:"login-button",children:"Войти"})]})]}),g.jsx("main",{className:"main-content",children:g.jsxs(Ay,{children:[g.jsx(Vt,{path:"/",element:g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"filter-container",children:[g.jsx("div",{className:"search-wrapper",children:g.jsx("input",{type:"text",placeholder:"Поиск по нику или команде...",className:"search-input",value:D,onChange:L=>N(L.target.value)})}),g.jsxs("div",{className:"filter-group",children:[g.jsx("span",{className:"filter-label",children:"Сортировать:"}),g.jsx("button",{onClick:()=>P("popularity"),className:`sort-button ${S==="popularity"?"active":""}`,children:"Популярность"}),g.jsx("button",{onClick:()=>P("rating_desc"),className:`sort-button ${S==="rating_desc"?"active":""}`,children:"Рейтинг ↓"}),g.jsx("button",{onClick:()=>P("rating_asc"),className:`sort-button ${S==="rating_asc"?"active":""}`,children:"Рейтинг ↑"})]}),g.jsxs("div",{className:"filter-group",children:[g.jsx("label",{htmlFor:"team-select",className:"filter-label",children:"Команда:"}),g.jsx("select",{id:"team-select",className:"team-select",value:E,onChange:L=>k(L.target.value),children:G.map(L=>g.jsx("option",{value:L,children:L},L))})]})]}),g.jsx(C_,{players:te,onPlayerSelect:Pe})]})}),g.jsx(Vt,{path:"/player/:playerId",element:g.jsx(O,{})}),g.jsx(Vt,{path:"/shop",element:g.jsx(Tx,{packs:h,userCoins:t?.coins||0,onOpenPack:ke,onAddCoins:H})}),g.jsx(Vt,{path:"/pickem",element:g.jsx(Ex,{events:m,userPicks:w,onPick:J})}),g.jsx(Vt,{path:"/minigame",element:g.jsx(Ax,{})}),g.jsx(Vt,{path:"/profile",element:g.jsx(Nx,{})}),g.jsx(Vt,{path:"/login",element:g.jsx(b_,{})}),g.jsxs(Vt,{path:"/admin",element:g.jsx(Ix,{}),children:[g.jsx(Vt,{path:"cards",element:g.jsx(yx,{players:l,onAddPlayer:K,onUpdatePlayer:Y,onDeletePlayer:he,onReorderPlayers:_e})}),g.jsx(Vt,{path:"packs",element:g.jsx(Rx,{packs:h,players:l,onAddPack:L=>p(F=>[...F,L]),onUpdatePack:L=>p(F=>F.map(V=>V.id===L.id?L:V)),onDeletePack:L=>p(F=>F.filter(V=>V.id!==L)),onAddCoins:H})}),g.jsx(Vt,{path:"pickem",element:g.jsx(Cx,{events:m,onAddEvent:oe,onDeleteEvent:me,onSaveMatch:Se,onDeleteMatch:ge})})]})]})})]})}const Lx=Iv.createRoot(document.getElementById("root"));Lx.render(g.jsx(pt.StrictMode,{children:g.jsx(zy,{children:g.jsxs(x_,{children:[" ",g.jsx(Dx,{})]})})}));
